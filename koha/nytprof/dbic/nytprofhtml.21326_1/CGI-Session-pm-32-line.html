    <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
    <html xmlns="http://www.w3.org/1999/xhtml">
<!--
This file was generated by Devel::NYTProf version 6.02
-->
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="Content-Language" content="en-us" />
    <meta name="robots" content="noindex,nofollow" />
    <title>Profile of CGI/Session.pm</title>
<link rel="stylesheet" type="text/css" href="style.css" />
    <script type="text/javascript" src="js/jquery-min.js"></script> 

    <script type="text/javascript" src="js/jquery-tablesorter-min.js"></script> 
    <link rel="stylesheet" type="text/css" href="js/style-tablesorter.css" />
    <script type="text/javascript">
    // when a column is first clicked on to sort it, use descending order
    // XXX doesn't seem to work (and not just because the tablesorter formatSortingOrder() is broken)
    $.tablesorter.defaults.sortInitialOrder = "desc";
    // add parser through the tablesorter addParser method 
    $.tablesorter.addParser({
        id: 'fmt_time',   // name of this parser
        is: function(s) { 
            return false; // return false so this parser is not auto detected 
        }, 
        format: function(orig) { // format data for normalization 
            // console.log(orig);
            var val = orig.replace(/ns/,'');
            if (val != orig) { return val / (1000*1000*1000); } 
            val = orig.replace(/[Âµµ]s/,''); /* micro */
            if (val != orig) { return val / (1000*1000); } 
            val = orig.replace(/ms/,'');
            if (val != orig) { return val / (1000); }
            val = orig.replace(/([0-9])s/,"$1");
            if (val != orig) { return val; }
            if (orig == '0') { return orig; } 
            var non_number = orig.replace(/^[-+]?[0-9.]+/, '', 'g');
            console.log('no match for fmt_time of '+orig+' (units:'+non_number+' charCodeAt0:'+non_number.charCodeAt(0)+')');
            return orig;
        },
        type: 'numeric' // set type, either numeric or text 
    }); 
    </script> 
</head>

<body > 
<div class="header" style="position: relative; overflow-x: hidden; overflow-y: hidden; z-index: 0; ">
<div class="header_back">
            <a href="index.html">&larr; Index</a>
        </div>
<div class="headerForeground" style="float: left">
    <span class="siteTitle">NYTProf Performance Profile</span>
    <span class="siteSubtitle">&emsp;&emsp;<span>&laquo;&emsp;<span class="mode_btn mode_btn_selected">line view</span>&emsp;&raquo;</span><br />
            For starman worker -M FindBin --max-requests 50 --workers 2 --user=kohadev-koha --group kohadev-koha --pid /var/run/koha/kohadev/plack.pid --daemonize --access-log /var/log/koha/kohadev/plack.log --error-log /var/log/koha/kohadev/plack-error.log -E deployment --socket /var/run/koha/kohadev/plack.sock /etc/koha/sites/kohadev/plack.psgi
        </span>
</div>
<div class="headerForeground" style="float: right; text-align: right">
    <span class="siteTitle">&nbsp;</span>
    <span class="siteSubtitle">Run on Fri Jan  8 14:31:06 2016<br />Reported on Fri Jan  8 14:31:36 2016</span>
</div>
<div style="position: absolute; left: 0px; top: 0%; width: 100%; height: 101%; z-index: -1; background-color: rgb(17, 136, 255); "></div>
<div style="position: absolute; left: 0px; top: 2%; width: 100%; height: 99%; z-index: -1; background-color: rgb(16, 134, 253); "></div>
<div style="position: absolute; left: 0px; top: 4%; width: 100%; height: 97%; z-index: -1; background-color: rgb(16, 133, 252); "></div>
<div style="position: absolute; left: 0px; top: 6%; width: 100%; height: 95%; z-index: -1; background-color: rgb(15, 131, 250); "></div>
<div style="position: absolute; left: 0px; top: 8%; width: 100%; height: 93%; z-index: -1; background-color: rgb(15, 130, 249); "></div>
<div style="position: absolute; left: 0px; top: 10%; width: 100%; height: 91%; z-index: -1; background-color: rgb(15, 129, 248); "></div>
<div style="position: absolute; left: 0px; top: 12%; width: 100%; height: 89%; z-index: -1; background-color: rgb(14, 127, 246); "></div>
<div style="position: absolute; left: 0px; top: 14%; width: 100%; height: 87%; z-index: -1; background-color: rgb(14, 126, 245); "></div>
<div style="position: absolute; left: 0px; top: 16%; width: 100%; height: 85%; z-index: -1; background-color: rgb(14, 125, 244); "></div>
<div style="position: absolute; left: 0px; top: 18%; width: 100%; height: 83%; z-index: -1; background-color: rgb(13, 123, 242); "></div>
<div style="position: absolute; left: 0px; top: 20%; width: 100%; height: 81%; z-index: -1; background-color: rgb(13, 122, 241); "></div>
<div style="position: absolute; left: 0px; top: 22%; width: 100%; height: 79%; z-index: -1; background-color: rgb(13, 121, 240); "></div>
<div style="position: absolute; left: 0px; top: 24%; width: 100%; height: 77%; z-index: -1; background-color: rgb(12, 119, 238); "></div>
<div style="position: absolute; left: 0px; top: 26%; width: 100%; height: 75%; z-index: -1; background-color: rgb(12, 118, 237); "></div>
<div style="position: absolute; left: 0px; top: 28%; width: 100%; height: 73%; z-index: -1; background-color: rgb(12, 116, 235); "></div>
<div style="position: absolute; left: 0px; top: 30%; width: 100%; height: 71%; z-index: -1; background-color: rgb(11, 115, 234); "></div>
<div style="position: absolute; left: 0px; top: 32%; width: 100%; height: 69%; z-index: -1; background-color: rgb(11, 114, 233); "></div>
<div style="position: absolute; left: 0px; top: 34%; width: 100%; height: 67%; z-index: -1; background-color: rgb(11, 112, 231); "></div>
<div style="position: absolute; left: 0px; top: 36%; width: 100%; height: 65%; z-index: -1; background-color: rgb(10, 111, 230); "></div>
<div style="position: absolute; left: 0px; top: 38%; width: 100%; height: 63%; z-index: -1; background-color: rgb(10, 110, 229); "></div>
<div style="position: absolute; left: 0px; top: 40%; width: 100%; height: 61%; z-index: -1; background-color: rgb(10, 108, 227); "></div>
<div style="position: absolute; left: 0px; top: 42%; width: 100%; height: 59%; z-index: -1; background-color: rgb(9, 107, 226); "></div>
<div style="position: absolute; left: 0px; top: 44%; width: 100%; height: 57%; z-index: -1; background-color: rgb(9, 106, 225); "></div>
<div style="position: absolute; left: 0px; top: 46%; width: 100%; height: 55%; z-index: -1; background-color: rgb(9, 104, 223); "></div>
<div style="position: absolute; left: 0px; top: 48%; width: 100%; height: 53%; z-index: -1; background-color: rgb(8, 103, 222); "></div>
<div style="position: absolute; left: 0px; top: 50%; width: 100%; height: 51%; z-index: -1; background-color: rgb(8, 102, 221); "></div>
<div style="position: absolute; left: 0px; top: 52%; width: 100%; height: 49%; z-index: -1; background-color: rgb(8, 100, 219); "></div>
<div style="position: absolute; left: 0px; top: 54%; width: 100%; height: 47%; z-index: -1; background-color: rgb(7, 99, 218); "></div>
<div style="position: absolute; left: 0px; top: 56%; width: 100%; height: 45%; z-index: -1; background-color: rgb(7, 97, 216); "></div>
<div style="position: absolute; left: 0px; top: 58%; width: 100%; height: 43%; z-index: -1; background-color: rgb(7, 96, 215); "></div>
<div style="position: absolute; left: 0px; top: 60%; width: 100%; height: 41%; z-index: -1; background-color: rgb(6, 95, 214); "></div>
<div style="position: absolute; left: 0px; top: 62%; width: 100%; height: 39%; z-index: -1; background-color: rgb(6, 93, 212); "></div>
<div style="position: absolute; left: 0px; top: 64%; width: 100%; height: 37%; z-index: -1; background-color: rgb(6, 92, 211); "></div>
<div style="position: absolute; left: 0px; top: 66%; width: 100%; height: 35%; z-index: -1; background-color: rgb(5, 91, 210); "></div>
<div style="position: absolute; left: 0px; top: 68%; width: 100%; height: 33%; z-index: -1; background-color: rgb(5, 89, 208); "></div>
<div style="position: absolute; left: 0px; top: 70%; width: 100%; height: 31%; z-index: -1; background-color: rgb(5, 88, 207); "></div>
<div style="position: absolute; left: 0px; top: 72%; width: 100%; height: 29%; z-index: -1; background-color: rgb(4, 87, 206); "></div>
<div style="position: absolute; left: 0px; top: 74%; width: 100%; height: 27%; z-index: -1; background-color: rgb(4, 85, 204); "></div>
<div style="position: absolute; left: 0px; top: 76%; width: 100%; height: 25%; z-index: -1; background-color: rgb(4, 84, 203); "></div>
<div style="position: absolute; left: 0px; top: 78%; width: 100%; height: 23%; z-index: -1; background-color: rgb(3, 82, 201); "></div>
<div style="position: absolute; left: 0px; top: 80%; width: 100%; height: 21%; z-index: -1; background-color: rgb(3, 81, 200); "></div>
<div style="position: absolute; left: 0px; top: 82%; width: 100%; height: 19%; z-index: -1; background-color: rgb(3, 80, 199); "></div>
<div style="position: absolute; left: 0px; top: 84%; width: 100%; height: 17%; z-index: -1; background-color: rgb(2, 78, 197); "></div>
<div style="position: absolute; left: 0px; top: 86%; width: 100%; height: 15%; z-index: -1; background-color: rgb(2, 77, 196); "></div>
<div style="position: absolute; left: 0px; top: 88%; width: 100%; height: 13%; z-index: -1; background-color: rgb(2, 76, 195); "></div>
<div style="position: absolute; left: 0px; top: 90%; width: 100%; height: 11%; z-index: -1; background-color: rgb(1, 74, 193); "></div>
<div style="position: absolute; left: 0px; top: 92%; width: 100%; height: 9%; z-index: -1; background-color: rgb(1, 73, 192); "></div>
<div style="position: absolute; left: 0px; top: 94%; width: 100%; height: 7%; z-index: -1; background-color: rgb(1, 72, 191); "></div>
<div style="position: absolute; left: 0px; top: 96%; width: 100%; height: 5%; z-index: -1; background-color: rgb(0, 70, 189); "></div>
<div style="position: absolute; left: 0px; top: 98%; width: 100%; height: 3%; z-index: -1; background-color: rgb(0, 69, 188); "></div>
<div style="position: absolute; left: 0px; top: 100%; width: 100%; height: 1%; z-index: -1; background-color: rgb(0, 68, 187); "></div>
</div>

<div class="body_content"><br />
<table class="file_summary"><tr><td class="h">Filename</td><td align="left"><a href="file:///usr/share/perl5/CGI/Session.pm">/usr/share/perl5/CGI/Session.pm</a></td></tr>
<tr><td class="h">Statements</td><td align="left">Executed 375 statements in 5.80ms</td></tr></table>
        
        <table id="subs_table" border="1" cellpadding="0" class="tablesorter">
        <caption>Subroutines</caption>
        <thead>
        <tr>
        <th>Calls</th>
        <th><span title="Number of Places sub is called from">P</span></th>
        <th><span title="Number of Files sub is called from">F</span></th>
        <th>Exclusive<br />Time</th>
        <th>Inclusive<br />Time</th>
        <th>Subroutine</th>
        </tr>
        </thead>
    <tbody>
<tr><td class="c3">2</td><td class="c3">1</td><td class="c3">1</td><td class="c0"><span title="0.1%">1.43ms</span></td><td class="c0"><span title="0.2%">3.36ms</span></td><td class="sub_name"><span style="display: none;">CGI::Session::::_load_pluggables</span>CGI::Session::<a href="CGI-Session-pm-32-line.html#790">_load_pluggables</a></td></tr>
<tr><td class="c3">2</td><td class="c3">1</td><td class="c3">1</td><td class="c0"><span title="0.0%">569Âµs</span></td><td class="c0"><span title="0.0%">650Âµs</span></td><td class="sub_name"><span style="display: none;">CGI::Session::::parse_dsn</span>CGI::Session::<a href="CGI-Session-pm-32-line.html#143">parse_dsn</a></td></tr>
<tr><td class="c3">1</td><td class="c3">1</td><td class="c3">1</td><td class="c0"><span title="0.0%">297Âµs</span></td><td class="c0"><span title="0.0%">347Âµs</span></td><td class="sub_name"><span style="display: none;">CGI::Session::::BEGIN@4</span>CGI::Session::<a href="CGI-Session-pm-32-line.html#4">BEGIN@4</a></td></tr>
<tr><td class="c3">2</td><td class="c3">1</td><td class="c3">1</td><td class="c0"><span title="0.0%">217Âµs</span></td><td class="c0"><span title="0.2%">5.18ms</span></td><td class="sub_name"><span style="display: none;">CGI::Session::::load</span>CGI::Session::<a href="CGI-Session-pm-32-line.html#633">load</a></td></tr>
<tr><td class="c0">20</td><td class="c0">10</td><td class="c1">2</td><td class="c0"><span title="0.0%">91Âµs</span></td><td class="c1"><span title="0.0%">114Âµs</span></td><td class="sub_name"><span style="display: none;">CGI::Session::::param</span>CGI::Session::<a href="CGI-Session-pm-32-line.html#261">param</a></td></tr>
<tr><td class="c3">2</td><td class="c3">1</td><td class="c3">1</td><td class="c0"><span title="0.0%">82Âµs</span></td><td class="c0"><span title="0.1%">2.18ms</span></td><td class="sub_name"><span style="display: none;">CGI::Session::::flush</span>CGI::Session::<a href="CGI-Session-pm-32-line.html#217">flush</a></td></tr>
<tr><td class="c0">4</td><td class="c1">2</td><td class="c3">1</td><td class="c1"><span title="0.0%">41Âµs</span></td><td class="c1"><span title="0.0%">102Âµs</span></td><td class="sub_name"><span style="display: none;">CGI::Session::::_driver</span>CGI::Session::<a href="CGI-Session-pm-32-line.html#113">_driver</a></td></tr>
<tr><td class="c3">2</td><td class="c3">1</td><td class="c3">1</td><td class="c2"><span title="0.0%">36Âµs</span></td><td class="c0"><span title="0.2%">5.23ms</span></td><td class="sub_name"><span style="display: none;">CGI::Session::::new</span>CGI::Session::<a href="CGI-Session-pm-32-line.html#31">new</a></td></tr>
<tr><td class="c0">5</td><td class="c0">3</td><td class="c1">2</td><td class="c3"><span title="0.0%">29Âµs</span></td><td class="c3"><span title="0.0%">38Âµs</span></td><td class="sub_name"><span style="display: none;">CGI::Session::::id</span>CGI::Session::<a href="CGI-Session-pm-32-line.html#105">id</a></td></tr>
<tr><td class="c0">26</td><td class="c0">4</td><td class="c3">1</td><td class="c3"><span title="0.0%">25Âµs</span></td><td class="c3"><span title="0.0%">25Âµs</span></td><td class="sub_name"><span style="display: none;">CGI::Session::::_test_status</span>CGI::Session::<a href="CGI-Session-pm-32-line.html#212">_test_status</a></td></tr>
<tr><td class="c0">7</td><td class="c1">2</td><td class="c3">1</td><td class="c3"><span title="0.0%">24Âµs</span></td><td class="c3"><span title="0.0%">24Âµs</span></td><td class="sub_name"><span style="display: none;">CGI::Session::::CORE:match</span>CGI::Session::<a href="CGI-Session-pm-32-line.html#CGI__Session__CORE_match">CORE:match</a>&nbsp;(opcode)</td></tr>
<tr><td class="c3">1</td><td class="c3">1</td><td class="c3">1</td><td class="c3"><span title="0.0%">17Âµs</span></td><td class="c3"><span title="0.0%">25Âµs</span></td><td class="sub_name"><span style="display: none;">CGI::Session::::BEGIN@2</span>CGI::Session::<a href="CGI-Session-pm-32-line.html#2">BEGIN@2</a></td></tr>
<tr><td class="c0">4</td><td class="c1">2</td><td class="c3">1</td><td class="c3"><span title="0.0%">15Âµs</span></td><td class="c3"><span title="0.0%">15Âµs</span></td><td class="sub_name"><span style="display: none;">CGI::Session::::_serializer</span>CGI::Session::<a href="CGI-Session-pm-32-line.html#122">_serializer</a></td></tr>
<tr><td class="c3">1</td><td class="c3">1</td><td class="c3">1</td><td class="c3"><span title="0.0%">13Âµs</span></td><td class="c3"><span title="0.0%">46Âµs</span></td><td class="sub_name"><span style="display: none;">CGI::Session::::BEGIN@3</span>CGI::Session::<a href="CGI-Session-pm-32-line.html#3">BEGIN@3</a></td></tr>
<tr><td class="c3">2</td><td class="c1">2</td><td class="c3">1</td><td class="c3"><span title="0.0%">10Âµs</span></td><td class="c0"><span title="0.1%">2.19ms</span></td><td class="sub_name"><span style="display: none;">CGI::Session::::DESTROY</span>CGI::Session::<a href="CGI-Session-pm-32-line.html#92">DESTROY</a></td></tr>
<tr><td class="c0">12</td><td class="c1">2</td><td class="c3">1</td><td class="c3"><span title="0.0%">10Âµs</span></td><td class="c3"><span title="0.0%">10Âµs</span></td><td class="sub_name"><span style="display: none;">CGI::Session::::dataref</span>CGI::Session::<a href="CGI-Session-pm-32-line.html#97">dataref</a></td></tr>
<tr><td class="c1">3</td><td class="c1">2</td><td class="c3">1</td><td class="c3"><span title="0.0%">10Âµs</span></td><td class="c3"><span title="0.0%">10Âµs</span></td><td class="sub_name"><span style="display: none;">CGI::Session::::_set_status</span>CGI::Session::<a href="CGI-Session-pm-32-line.html#194">_set_status</a></td></tr>
<tr><td class="c3">2</td><td class="c3">1</td><td class="c3">1</td><td class="c3"><span title="0.0%">10Âµs</span></td><td class="c3"><span title="0.0%">10Âµs</span></td><td class="sub_name"><span style="display: none;">CGI::Session::::_unset_status</span>CGI::Session::<a href="CGI-Session-pm-32-line.html#201">_unset_status</a></td></tr>
<tr><td class="c3">2</td><td class="c3">1</td><td class="c3">1</td><td class="c3"><span title="0.0%">7Âµs</span></td><td class="c3"><span title="0.0%">7Âµs</span></td><td class="sub_name"><span style="display: none;">CGI::Session::::_set_query_or_sid</span>CGI::Session::<a href="CGI-Session-pm-32-line.html#782">_set_query_or_sid</a></td></tr>
<tr><td class="c3">1</td><td class="c3">1</td><td class="c3">1</td><td class="c3"><span title="0.0%">6Âµs</span></td><td class="c3"><span title="0.0%">6Âµs</span></td><td class="sub_name"><span style="display: none;">CGI::Session::::import</span>CGI::Session::<a href="CGI-Session-pm-32-line.html#17">import</a></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">CGI::Session::::__ANON__[:451]</span>CGI::Session::<a href="CGI-Session-pm-32-line.html#444">__ANON__[:451]</a></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">CGI::Session::::_id_generator</span>CGI::Session::<a href="CGI-Session-pm-32-line.html#129">_id_generator</a></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">CGI::Session::::_reset_status</span>CGI::Session::<a href="CGI-Session-pm-32-line.html#208">_reset_status</a></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">CGI::Session::::_str2seconds</span>CGI::Session::<a href="CGI-Session-pm-32-line.html#1015">_str2seconds</a></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">CGI::Session::::atime</span>CGI::Session::<a href="CGI-Session-pm-32-line.html#108">atime</a></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">CGI::Session::::clear</span>CGI::Session::<a href="CGI-Session-pm-32-line.html#389">clear</a></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">CGI::Session::::close</span>CGI::Session::<a href="CGI-Session-pm-32-line.html#93">close</a></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">CGI::Session::::cookie</span>CGI::Session::<a href="CGI-Session-pm-32-line.html#334">cookie</a></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">CGI::Session::::ctime</span>CGI::Session::<a href="CGI-Session-pm-32-line.html#111">ctime</a></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">CGI::Session::::delete</span>CGI::Session::<a href="CGI-Session-pm-32-line.html#324">delete</a></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">CGI::Session::::dump</span>CGI::Session::<a href="CGI-Session-pm-32-line.html#184">dump</a></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">CGI::Session::::etime</span>CGI::Session::<a href="CGI-Session-pm-32-line.html#967">etime</a></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">CGI::Session::::expire</span>CGI::Session::<a href="CGI-Session-pm-32-line.html#968">expire</a></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">CGI::Session::::find</span>CGI::Session::<a href="CGI-Session-pm-32-line.html#407">find</a></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">CGI::Session::::http_header</span>CGI::Session::<a href="CGI-Session-pm-32-line.html#329">http_header</a></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">CGI::Session::::ip_matches</span>CGI::Session::<a href="CGI-Session-pm-32-line.html#135">ip_matches</a></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">CGI::Session::::is_empty</span>CGI::Session::<a href="CGI-Session-pm-32-line.html#99">is_empty</a></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">CGI::Session::::is_expired</span>CGI::Session::<a href="CGI-Session-pm-32-line.html#101">is_expired</a></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">CGI::Session::::is_new</span>CGI::Session::<a href="CGI-Session-pm-32-line.html#103">is_new</a></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">CGI::Session::::load_param</span>CGI::Session::<a href="CGI-Session-pm-32-line.html#376">load_param</a></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">CGI::Session::::name</span>CGI::Session::<a href="CGI-Session-pm-32-line.html#168">name</a></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">CGI::Session::::query</span>CGI::Session::<a href="CGI-Session-pm-32-line.html#155">query</a></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">CGI::Session::::remote_addr</span>CGI::Session::<a href="CGI-Session-pm-32-line.html#1205">remote_addr</a></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">CGI::Session::::save_param</span>CGI::Session::<a href="CGI-Session-pm-32-line.html#356">save_param</a></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">CGI::Session::::trace</span>CGI::Session::<a href="CGI-Session-pm-32-line.html#258">trace</a></td></tr>
<tr><td class="c3">0</td><td class="c3">0</td><td class="c3">0</td><td class="c3"><span title="0.0%">0s</span></td><td class="c3"><span title="0.0%">0s</span></td><td class="sub_name"><span style="display: none;">CGI::Session::::tracemsg</span>CGI::Session::<a href="CGI-Session-pm-32-line.html#259">tracemsg</a></td></tr>
</tbody></table>
                Call graph for these subroutines as a
                <a href="http://en.wikipedia.org/wiki/Graphviz">Graphviz</a>
                <a href="usr-share-perl5-CGI-Session-pm.dot">dot language file</a>.
            
      <table border="1" cellpadding="0">
      <thead>
      <tr><th>Line</th>
      <th><span title="Number of statements executed">State<br />ments</span></th>
      <th><span title="Time spend executing statements on the line,
        excluding time spent executing statements in any called subroutines">Time<br />on line</span></th>
      <th><span title="Number of subroutines calls">Calls</span></th>
      <th><span title="Time spent in subroutines called (inclusive)">Time<br />in subs</span></th>
      <th class="left_indent_header">Code</th>
      </tr>

      </thead>
      <tbody>
    <tr><td class="h"><a name="1"></a>1</td><td></td><td></td><td></td><td></td><td class="s">package CGI::Session;</td></tr>
<tr><td class="h"><a name="2"></a>2</td><td class="c3">2</td><td class="c0"><span title="Avg 20Âµs">40Âµs</span></td><td class="c3">2</td><td class="c2">33Âµs</td><td class="s"><div class="calls"><div class="calls_in"># spent 25Âµs (17+8) within CGI::Session::BEGIN@2 which was called:
#    once (17Âµs+8Âµs) by C4::Auth::BEGIN@25 at <a href="CGI-Session-pm-32-line.html#2">line 2</a></div></div>use strict;<div class="calls"><div class="calls_out"># spent    25Âµs making 1 call to <a href="CGI-Session-pm-32-line.html#2">CGI::Session::BEGIN@2</a>
# spent     8Âµs making 1 call to <a href="(eval 161)[Text-MicroTemplate-pm-389]-1-line.html#strict__import">strict::import</a></div></div></td></tr>
<tr><td class="h"><a name="3"></a>3</td><td class="c3">2</td><td class="c0"><span title="Avg 38Âµs">76Âµs</span></td><td class="c3">2</td><td class="c0">79Âµs</td><td class="s"><div class="calls"><div class="calls_in"># spent 46Âµs (13+33) within CGI::Session::BEGIN@3 which was called:
#    once (13Âµs+33Âµs) by C4::Auth::BEGIN@25 at <a href="CGI-Session-pm-32-line.html#3">line 3</a></div></div>use Carp;<div class="calls"><div class="calls_out"># spent    46Âµs making 1 call to <a href="CGI-Session-pm-32-line.html#3">CGI::Session::BEGIN@3</a>
# spent    33Âµs making 1 call to <a href="(eval 161)[Text-MicroTemplate-pm-389]-1-line.html#Exporter__import">Exporter::import</a></div></div></td></tr>
<tr><td class="h"><a name="4"></a>4</td><td class="c3">2</td><td class="c0"><span title="Avg 2.12ms">4.25ms</span></td><td class="c3">1</td><td class="c0">347Âµs</td><td class="s"><div class="calls"><div class="calls_in"># spent 347Âµs (297+50) within CGI::Session::BEGIN@4 which was called:
#    once (297Âµs+50Âµs) by C4::Auth::BEGIN@25 at <a href="CGI-Session-pm-32-line.html#4">line 4</a></div></div>use CGI::Session::ErrorHandler;<div class="calls"><div class="calls_out"># spent   347Âµs making 1 call to <a href="CGI-Session-pm-32-line.html#4">CGI::Session::BEGIN@4</a></div></div></td></tr>
<tr><td class="h"><a name="5"></a>5</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="6"></a>6</td><td class="c3">1</td><td class="c0"><span title="Avg 16Âµs">16Âµs</span></td><td></td><td></td><td class="s">@CGI::Session::ISA      = qw( CGI::Session::ErrorHandler );</td></tr>
<tr><td class="h"><a name="7"></a>7</td><td class="c3">1</td><td class="c3"><span title="Avg 1Âµs">1Âµs</span></td><td></td><td></td><td class="s">$CGI::Session::VERSION  = '4.48';</td></tr>
<tr><td class="h"><a name="8"></a>8</td><td class="c3">1</td><td class="c3"><span title="Avg 500ns">500ns</span></td><td></td><td></td><td class="s">$CGI::Session::NAME     = 'CGISESSID';</td></tr>
<tr><td class="h"><a name="9"></a>9</td><td class="c3">1</td><td class="c3"><span title="Avg 300ns">300ns</span></td><td></td><td></td><td class="s">$CGI::Session::IP_MATCH = 0;</td></tr>
<tr><td class="h"><a name="10"></a>10</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="11"></a>11</td><td></td><td></td><td></td><td></td><td class="s">sub STATUS_UNSET    () { 1 &lt;&lt; 0 } # denotes session that's resetted</td></tr>
<tr><td class="h"><a name="12"></a>12</td><td></td><td></td><td></td><td></td><td class="s">sub STATUS_NEW      () { 1 &lt;&lt; 1 } # denotes session that's just created</td></tr>
<tr><td class="h"><a name="13"></a>13</td><td></td><td></td><td></td><td></td><td class="s">sub STATUS_MODIFIED () { 1 &lt;&lt; 2 } # denotes session that needs synchronization</td></tr>
<tr><td class="h"><a name="14"></a>14</td><td></td><td></td><td></td><td></td><td class="s">sub STATUS_DELETED  () { 1 &lt;&lt; 3 } # denotes session that needs deletion</td></tr>
<tr><td class="h"><a name="15"></a>15</td><td></td><td></td><td></td><td></td><td class="s">sub STATUS_EXPIRED  () { 1 &lt;&lt; 4 } # denotes session that was expired.</td></tr>
<tr><td class="h"><a name="16"></a>16</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="17"></a>17</td><td></td><td></td><td></td><td></td><td class="s"><div class="calls"><div class="calls_in"># spent 6Âµs within CGI::Session::import which was called:
#    once (6Âµs+0s) by C4::Auth::BEGIN@25 at <a href="C4-Auth-pm-21-line.html#25">line 25 of C4/Auth.pm</a></div></div>sub import {</td></tr>
<tr><td class="h"><a name="18"></a>18</td><td class="c3">1</td><td class="c3"><span title="Avg 1Âµs">1Âµs</span></td><td></td><td></td><td class="s">    my ($class, @args) = @_;</td></tr>
<tr><td class="h"><a name="19"></a>19</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="20"></a>20</td><td class="c3">1</td><td class="c0"><span title="Avg 10Âµs">10Âµs</span></td><td></td><td></td><td class="s">    return unless @args;</td></tr>
<tr><td class="h"><a name="21"></a>21</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="22"></a>22</td><td></td><td></td><td></td><td></td><td class="s">  ARG:</td></tr>
<tr><td class="h"><a name="23"></a>23</td><td></td><td></td><td></td><td></td><td class="s">    for my $arg (@args) {</td></tr>
<tr><td class="h"><a name="24"></a>24</td><td></td><td></td><td></td><td></td><td class="s">        if ($arg eq '-ip_match') {</td></tr>
<tr><td class="h"><a name="25"></a>25</td><td></td><td></td><td></td><td></td><td class="s">            $CGI::Session::IP_MATCH = 1;</td></tr>
<tr><td class="h"><a name="26"></a>26</td><td></td><td></td><td></td><td></td><td class="s">            last ARG;</td></tr>
<tr><td class="h"><a name="27"></a>27</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="28"></a>28</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="29"></a>29</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="30"></a>30</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="31"></a>31</td><td></td><td></td><td></td><td></td><td class="s"><div class="calls"><div class="calls_in"># spent 5.23ms (36Âµs+5.19) within CGI::Session::new which was called 2 times, avg 2.62ms/call:
# 2 times (36Âµs+5.19ms) by C4::Auth::get_session at <a href="C4-Auth-pm-21-line.html#1705">line 1705 of C4/Auth.pm</a>, avg 2.62ms/call</div></div>sub new {</td></tr>
<tr><td class="h"><a name="32"></a>32</td><td class="c3">2</td><td class="c3"><span title="Avg 1Âµs">3Âµs</span></td><td></td><td></td><td class="s">    my ($class, @args) = @_;</td></tr>
<tr><td class="h"><a name="33"></a>33</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="34"></a>34</td><td class="c3">2</td><td class="c3"><span title="Avg 200ns">400ns</span></td><td></td><td></td><td class="s">    my $self;</td></tr>
<tr><td class="h"><a name="35"></a>35</td><td class="c3">2</td><td class="c3"><span title="Avg 800ns">2Âµs</span></td><td></td><td></td><td class="s">    if (ref $class) {</td></tr>
<tr><td class="h"><a name="36"></a>36</td><td></td><td></td><td></td><td></td><td class="s">        #</td></tr>
<tr><td class="h"><a name="37"></a>37</td><td></td><td></td><td></td><td></td><td class="s">        # Called as an object method as in $session-&gt;new()...</td></tr>
<tr><td class="h"><a name="38"></a>38</td><td></td><td></td><td></td><td></td><td class="s">        #</td></tr>
<tr><td class="h"><a name="39"></a>39</td><td></td><td></td><td></td><td></td><td class="s">        $self  = bless { %$class }, ref( $class );</td></tr>
<tr><td class="h"><a name="40"></a>40</td><td></td><td></td><td></td><td></td><td class="s">        $class = ref $class;</td></tr>
<tr><td class="h"><a name="41"></a>41</td><td></td><td></td><td></td><td></td><td class="s">        $self-&gt;_reset_status();</td></tr>
<tr><td class="h"><a name="42"></a>42</td><td></td><td></td><td></td><td></td><td class="s">        #</td></tr>
<tr><td class="h"><a name="43"></a>43</td><td></td><td></td><td></td><td></td><td class="s">        # Object may still have public data associated with it, but we</td></tr>
<tr><td class="h"><a name="44"></a>44</td><td></td><td></td><td></td><td></td><td class="s">        # don't care about that, since we want to leave that to the</td></tr>
<tr><td class="h"><a name="45"></a>45</td><td></td><td></td><td></td><td></td><td class="s">        # client's disposal. However, if new() was requested on an</td></tr>
<tr><td class="h"><a name="46"></a>46</td><td></td><td></td><td></td><td></td><td class="s">        # expired session, we already know that '_DATA' table is</td></tr>
<tr><td class="h"><a name="47"></a>47</td><td></td><td></td><td></td><td></td><td class="s">        # empty, since it was the job of flush() to empty '_DATA'</td></tr>
<tr><td class="h"><a name="48"></a>48</td><td></td><td></td><td></td><td></td><td class="s">        # after deleting. How do we know flush() was already called on</td></tr>
<tr><td class="h"><a name="49"></a>49</td><td></td><td></td><td></td><td></td><td class="s">        # an expired session? Because load() - constructor always</td></tr>
<tr><td class="h"><a name="50"></a>50</td><td></td><td></td><td></td><td></td><td class="s">        # calls flush() on all to-be expired sessions</td></tr>
<tr><td class="h"><a name="51"></a>51</td><td></td><td></td><td></td><td></td><td class="s">        #</td></tr>
<tr><td class="h"><a name="52"></a>52</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="53"></a>53</td><td></td><td></td><td></td><td></td><td class="s">    else {</td></tr>
<tr><td class="h"><a name="54"></a>54</td><td></td><td></td><td></td><td></td><td class="s">        #</td></tr>
<tr><td class="h"><a name="55"></a>55</td><td></td><td></td><td></td><td></td><td class="s">        # Called as a class method as in CGI::Session-&gt;new()</td></tr>
<tr><td class="h"><a name="56"></a>56</td><td></td><td></td><td></td><td></td><td class="s">        #</td></tr>
<tr><td class="h"><a name="57"></a>57</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="58"></a>58</td><td></td><td></td><td></td><td></td><td class="s">        # Start fresh with error reporting. Errors in past objects shouldn't affect this one. </td></tr>
<tr><td class="h"><a name="59"></a>59</td><td class="c3">2</td><td class="c0"><span title="Avg 5Âµs">10Âµs</span></td><td class="c3">2</td><td class="c3">14Âµs</td><td class="s">        $class-&gt;set_error('');<div class="calls"><div class="calls_out">        # spent    14Âµs making 2 calls to <a href="CGI-Session-ErrorHandler-pm-33-line.html#40">CGI::Session::ErrorHandler::set_error</a>, avg 7Âµs/call</div></div></td></tr>
<tr><td class="h"><a name="60"></a>60</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="61"></a>61</td><td class="c3">2</td><td class="c0"><span title="Avg 4Âµs">8Âµs</span></td><td class="c3">2</td><td class="c0">5.18ms</td><td class="s">        $self = $class-&gt;load( @args );<div class="calls"><div class="calls_out">        # spent  5.18ms making 2 calls to <a href="CGI-Session-pm-32-line.html#633">CGI::Session::load</a>, avg 2.59ms/call</div></div></td></tr>
<tr><td class="h"><a name="62"></a>62</td><td class="c3">2</td><td class="c3"><span title="Avg 550ns">1Âµs</span></td><td></td><td></td><td class="s">        if (not defined $self) {</td></tr>
<tr><td class="h"><a name="63"></a>63</td><td></td><td></td><td></td><td></td><td class="s">            return $class-&gt;set_error( &quot;new(): failed: &quot; . $class-&gt;errstr );</td></tr>
<tr><td class="h"><a name="64"></a>64</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="65"></a>65</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="66"></a>66</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="67"></a>67</td><td class="c3">2</td><td class="c3"><span title="Avg 850ns">2Âµs</span></td><td></td><td></td><td class="s">    my $dataref = $self-&gt;{_DATA};</td></tr>
<tr><td class="h"><a name="68"></a>68</td><td class="c3">2</td><td class="c3"><span title="Avg 400ns">800ns</span></td><td></td><td></td><td class="s">    unless ($dataref-&gt;{_SESSION_ID}) {</td></tr>
<tr><td class="h"><a name="69"></a>69</td><td></td><td></td><td></td><td></td><td class="s">        #</td></tr>
<tr><td class="h"><a name="70"></a>70</td><td></td><td></td><td></td><td></td><td class="s">        # Absence of '_SESSION_ID' can only signal:</td></tr>
<tr><td class="h"><a name="71"></a>71</td><td></td><td></td><td></td><td></td><td class="s">        # * Expired session: Because load() - constructor is required to</td></tr>
<tr><td class="h"><a name="72"></a>72</td><td></td><td></td><td></td><td></td><td class="s">        #                    empty contents of _DATA - table</td></tr>
<tr><td class="h"><a name="73"></a>73</td><td></td><td></td><td></td><td></td><td class="s">        # * Unavailable session: Such sessions are the ones that don't</td></tr>
<tr><td class="h"><a name="74"></a>74</td><td></td><td></td><td></td><td></td><td class="s">        #                    exist on datastore, but are requested by client</td></tr>
<tr><td class="h"><a name="75"></a>75</td><td></td><td></td><td></td><td></td><td class="s">        # * New session: When no specific session is requested to be loaded</td></tr>
<tr><td class="h"><a name="76"></a>76</td><td></td><td></td><td></td><td></td><td class="s">        #</td></tr>
<tr><td class="h"><a name="77"></a>77</td><td></td><td></td><td></td><td></td><td class="s">        my $id = $self-&gt;_id_generator()-&gt;generate_id(</td></tr>
<tr><td class="h"><a name="78"></a>78</td><td></td><td></td><td></td><td></td><td class="s">                                                     $self-&gt;{_DRIVER_ARGS},</td></tr>
<tr><td class="h"><a name="79"></a>79</td><td></td><td></td><td></td><td></td><td class="s">                                                     $self-&gt;{_CLAIMED_ID}</td></tr>
<tr><td class="h"><a name="80"></a>80</td><td></td><td></td><td></td><td></td><td class="s">                                                     );</td></tr>
<tr><td class="h"><a name="81"></a>81</td><td></td><td></td><td></td><td></td><td class="s">        unless (defined $id) {</td></tr>
<tr><td class="h"><a name="82"></a>82</td><td></td><td></td><td></td><td></td><td class="s">            return $self-&gt;set_error( &quot;Couldn't generate new SESSION-ID&quot; );</td></tr>
<tr><td class="h"><a name="83"></a>83</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="84"></a>84</td><td></td><td></td><td></td><td></td><td class="s">        $dataref-&gt;{_SESSION_ID} = $id;</td></tr>
<tr><td class="h"><a name="85"></a>85</td><td></td><td></td><td></td><td></td><td class="s">        $dataref-&gt;{_SESSION_CTIME} = $dataref-&gt;{_SESSION_ATIME} = time();</td></tr>
<tr><td class="h"><a name="86"></a>86</td><td></td><td></td><td></td><td></td><td class="s">        $dataref-&gt;{_SESSION_REMOTE_ADDR} = $ENV{REMOTE_ADDR} || &quot;&quot;;</td></tr>
<tr><td class="h"><a name="87"></a>87</td><td></td><td></td><td></td><td></td><td class="s">        $self-&gt;_set_status( STATUS_NEW );</td></tr>
<tr><td class="h"><a name="88"></a>88</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="89"></a>89</td><td class="c3">2</td><td class="c0"><span title="Avg 4Âµs">7Âµs</span></td><td></td><td></td><td class="s">    return $self;</td></tr>
<tr><td class="h"><a name="90"></a>90</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="91"></a>91</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="92"></a>92</td><td class="c3">2</td><td class="c0"><span title="Avg 6Âµs">12Âµs</span></td><td class="c3">2</td><td class="c0">2.18ms</td><td class="s"><div class="calls"><div class="calls_in"># spent 2.19ms (10Âµs+2.18) within CGI::Session::DESTROY which was called 2 times, avg 1.09ms/call:
#    once (6Âµs+1.90ms) by C4::Auth::checkauth at <a href="C4-Auth-pm-21-line.html#775">line 775 of C4/Auth.pm</a>
#    once (4Âµs+278Âµs) by C4::Search::History::get_from_session at <a href="C4-Auth-pm-21-line.html#390">line 390 of C4/Auth.pm</a></div></div>sub DESTROY         {   $_[0]-&gt;flush()      }<div class="calls"><div class="calls_out"># spent  2.18ms making 2 calls to <a href="CGI-Session-pm-32-line.html#217">CGI::Session::flush</a>, avg 1.09ms/call</div></div></td></tr>
<tr><td class="h"><a name="93"></a>93</td><td></td><td></td><td></td><td></td><td class="s">sub close           {   $_[0]-&gt;flush()      }</td></tr>
<tr><td class="h"><a name="94"></a>94</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="95"></a>95</td><td class="c3">1</td><td class="c3"><span title="Avg 2Âµs">2Âµs</span></td><td></td><td></td><td class="s">*param_hashref      = \&amp;dataref;</td></tr>
<tr><td class="h"><a name="96"></a>96</td><td class="c3">1</td><td class="c3"><span title="Avg 2Âµs">2Âµs</span></td><td></td><td></td><td class="s">my $avoid_single_use_warning = *param_hashref;</td></tr>
<tr><td class="h"><a name="97"></a>97</td><td class="c0">12</td><td class="c0"><span title="Avg 2Âµs">23Âµs</span></td><td></td><td></td><td class="s"><div class="calls"><div class="calls_in"># spent 10Âµs within CGI::Session::dataref which was called 12 times, avg 842ns/call:
# 10 times (9Âµs+0s) by CGI::Session::id at <a href="CGI-Session-pm-32-line.html#105">line 105</a>, avg 860ns/call
#  2 times (2Âµs+0s) by CGI::Session::flush at <a href="CGI-Session-pm-32-line.html#247">line 247</a>, avg 750ns/call</div></div>sub dataref         { $_[0]-&gt;{_DATA}        }</td></tr>
<tr><td class="h"><a name="98"></a>98</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="99"></a>99</td><td></td><td></td><td></td><td></td><td class="s">sub is_empty        { !defined($_[0]-&gt;id)   }</td></tr>
<tr><td class="h"><a name="100"></a>100</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="101"></a>101</td><td></td><td></td><td></td><td></td><td class="s">sub is_expired      { $_[0]-&gt;_test_status( STATUS_EXPIRED ) }</td></tr>
<tr><td class="h"><a name="102"></a>102</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="103"></a>103</td><td></td><td></td><td></td><td></td><td class="s">sub is_new          { $_[0]-&gt;_test_status( STATUS_NEW ) }</td></tr>
<tr><td class="h"><a name="104"></a>104</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="105"></a>105</td><td class="c0">5</td><td class="c0"><span title="Avg 5Âµs">25Âµs</span></td><td class="c0">10</td><td class="c3">9Âµs</td><td class="s"><div class="calls"><div class="calls_in"># spent 38Âµs (29+9) within CGI::Session::id which was called 5 times, avg 8Âµs/call:
# 2 times (11Âµs+3Âµs) by CGI::Session::flush at <a href="CGI-Session-pm-32-line.html#225">line 225</a>, avg 7Âµs/call
# 2 times (9Âµs+3Âµs) by CGI::Session::flush at <a href="CGI-Session-pm-32-line.html#251">line 251</a>, avg 6Âµs/call
#    once (9Âµs+3Âµs) by C4::Auth::checkauth at <a href="C4-Auth-pm-21-line.html#883">line 883 of C4/Auth.pm</a></div></div>sub id              { return defined($_[0]-&gt;dataref) ? $_[0]-&gt;dataref-&gt;{_SESSION_ID}    : undef }<div class="calls"><div class="calls_out"># spent     9Âµs making 10 calls to <a href="CGI-Session-pm-32-line.html#97">CGI::Session::dataref</a>, avg 860ns/call</div></div></td></tr>
<tr><td class="h"><a name="106"></a>106</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="107"></a>107</td><td></td><td></td><td></td><td></td><td class="s"># Last Access Time</td></tr>
<tr><td class="h"><a name="108"></a>108</td><td></td><td></td><td></td><td></td><td class="s">sub atime           { return defined($_[0]-&gt;dataref) ? $_[0]-&gt;dataref-&gt;{_SESSION_ATIME} : undef }</td></tr>
<tr><td class="h"><a name="109"></a>109</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="110"></a>110</td><td></td><td></td><td></td><td></td><td class="s"># Creation Time</td></tr>
<tr><td class="h"><a name="111"></a>111</td><td></td><td></td><td></td><td></td><td class="s">sub ctime           { return defined($_[0]-&gt;dataref) ? $_[0]-&gt;dataref-&gt;{_SESSION_CTIME} : undef }</td></tr>
<tr><td class="h"><a name="112"></a>112</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="113"></a>113</td><td></td><td></td><td></td><td></td><td class="s"><div class="calls"><div class="calls_in"># spent 102Âµs (41+61) within CGI::Session::_driver which was called 4 times, avg 25Âµs/call:
# 2 times (36Âµs+61Âµs) by CGI::Session::load at <a href="CGI-Session-pm-32-line.html#718">line 718</a>, avg 48Âµs/call
# 2 times (5Âµs+0s) by CGI::Session::flush at <a href="CGI-Session-pm-32-line.html#235">line 235</a>, avg 2Âµs/call</div></div>sub _driver {</td></tr>
<tr><td class="h"><a name="114"></a>114</td><td class="c0">4</td><td class="c3"><span title="Avg 400ns">2Âµs</span></td><td></td><td></td><td class="s">    my $self = shift;</td></tr>
<tr><td class="h"><a name="115"></a>115</td><td class="c0">4</td><td class="c0"><span title="Avg 5Âµs">19Âµs</span></td><td></td><td></td><td class="s">    defined($self-&gt;{_OBJECTS}-&gt;{driver}) and return $self-&gt;{_OBJECTS}-&gt;{driver};</td></tr>
<tr><td class="h"><a name="116"></a>116</td><td class="c3">2</td><td class="c2"><span title="Avg 2Âµs">4Âµs</span></td><td></td><td></td><td class="s">    my $pm = &quot;CGI::Session::Driver::&quot; . $self-&gt;{_DSN}-&gt;{driver};</td></tr>
<tr><td class="h"><a name="117"></a>117</td><td class="c3">2</td><td class="c0"><span title="Avg 6Âµs">12Âµs</span></td><td class="c3">2</td><td class="c0">61Âµs</td><td class="s">    defined($self-&gt;{_OBJECTS}-&gt;{driver} = $pm-&gt;new( $self-&gt;{_DRIVER_ARGS} ))<div class="calls"><div class="calls_out">    # spent    61Âµs making 2 calls to <a href="CGI-Session-Driver-pm-1274-line.html#12">CGI::Session::Driver::new</a>, avg 30Âµs/call</div></div></td></tr>
<tr><td class="h"><a name="118"></a>118</td><td></td><td></td><td></td><td></td><td class="s">        or die $pm-&gt;errstr();</td></tr>
<tr><td class="h"><a name="119"></a>119</td><td class="c3">2</td><td class="c1"><span title="Avg 3Âµs">6Âµs</span></td><td></td><td></td><td class="s">    return $self-&gt;{_OBJECTS}-&gt;{driver};</td></tr>
<tr><td class="h"><a name="120"></a>120</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="121"></a>121</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="122"></a>122</td><td></td><td></td><td></td><td></td><td class="s"><div class="calls"><div class="calls_in"># spent 15Âµs within CGI::Session::_serializer which was called 4 times, avg 4Âµs/call:
# 2 times (10Âµs+0s) by CGI::Session::load at <a href="CGI-Session-pm-32-line.html#727">line 727</a>, avg 5Âµs/call
# 2 times (4Âµs+0s) by CGI::Session::flush at <a href="CGI-Session-pm-32-line.html#236">line 236</a>, avg 2Âµs/call</div></div>sub _serializer     { </td></tr>
<tr><td class="h"><a name="123"></a>123</td><td class="c0">4</td><td class="c3"><span title="Avg 375ns">2Âµs</span></td><td></td><td></td><td class="s">    my $self = shift;</td></tr>
<tr><td class="h"><a name="124"></a>124</td><td class="c0">4</td><td class="c0"><span title="Avg 2Âµs">8Âµs</span></td><td></td><td></td><td class="s">    defined($self-&gt;{_OBJECTS}-&gt;{serializer}) and return $self-&gt;{_OBJECTS}-&gt;{serializer};</td></tr>
<tr><td class="h"><a name="125"></a>125</td><td class="c3">2</td><td class="c0"><span title="Avg 5Âµs">10Âµs</span></td><td></td><td></td><td class="s">    return $self-&gt;{_OBJECTS}-&gt;{serializer} = &quot;CGI::Session::Serialize::&quot; . $self-&gt;{_DSN}-&gt;{serializer};</td></tr>
<tr><td class="h"><a name="126"></a>126</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="127"></a>127</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="128"></a>128</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="129"></a>129</td><td></td><td></td><td></td><td></td><td class="s">sub _id_generator   { </td></tr>
<tr><td class="h"><a name="130"></a>130</td><td></td><td></td><td></td><td></td><td class="s">    my $self = shift;</td></tr>
<tr><td class="h"><a name="131"></a>131</td><td></td><td></td><td></td><td></td><td class="s">    defined($self-&gt;{_OBJECTS}-&gt;{id}) and return $self-&gt;{_OBJECTS}-&gt;{id};</td></tr>
<tr><td class="h"><a name="132"></a>132</td><td></td><td></td><td></td><td></td><td class="s">    return $self-&gt;{_OBJECTS}-&gt;{id} = &quot;CGI::Session::ID::&quot; . $self-&gt;{_DSN}-&gt;{id};</td></tr>
<tr><td class="h"><a name="133"></a>133</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="134"></a>134</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="135"></a>135</td><td></td><td></td><td></td><td></td><td class="s">sub ip_matches {</td></tr>
<tr><td class="h"><a name="136"></a>136</td><td></td><td></td><td></td><td></td><td class="s">  return ( $_[0]-&gt;{_DATA}-&gt;{_SESSION_REMOTE_ADDR} eq $ENV{REMOTE_ADDR} );</td></tr>
<tr><td class="h"><a name="137"></a>137</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="138"></a>138</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="139"></a>139</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="140"></a>140</td><td></td><td></td><td></td><td></td><td class="s"># parses the DSN string and returns it as a hash.</td></tr>
<tr><td class="h"><a name="141"></a>141</td><td></td><td></td><td></td><td></td><td class="s"># Notably: Allows unique abbreviations of the keys: driver, serializer and 'id'.</td></tr>
<tr><td class="h"><a name="142"></a>142</td><td></td><td></td><td></td><td></td><td class="s"># Also, keys and values of the returned hash are lower-cased.</td></tr>
<tr><td class="h"><a name="143"></a>143</td><td></td><td></td><td></td><td></td><td class="s"><div class="calls"><div class="calls_in"># spent 650Âµs (569+80) within CGI::Session::parse_dsn which was called 2 times, avg 325Âµs/call:
# 2 times (569Âµs+80Âµs) by CGI::Session::load at <a href="CGI-Session-pm-32-line.html#688">line 688</a>, avg 325Âµs/call</div></div>sub parse_dsn {</td></tr>
<tr><td class="h"><a name="144"></a>144</td><td class="c3">2</td><td class="c3"><span title="Avg 300ns">600ns</span></td><td></td><td></td><td class="s">    my $self = shift;</td></tr>
<tr><td class="h"><a name="145"></a>145</td><td class="c3">2</td><td class="c3"><span title="Avg 350ns">700ns</span></td><td></td><td></td><td class="s">    my $dsn_str = shift;</td></tr>
<tr><td class="h"><a name="146"></a>146</td><td class="c3">2</td><td class="c3"><span title="Avg 200ns">400ns</span></td><td></td><td></td><td class="s">    croak &quot;parse_dsn(): usage error&quot; unless $dsn_str;</td></tr>
<tr><td class="h"><a name="147"></a>147</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="148"></a>148</td><td class="c3">2</td><td class="c0"><span title="Avg 246Âµs">492Âµs</span></td><td></td><td></td><td class="s">    require Text::Abbrev;</td></tr>
<tr><td class="h"><a name="149"></a>149</td><td class="c3">2</td><td class="c1"><span title="Avg 2Âµs">4Âµs</span></td><td class="c3">2</td><td class="c0">80Âµs</td><td class="s">    my $abbrev = Text::Abbrev::abbrev( &quot;driver&quot;, &quot;serializer&quot;, &quot;id&quot; );<div class="calls"><div class="calls_out">    # spent    80Âµs making 2 calls to <a href="Text-Abbrev-pm-1270-line.html#43">Text::Abbrev::abbrev</a>, avg 40Âµs/call</div></div></td></tr>
<tr><td class="h"><a name="150"></a>150</td><td class="c0">8</td><td class="c0"><span title="Avg 2Âµs">16Âµs</span></td><td></td><td></td><td class="s">    my %dsn_map = map { split /:/ } (split /;/, $dsn_str);</td></tr>
<tr><td class="h"><a name="151"></a>151</td><td class="c3">2</td><td class="c0"><span title="Avg 6Âµs">12Âµs</span></td><td></td><td></td><td class="s">    my %dsn  = map { $abbrev-&gt;{lc $_}, lc $dsn_map{$_} } keys %dsn_map;</td></tr>
<tr><td class="h"><a name="152"></a>152</td><td class="c3">2</td><td class="c0"><span title="Avg 6Âµs">12Âµs</span></td><td></td><td></td><td class="s">    return \%dsn;</td></tr>
<tr><td class="h"><a name="153"></a>153</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="154"></a>154</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="155"></a>155</td><td></td><td></td><td></td><td></td><td class="s">sub query {</td></tr>
<tr><td class="h"><a name="156"></a>156</td><td></td><td></td><td></td><td></td><td class="s">    my $self = shift;</td></tr>
<tr><td class="h"><a name="157"></a>157</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="158"></a>158</td><td></td><td></td><td></td><td></td><td class="s">    if ( $self-&gt;{_QUERY} ) {</td></tr>
<tr><td class="h"><a name="159"></a>159</td><td></td><td></td><td></td><td></td><td class="s">        return $self-&gt;{_QUERY};</td></tr>
<tr><td class="h"><a name="160"></a>160</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="161"></a>161</td><td></td><td></td><td></td><td></td><td class="s">#   require CGI::Session::Query;</td></tr>
<tr><td class="h"><a name="162"></a>162</td><td></td><td></td><td></td><td></td><td class="s">#   return $self-&gt;{_QUERY} = CGI::Session::Query-&gt;new();</td></tr>
<tr><td class="h"><a name="163"></a>163</td><td></td><td></td><td></td><td></td><td class="s">    require CGI;</td></tr>
<tr><td class="h"><a name="164"></a>164</td><td></td><td></td><td></td><td></td><td class="s">    return $self-&gt;{_QUERY} = CGI-&gt;new();</td></tr>
<tr><td class="h"><a name="165"></a>165</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="166"></a>166</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="167"></a>167</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="168"></a>168</td><td></td><td></td><td></td><td></td><td class="s">sub name {</td></tr>
<tr><td class="h"><a name="169"></a>169</td><td></td><td></td><td></td><td></td><td class="s">    my $self = shift;</td></tr>
<tr><td class="h"><a name="170"></a>170</td><td></td><td></td><td></td><td></td><td class="s">    my $name = shift;</td></tr>
<tr><td class="h"><a name="171"></a>171</td><td></td><td></td><td></td><td></td><td class="s">    </td></tr>
<tr><td class="h"><a name="172"></a>172</td><td></td><td></td><td></td><td></td><td class="s">    if (ref $self) {</td></tr>
<tr><td class="h"><a name="173"></a>173</td><td></td><td></td><td></td><td></td><td class="s">        unless ( defined $name ) {</td></tr>
<tr><td class="h"><a name="174"></a>174</td><td></td><td></td><td></td><td></td><td class="s">            return $self-&gt;{_NAME} || $CGI::Session::NAME;</td></tr>
<tr><td class="h"><a name="175"></a>175</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="176"></a>176</td><td></td><td></td><td></td><td></td><td class="s">        return $self-&gt;{_NAME} = $name;</td></tr>
<tr><td class="h"><a name="177"></a>177</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="178"></a>178</td><td></td><td></td><td></td><td></td><td class="s">    </td></tr>
<tr><td class="h"><a name="179"></a>179</td><td></td><td></td><td></td><td></td><td class="s">    $CGI::Session::NAME = $name if defined $name;</td></tr>
<tr><td class="h"><a name="180"></a>180</td><td></td><td></td><td></td><td></td><td class="s">    return $CGI::Session::NAME;</td></tr>
<tr><td class="h"><a name="181"></a>181</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="182"></a>182</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="183"></a>183</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="184"></a>184</td><td></td><td></td><td></td><td></td><td class="s">sub dump {</td></tr>
<tr><td class="h"><a name="185"></a>185</td><td></td><td></td><td></td><td></td><td class="s">    my $self = shift;</td></tr>
<tr><td class="h"><a name="186"></a>186</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="187"></a>187</td><td></td><td></td><td></td><td></td><td class="s">    require Data::Dumper;</td></tr>
<tr><td class="h"><a name="188"></a>188</td><td></td><td></td><td></td><td></td><td class="s">    my $d = Data::Dumper-&gt;new([$self], [ref $self]);</td></tr>
<tr><td class="h"><a name="189"></a>189</td><td></td><td></td><td></td><td></td><td class="s">    $d-&gt;Deepcopy(1);</td></tr>
<tr><td class="h"><a name="190"></a>190</td><td></td><td></td><td></td><td></td><td class="s">    return $d-&gt;Dump();</td></tr>
<tr><td class="h"><a name="191"></a>191</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="192"></a>192</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="193"></a>193</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="194"></a>194</td><td></td><td></td><td></td><td></td><td class="s"><div class="calls"><div class="calls_in"># spent 10Âµs within CGI::Session::_set_status which was called 3 times, avg 3Âµs/call:
# 2 times (7Âµs+0s) by CGI::Session::load at <a href="CGI-Session-pm-32-line.html#774">line 774</a>, avg 4Âµs/call
#    once (3Âµs+0s) by CGI::Session::param at <a href="CGI-Session-pm-32-line.html#313">line 313</a></div></div>sub _set_status {</td></tr>
<tr><td class="h"><a name="195"></a>195</td><td class="c1">3</td><td class="c3"><span title="Avg 533ns">2Âµs</span></td><td></td><td></td><td class="s">    my $self    = shift;</td></tr>
<tr><td class="h"><a name="196"></a>196</td><td class="c1">3</td><td class="c3"><span title="Avg 267ns">800ns</span></td><td></td><td></td><td class="s">    croak &quot;_set_status(): usage error&quot; unless @_;</td></tr>
<tr><td class="h"><a name="197"></a>197</td><td class="c1">3</td><td class="c0"><span title="Avg 4Âµs">11Âµs</span></td><td></td><td></td><td class="s">    $self-&gt;{_STATUS} |= $_[0];</td></tr>
<tr><td class="h"><a name="198"></a>198</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="199"></a>199</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="200"></a>200</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="201"></a>201</td><td></td><td></td><td></td><td></td><td class="s"><div class="calls"><div class="calls_in"># spent 10Âµs within CGI::Session::_unset_status which was called 2 times, avg 5Âµs/call:
# 2 times (10Âµs+0s) by CGI::Session::flush at <a href="CGI-Session-pm-32-line.html#253">line 253</a>, avg 5Âµs/call</div></div>sub _unset_status {</td></tr>
<tr><td class="h"><a name="202"></a>202</td><td class="c3">2</td><td class="c3"><span title="Avg 650ns">1Âµs</span></td><td></td><td></td><td class="s">    my $self = shift;</td></tr>
<tr><td class="h"><a name="203"></a>203</td><td class="c3">2</td><td class="c3"><span title="Avg 600ns">1Âµs</span></td><td></td><td></td><td class="s">    croak &quot;_unset_status(): usage error&quot; unless @_;</td></tr>
<tr><td class="h"><a name="204"></a>204</td><td class="c3">2</td><td class="c0"><span title="Avg 4Âµs">8Âµs</span></td><td></td><td></td><td class="s">    $self-&gt;{_STATUS} &amp;= ~$_[0];</td></tr>
<tr><td class="h"><a name="205"></a>205</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="206"></a>206</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="207"></a>207</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="208"></a>208</td><td></td><td></td><td></td><td></td><td class="s">sub _reset_status {</td></tr>
<tr><td class="h"><a name="209"></a>209</td><td></td><td></td><td></td><td></td><td class="s">    $_[0]-&gt;{_STATUS} = STATUS_UNSET;</td></tr>
<tr><td class="h"><a name="210"></a>210</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="211"></a>211</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="212"></a>212</td><td></td><td></td><td></td><td></td><td class="s"><div class="calls"><div class="calls_in"># spent 25Âµs within CGI::Session::_test_status which was called 26 times, avg 946ns/call:
# 20 times (19Âµs+0s) by CGI::Session::param at <a href="CGI-Session-pm-32-line.html#264">line 264</a>, avg 965ns/call
#  2 times (2Âµs+0s) by CGI::Session::flush at <a href="CGI-Session-pm-32-line.html#230">line 230</a>, avg 1Âµs/call
#  2 times (2Âµs+0s) by CGI::Session::flush at <a href="CGI-Session-pm-32-line.html#238">line 238</a>, avg 800ns/call
#  2 times (1Âµs+0s) by CGI::Session::flush at <a href="CGI-Session-pm-32-line.html#246">line 246</a>, avg 650ns/call</div></div>sub _test_status {</td></tr>
<tr><td class="h"><a name="213"></a>213</td><td class="c0">26</td><td class="c0"><span title="Avg 2Âµs">48Âµs</span></td><td></td><td></td><td class="s">    return $_[0]-&gt;{_STATUS} &amp; $_[1];</td></tr>
<tr><td class="h"><a name="214"></a>214</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="215"></a>215</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="216"></a>216</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="217"></a>217</td><td></td><td></td><td></td><td></td><td class="s"><div class="calls"><div class="calls_in"># spent 2.18ms (82Âµs+2.09) within CGI::Session::flush which was called 2 times, avg 1.09ms/call:
# 2 times (82Âµs+2.09ms) by CGI::Session::DESTROY at <a href="CGI-Session-pm-32-line.html#92">line 92</a>, avg 1.09ms/call</div></div>sub flush {</td></tr>
<tr><td class="h"><a name="218"></a>218</td><td class="c3">2</td><td class="c3"><span title="Avg 400ns">800ns</span></td><td></td><td></td><td class="s">    my $self = shift;</td></tr>
<tr><td class="h"><a name="219"></a>219</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="220"></a>220</td><td></td><td></td><td></td><td></td><td class="s">    # Would it be better to die or err if something very basic is wrong here? </td></tr>
<tr><td class="h"><a name="221"></a>221</td><td></td><td></td><td></td><td></td><td class="s">    # I'm trying to address the DESTROY related warning</td></tr>
<tr><td class="h"><a name="222"></a>222</td><td></td><td></td><td></td><td></td><td class="s">    # from: http://rt.cpan.org/Ticket/Display.html?id=17541</td></tr>
<tr><td class="h"><a name="223"></a>223</td><td></td><td></td><td></td><td></td><td class="s">    # return unless defined $self;</td></tr>
<tr><td class="h"><a name="224"></a>224</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="225"></a>225</td><td class="c3">2</td><td class="c2"><span title="Avg 2Âµs">4Âµs</span></td><td class="c3">2</td><td class="c3">14Âµs</td><td class="s">    return unless $self-&gt;id;            # &lt;-- empty session<div class="calls"><div class="calls_out">    # spent    14Âµs making 2 calls to <a href="CGI-Session-pm-32-line.html#105">CGI::Session::id</a>, avg 7Âµs/call</div></div></td></tr>
<tr><td class="h"><a name="226"></a>226</td><td></td><td></td><td></td><td></td><td class="s">    </td></tr>
<tr><td class="h"><a name="227"></a>227</td><td></td><td></td><td></td><td></td><td class="s">    # neither new, nor deleted nor modified</td></tr>
<tr><td class="h"><a name="228"></a>228</td><td class="c3">2</td><td class="c3"><span title="Avg 1Âµs">2Âµs</span></td><td></td><td></td><td class="s">    return if !defined($self-&gt;{_STATUS}) or $self-&gt;{_STATUS} == STATUS_UNSET;</td></tr>
<tr><td class="h"><a name="229"></a>229</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="230"></a>230</td><td class="c3">2</td><td class="c3"><span title="Avg 2Âµs">3Âµs</span></td><td class="c3">2</td><td class="c3">2Âµs</td><td class="s">    if ( $self-&gt;_test_status(STATUS_NEW) &amp;&amp; $self-&gt;_test_status(STATUS_DELETED) ) {<div class="calls"><div class="calls_out">    # spent     2Âµs making 2 calls to <a href="CGI-Session-pm-32-line.html#212">CGI::Session::_test_status</a>, avg 1Âµs/call</div></div></td></tr>
<tr><td class="h"><a name="231"></a>231</td><td></td><td></td><td></td><td></td><td class="s">        $self-&gt;{_DATA} = {};</td></tr>
<tr><td class="h"><a name="232"></a>232</td><td></td><td></td><td></td><td></td><td class="s">        return $self-&gt;_unset_status(STATUS_NEW | STATUS_DELETED);</td></tr>
<tr><td class="h"><a name="233"></a>233</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="234"></a>234</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="235"></a>235</td><td class="c3">2</td><td class="c3"><span title="Avg 2Âµs">3Âµs</span></td><td class="c3">2</td><td class="c3">5Âµs</td><td class="s">    my $driver      = $self-&gt;_driver();<div class="calls"><div class="calls_out">    # spent     5Âµs making 2 calls to <a href="CGI-Session-pm-32-line.html#113">CGI::Session::_driver</a>, avg 2Âµs/call</div></div></td></tr>
<tr><td class="h"><a name="236"></a>236</td><td class="c3">2</td><td class="c3"><span title="Avg 2Âµs">3Âµs</span></td><td class="c3">2</td><td class="c3">4Âµs</td><td class="s">    my $serializer  = $self-&gt;_serializer();<div class="calls"><div class="calls_out">    # spent     4Âµs making 2 calls to <a href="CGI-Session-pm-32-line.html#122">CGI::Session::_serializer</a>, avg 2Âµs/call</div></div></td></tr>
<tr><td class="h"><a name="237"></a>237</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="238"></a>238</td><td class="c3">2</td><td class="c3"><span title="Avg 1Âµs">2Âµs</span></td><td class="c3">2</td><td class="c3">2Âµs</td><td class="s">    if ( $self-&gt;_test_status(STATUS_DELETED) ) {<div class="calls"><div class="calls_out">    # spent     2Âµs making 2 calls to <a href="CGI-Session-pm-32-line.html#212">CGI::Session::_test_status</a>, avg 800ns/call</div></div></td></tr>
<tr><td class="h"><a name="239"></a>239</td><td></td><td></td><td></td><td></td><td class="s">        defined($driver-&gt;remove($self-&gt;id)) or</td></tr>
<tr><td class="h"><a name="240"></a>240</td><td></td><td></td><td></td><td></td><td class="s">            return $self-&gt;set_error( &quot;flush(): couldn't remove session data: &quot; . $driver-&gt;errstr );</td></tr>
<tr><td class="h"><a name="241"></a>241</td><td></td><td></td><td></td><td></td><td class="s">        $self-&gt;{_DATA} = {};                        # &lt;-- removing all the data, making sure</td></tr>
<tr><td class="h"><a name="242"></a>242</td><td></td><td></td><td></td><td></td><td class="s">                                                    # it won't be accessible after flush()</td></tr>
<tr><td class="h"><a name="243"></a>243</td><td></td><td></td><td></td><td></td><td class="s">        return $self-&gt;_unset_status(STATUS_DELETED);</td></tr>
<tr><td class="h"><a name="244"></a>244</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="245"></a>245</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="246"></a>246</td><td class="c3">2</td><td class="c2"><span title="Avg 2Âµs">4Âµs</span></td><td class="c3">2</td><td class="c3">1Âµs</td><td class="s">    if ( $self-&gt;_test_status(STATUS_NEW | STATUS_MODIFIED) ) {<div class="calls"><div class="calls_out">    # spent     1Âµs making 2 calls to <a href="CGI-Session-pm-32-line.html#212">CGI::Session::_test_status</a>, avg 650ns/call</div></div></td></tr>
<tr><td class="h"><a name="247"></a>247</td><td class="c3">2</td><td class="c0"><span title="Avg 4Âµs">8Âµs</span></td><td class="c0">4</td><td class="c0">169Âµs</td><td class="s">        my $datastr = $serializer-&gt;freeze( $self-&gt;dataref );<div class="calls"><div class="calls_out">        # spent   167Âµs making 2 calls to <a href="CGI-Session-Serialize-yaml-pm-1276-line.html#16">CGI::Session::Serialize::yaml::freeze</a>, avg 84Âµs/call
        # spent     2Âµs making 2 calls to <a href="CGI-Session-pm-32-line.html#97">CGI::Session::dataref</a>, avg 750ns/call</div></div></td></tr>
<tr><td class="h"><a name="248"></a>248</td><td class="c3">2</td><td class="c3"><span title="Avg 400ns">800ns</span></td><td></td><td></td><td class="s">        unless ( defined $datastr ) {</td></tr>
<tr><td class="h"><a name="249"></a>249</td><td></td><td></td><td></td><td></td><td class="s">            return $self-&gt;set_error( &quot;flush(): couldn't freeze data: &quot; . $serializer-&gt;errstr );</td></tr>
<tr><td class="h"><a name="250"></a>250</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="251"></a>251</td><td class="c3">2</td><td class="c0"><span title="Avg 4Âµs">8Âµs</span></td><td class="c0">4</td><td class="c0">1.89ms</td><td class="s">        defined( $driver-&gt;store($self-&gt;id, $datastr) ) or<div class="calls"><div class="calls_out">        # spent  1.88ms making 2 calls to <a href="CGI-Session-Driver-mysql-pm-1272-line.html#44">CGI::Session::Driver::mysql::store</a>, avg 938Âµs/call
        # spent    11Âµs making 2 calls to <a href="CGI-Session-pm-32-line.html#105">CGI::Session::id</a>, avg 6Âµs/call</div></div></td></tr>
<tr><td class="h"><a name="252"></a>252</td><td></td><td></td><td></td><td></td><td class="s">            return $self-&gt;set_error( &quot;flush(): couldn't store datastr: &quot; . $driver-&gt;errstr);</td></tr>
<tr><td class="h"><a name="253"></a>253</td><td class="c3">2</td><td class="c0"><span title="Avg 5Âµs">9Âµs</span></td><td class="c3">2</td><td class="c3">10Âµs</td><td class="s">        $self-&gt;_unset_status(STATUS_NEW | STATUS_MODIFIED);<div class="calls"><div class="calls_out">        # spent    10Âµs making 2 calls to <a href="CGI-Session-pm-32-line.html#201">CGI::Session::_unset_status</a>, avg 5Âµs/call</div></div></td></tr>
<tr><td class="h"><a name="254"></a>254</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="255"></a>255</td><td class="c3">2</td><td class="c1"><span title="Avg 3Âµs">6Âµs</span></td><td></td><td></td><td class="s">    return 1;</td></tr>
<tr><td class="h"><a name="256"></a>256</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="257"></a>257</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="258"></a>258</td><td></td><td></td><td></td><td></td><td class="s">sub trace {}</td></tr>
<tr><td class="h"><a name="259"></a>259</td><td></td><td></td><td></td><td></td><td class="s">sub tracemsg {}</td></tr>
<tr><td class="h"><a name="260"></a>260</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="261"></a>261</td><td></td><td></td><td></td><td></td><td class="s"><div class="calls"><div class="calls_in"># spent 114Âµs (91+23) within CGI::Session::param which was called 20 times, avg 6Âµs/call:
# 11 times (34Âµs+7Âµs) by C4::Auth::checkauth at <a href="C4-Auth-pm-21-line.html#798">line 798 of C4/Auth.pm</a>, avg 4Âµs/call
#     once (22Âµs+6Âµs) by C4::Auth::checkauth at <a href="C4-Auth-pm-21-line.html#888">line 888 of C4/Auth.pm</a>
#     once (8Âµs+2Âµs) by C4::Auth::checkauth at <a href="C4-Auth-pm-21-line.html#797">line 797 of C4/Auth.pm</a>
#     once (7Âµs+3Âµs) by C4::Search::History::get_from_session at <a href="C4-Search-History-pm-34-line.html#204">line 204 of C4/Search/History.pm</a>
#     once (4Âµs+1Âµs) by C4::Auth::checkauth at <a href="C4-Auth-pm-21-line.html#806">line 806 of C4/Auth.pm</a>
#     once (4Âµs+900ns) by C4::Auth::checkauth at <a href="C4-Auth-pm-21-line.html#810">line 810 of C4/Auth.pm</a>
#     once (3Âµs+800ns) by C4::Auth::checkauth at <a href="C4-Auth-pm-21-line.html#807">line 807 of C4/Auth.pm</a>
#     once (3Âµs+700ns) by C4::Auth::checkauth at <a href="C4-Auth-pm-21-line.html#811">line 811 of C4/Auth.pm</a>
#     once (3Âµs+700ns) by C4::Auth::checkauth at <a href="C4-Auth-pm-21-line.html#808">line 808 of C4/Auth.pm</a>
#     once (3Âµs+700ns) by C4::Auth::checkauth at <a href="C4-Auth-pm-21-line.html#813">line 813 of C4/Auth.pm</a></div></div>sub param {</td></tr>
<tr><td class="h"><a name="262"></a>262</td><td class="c0">20</td><td class="c0"><span title="Avg 500ns">10Âµs</span></td><td></td><td></td><td class="s">    my ($self, @args) = @_;</td></tr>
<tr><td class="h"><a name="263"></a>263</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="264"></a>264</td><td class="c0">20</td><td class="c0"><span title="Avg 925ns">19Âµs</span></td><td class="c0">20</td><td class="c3">19Âµs</td><td class="s">    if ($self-&gt;_test_status( STATUS_DELETED )) {<div class="calls"><div class="calls_out">    # spent    19Âµs making 20 calls to <a href="CGI-Session-pm-32-line.html#212">CGI::Session::_test_status</a>, avg 965ns/call</div></div></td></tr>
<tr><td class="h"><a name="265"></a>265</td><td></td><td></td><td></td><td></td><td class="s">        carp &quot;param(): attempt to read/write deleted session&quot;;</td></tr>
<tr><td class="h"><a name="266"></a>266</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="267"></a>267</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="268"></a>268</td><td></td><td></td><td></td><td></td><td class="s">    # USAGE: $s-&gt;param();</td></tr>
<tr><td class="h"><a name="269"></a>269</td><td></td><td></td><td></td><td></td><td class="s">    # DESC:  Returns all the /public/ parameters</td></tr>
<tr><td class="h"><a name="270"></a>270</td><td class="c0">20</td><td class="c0"><span title="Avg 3Âµs">50Âµs</span></td><td></td><td></td><td class="s">    if (@args == 0) {</td></tr>
<tr><td class="h"><a name="271"></a>271</td><td></td><td></td><td></td><td></td><td class="s">        return grep { !/^_SESSION_/ } keys %{ $self-&gt;{_DATA} };</td></tr>
<tr><td class="h"><a name="272"></a>272</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="273"></a>273</td><td></td><td></td><td></td><td></td><td class="s">    # USAGE: $s-&gt;param( $p );</td></tr>
<tr><td class="h"><a name="274"></a>274</td><td></td><td></td><td></td><td></td><td class="s">    # DESC: returns a specific session parameter</td></tr>
<tr><td class="h"><a name="275"></a>275</td><td></td><td></td><td></td><td></td><td class="s">    elsif (@args == 1) {</td></tr>
<tr><td class="h"><a name="276"></a>276</td><td></td><td></td><td></td><td></td><td class="s">        return $self-&gt;{_DATA}-&gt;{ $args[0] }</td></tr>
<tr><td class="h"><a name="277"></a>277</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="278"></a>278</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="279"></a>279</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="280"></a>280</td><td></td><td></td><td></td><td></td><td class="s">    # USAGE: $s-&gt;param( -name =&gt; $n, -value =&gt; $v );</td></tr>
<tr><td class="h"><a name="281"></a>281</td><td></td><td></td><td></td><td></td><td class="s">    # DESC:  Updates session data using CGI.pm's 'named param' syntax.</td></tr>
<tr><td class="h"><a name="282"></a>282</td><td></td><td></td><td></td><td></td><td class="s">    #        Only public records can be set!</td></tr>
<tr><td class="h"><a name="283"></a>283</td><td class="c3">1</td><td class="c3"><span title="Avg 1Âµs">1Âµs</span></td><td></td><td></td><td class="s">    my %args = @args;</td></tr>
<tr><td class="h"><a name="284"></a>284</td><td class="c3">1</td><td class="c3"><span title="Avg 900ns">900ns</span></td><td></td><td></td><td class="s">    my ($name, $value) = @args{ qw(-name -value) };</td></tr>
<tr><td class="h"><a name="285"></a>285</td><td class="c3">1</td><td class="c3"><span title="Avg 400ns">400ns</span></td><td></td><td></td><td class="s">    if (defined $name &amp;&amp; defined $value) {</td></tr>
<tr><td class="h"><a name="286"></a>286</td><td></td><td></td><td></td><td></td><td class="s">        if ($name =~ m/^_SESSION_/) {</td></tr>
<tr><td class="h"><a name="287"></a>287</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="288"></a>288</td><td></td><td></td><td></td><td></td><td class="s">            carp &quot;param(): attempt to write to private parameter&quot;;</td></tr>
<tr><td class="h"><a name="289"></a>289</td><td></td><td></td><td></td><td></td><td class="s">            return undef;</td></tr>
<tr><td class="h"><a name="290"></a>290</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="291"></a>291</td><td></td><td></td><td></td><td></td><td class="s">        $self-&gt;_set_status( STATUS_MODIFIED );</td></tr>
<tr><td class="h"><a name="292"></a>292</td><td></td><td></td><td></td><td></td><td class="s">        return $self-&gt;{_DATA}-&gt;{ $name } = $value;</td></tr>
<tr><td class="h"><a name="293"></a>293</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="294"></a>294</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="295"></a>295</td><td></td><td></td><td></td><td></td><td class="s">    # USAGE: $s-&gt;param(-name=&gt;$n);</td></tr>
<tr><td class="h"><a name="296"></a>296</td><td></td><td></td><td></td><td></td><td class="s">    # DESC:  access to session data (public &amp; private) using CGI.pm's 'named parameter' syntax.</td></tr>
<tr><td class="h"><a name="297"></a>297</td><td class="c3">1</td><td class="c3"><span title="Avg 600ns">600ns</span></td><td></td><td></td><td class="s">    return $self-&gt;{_DATA}-&gt;{ $args{'-name'} } if defined $args{'-name'};</td></tr>
<tr><td class="h"><a name="298"></a>298</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="299"></a>299</td><td></td><td></td><td></td><td></td><td class="s">    # USAGE: $s-&gt;param($name, $value);</td></tr>
<tr><td class="h"><a name="300"></a>300</td><td></td><td></td><td></td><td></td><td class="s">    # USAGE: $s-&gt;param($name1 =&gt; $value1, $name2 =&gt; $value2 [,...]);</td></tr>
<tr><td class="h"><a name="301"></a>301</td><td></td><td></td><td></td><td></td><td class="s">    # DESC:  updates one or more **public** records using simple syntax</td></tr>
<tr><td class="h"><a name="302"></a>302</td><td class="c3">1</td><td class="c3"><span title="Avg 900ns">900ns</span></td><td></td><td></td><td class="s">    if ((@args % 2) == 0) {</td></tr>
<tr><td class="h"><a name="303"></a>303</td><td class="c3">1</td><td class="c3"><span title="Avg 400ns">400ns</span></td><td></td><td></td><td class="s">        my $modified_cnt = 0;</td></tr>
<tr><td class="h"><a name="304"></a>304</td><td></td><td></td><td></td><td></td><td class="s">        ARG_PAIR:</td></tr>
<tr><td class="h"><a name="305"></a>305</td><td class="c3">1</td><td class="c3"><span title="Avg 3Âµs">3Âµs</span></td><td></td><td></td><td class="s">        while (my ($name, $val) = each %args) {</td></tr>
<tr><td class="h"><a name="306"></a>306</td><td class="c3">1</td><td class="c2"><span title="Avg 4Âµs">4Âµs</span></td><td class="c3">1</td><td class="c3">1Âµs</td><td class="s">            if ( $name =~ m/^_SESSION_/) {<div class="calls"><div class="calls_out">            # spent     1Âµs making 1 call to <a href="CGI-Session-pm-32-line.html#CGI__Session__CORE_match">CGI::Session::CORE:match</a></div></div></td></tr>
<tr><td class="h"><a name="307"></a>307</td><td></td><td></td><td></td><td></td><td class="s">                carp &quot;param(): attempt to write to private parameter&quot;;</td></tr>
<tr><td class="h"><a name="308"></a>308</td><td></td><td></td><td></td><td></td><td class="s">                next ARG_PAIR;</td></tr>
<tr><td class="h"><a name="309"></a>309</td><td></td><td></td><td></td><td></td><td class="s">            }</td></tr>
<tr><td class="h"><a name="310"></a>310</td><td class="c3">1</td><td class="c3"><span title="Avg 1Âµs">1Âµs</span></td><td></td><td></td><td class="s">            $self-&gt;{_DATA}-&gt;{ $name } = $val;</td></tr>
<tr><td class="h"><a name="311"></a>311</td><td class="c3">1</td><td class="c3"><span title="Avg 400ns">400ns</span></td><td></td><td></td><td class="s">            ++$modified_cnt;</td></tr>
<tr><td class="h"><a name="312"></a>312</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="313"></a>313</td><td class="c3">1</td><td class="c3"><span title="Avg 2Âµs">2Âµs</span></td><td class="c3">1</td><td class="c3">3Âµs</td><td class="s">        $self-&gt;_set_status(STATUS_MODIFIED);<div class="calls"><div class="calls_out">        # spent     3Âµs making 1 call to <a href="CGI-Session-pm-32-line.html#194">CGI::Session::_set_status</a></div></div></td></tr>
<tr><td class="h"><a name="314"></a>314</td><td class="c3">1</td><td class="c2"><span title="Avg 4Âµs">4Âµs</span></td><td></td><td></td><td class="s">        return $modified_cnt;</td></tr>
<tr><td class="h"><a name="315"></a>315</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="316"></a>316</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="317"></a>317</td><td></td><td></td><td></td><td></td><td class="s">    # If we reached this far none of the expected syntax were</td></tr>
<tr><td class="h"><a name="318"></a>318</td><td></td><td></td><td></td><td></td><td class="s">    # detected. Syntax error</td></tr>
<tr><td class="h"><a name="319"></a>319</td><td></td><td></td><td></td><td></td><td class="s">    croak &quot;param(): usage error. Invalid syntax&quot;;</td></tr>
<tr><td class="h"><a name="320"></a>320</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="321"></a>321</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="- -"></a>- -</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="324"></a>324</td><td></td><td></td><td></td><td></td><td class="s">sub delete {    $_[0]-&gt;_set_status( STATUS_DELETED )    }</td></tr>
<tr><td class="h"><a name="325"></a>325</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="326"></a>326</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="327"></a>327</td><td class="c3">1</td><td class="c3"><span title="Avg 400ns">400ns</span></td><td></td><td></td><td class="s">*header = \&amp;http_header;</td></tr>
<tr><td class="h"><a name="328"></a>328</td><td class="c3">1</td><td class="c3"><span title="Avg 600ns">600ns</span></td><td></td><td></td><td class="s">my $avoid_single_use_warning_again = *header;</td></tr>
<tr><td class="h"><a name="329"></a>329</td><td></td><td></td><td></td><td></td><td class="s">sub http_header {</td></tr>
<tr><td class="h"><a name="330"></a>330</td><td></td><td></td><td></td><td></td><td class="s">    my $self = shift;</td></tr>
<tr><td class="h"><a name="331"></a>331</td><td></td><td></td><td></td><td></td><td class="s">    return $self-&gt;query-&gt;header(-cookie=&gt;$self-&gt;cookie, -type=&gt;'text/html', @_);</td></tr>
<tr><td class="h"><a name="332"></a>332</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="333"></a>333</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="334"></a>334</td><td></td><td></td><td></td><td></td><td class="s">sub cookie {</td></tr>
<tr><td class="h"><a name="335"></a>335</td><td></td><td></td><td></td><td></td><td class="s">    my $self = shift;</td></tr>
<tr><td class="h"><a name="336"></a>336</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="337"></a>337</td><td></td><td></td><td></td><td></td><td class="s">    my $query = $self-&gt;query();</td></tr>
<tr><td class="h"><a name="338"></a>338</td><td></td><td></td><td></td><td></td><td class="s">    my $cookie= undef;</td></tr>
<tr><td class="h"><a name="339"></a>339</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="340"></a>340</td><td></td><td></td><td></td><td></td><td class="s">    if ( $self-&gt;is_expired ) {</td></tr>
<tr><td class="h"><a name="341"></a>341</td><td></td><td></td><td></td><td></td><td class="s">        $cookie = $query-&gt;cookie( -name=&gt;$self-&gt;name, -value=&gt;$self-&gt;id, -expires=&gt; '-1d', @_ );</td></tr>
<tr><td class="h"><a name="342"></a>342</td><td></td><td></td><td></td><td></td><td class="s">    } </td></tr>
<tr><td class="h"><a name="343"></a>343</td><td></td><td></td><td></td><td></td><td class="s">    elsif ( my $t = $self-&gt;expire ) {</td></tr>
<tr><td class="h"><a name="344"></a>344</td><td></td><td></td><td></td><td></td><td class="s">        $cookie = $query-&gt;cookie( -name=&gt;$self-&gt;name, -value=&gt;$self-&gt;id, -expires=&gt; '+' . $t . 's', @_ );</td></tr>
<tr><td class="h"><a name="345"></a>345</td><td></td><td></td><td></td><td></td><td class="s">    } </td></tr>
<tr><td class="h"><a name="346"></a>346</td><td></td><td></td><td></td><td></td><td class="s">    else {</td></tr>
<tr><td class="h"><a name="347"></a>347</td><td></td><td></td><td></td><td></td><td class="s">        $cookie = $query-&gt;cookie( -name=&gt;$self-&gt;name, -value=&gt;$self-&gt;id, @_ );</td></tr>
<tr><td class="h"><a name="348"></a>348</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="349"></a>349</td><td></td><td></td><td></td><td></td><td class="s">    return $cookie;</td></tr>
<tr><td class="h"><a name="350"></a>350</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="351"></a>351</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="- -"></a>- -</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="356"></a>356</td><td></td><td></td><td></td><td></td><td class="s">sub save_param {</td></tr>
<tr><td class="h"><a name="357"></a>357</td><td></td><td></td><td></td><td></td><td class="s">    my $self = shift;</td></tr>
<tr><td class="h"><a name="358"></a>358</td><td></td><td></td><td></td><td></td><td class="s">    my ($query, $params) = @_;</td></tr>
<tr><td class="h"><a name="359"></a>359</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="360"></a>360</td><td></td><td></td><td></td><td></td><td class="s">    $query  ||= $self-&gt;query();</td></tr>
<tr><td class="h"><a name="361"></a>361</td><td></td><td></td><td></td><td></td><td class="s">    $params ||= [ $query-&gt;param ];</td></tr>
<tr><td class="h"><a name="362"></a>362</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="363"></a>363</td><td></td><td></td><td></td><td></td><td class="s">    for my $p ( @$params ) {</td></tr>
<tr><td class="h"><a name="364"></a>364</td><td></td><td></td><td></td><td></td><td class="s">        my @values = $query-&gt;param($p) or next;</td></tr>
<tr><td class="h"><a name="365"></a>365</td><td></td><td></td><td></td><td></td><td class="s">        if ( @values &gt; 1 ) {</td></tr>
<tr><td class="h"><a name="366"></a>366</td><td></td><td></td><td></td><td></td><td class="s">            $self-&gt;param($p, \@values);</td></tr>
<tr><td class="h"><a name="367"></a>367</td><td></td><td></td><td></td><td></td><td class="s">        } else {</td></tr>
<tr><td class="h"><a name="368"></a>368</td><td></td><td></td><td></td><td></td><td class="s">            $self-&gt;param($p, $values[0]);</td></tr>
<tr><td class="h"><a name="369"></a>369</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="370"></a>370</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="371"></a>371</td><td></td><td></td><td></td><td></td><td class="s">    $self-&gt;_set_status( STATUS_MODIFIED );</td></tr>
<tr><td class="h"><a name="372"></a>372</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="373"></a>373</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="- -"></a>- -</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="376"></a>376</td><td></td><td></td><td></td><td></td><td class="s">sub load_param {</td></tr>
<tr><td class="h"><a name="377"></a>377</td><td></td><td></td><td></td><td></td><td class="s">    my $self = shift;</td></tr>
<tr><td class="h"><a name="378"></a>378</td><td></td><td></td><td></td><td></td><td class="s">    my ($query, $params) = @_;</td></tr>
<tr><td class="h"><a name="379"></a>379</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="380"></a>380</td><td></td><td></td><td></td><td></td><td class="s">    $query  ||= $self-&gt;query();</td></tr>
<tr><td class="h"><a name="381"></a>381</td><td></td><td></td><td></td><td></td><td class="s">    $params ||= [ $self-&gt;param ];</td></tr>
<tr><td class="h"><a name="382"></a>382</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="383"></a>383</td><td></td><td></td><td></td><td></td><td class="s">    for ( @$params ) {</td></tr>
<tr><td class="h"><a name="384"></a>384</td><td></td><td></td><td></td><td></td><td class="s">        $query-&gt;param(-name=&gt;$_, -value=&gt;$self-&gt;param($_));</td></tr>
<tr><td class="h"><a name="385"></a>385</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="386"></a>386</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="387"></a>387</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="388"></a>388</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="389"></a>389</td><td></td><td></td><td></td><td></td><td class="s">sub clear {</td></tr>
<tr><td class="h"><a name="390"></a>390</td><td></td><td></td><td></td><td></td><td class="s">    my $self    = shift;</td></tr>
<tr><td class="h"><a name="391"></a>391</td><td></td><td></td><td></td><td></td><td class="s">    my $params  = shift;</td></tr>
<tr><td class="h"><a name="392"></a>392</td><td></td><td></td><td></td><td></td><td class="s">    #warn ref($params);</td></tr>
<tr><td class="h"><a name="393"></a>393</td><td></td><td></td><td></td><td></td><td class="s">    if (defined $params) {</td></tr>
<tr><td class="h"><a name="394"></a>394</td><td></td><td></td><td></td><td></td><td class="s">        $params =  [ $params ] unless ref $params;</td></tr>
<tr><td class="h"><a name="395"></a>395</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="396"></a>396</td><td></td><td></td><td></td><td></td><td class="s">    else {</td></tr>
<tr><td class="h"><a name="397"></a>397</td><td></td><td></td><td></td><td></td><td class="s">        $params = [ $self-&gt;param ];</td></tr>
<tr><td class="h"><a name="398"></a>398</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="399"></a>399</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="400"></a>400</td><td></td><td></td><td></td><td></td><td class="s">    for ( grep { ! /^_SESSION_/ } @$params ) {</td></tr>
<tr><td class="h"><a name="401"></a>401</td><td></td><td></td><td></td><td></td><td class="s">        delete $self-&gt;{_DATA}-&gt;{$_};</td></tr>
<tr><td class="h"><a name="402"></a>402</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="403"></a>403</td><td></td><td></td><td></td><td></td><td class="s">    $self-&gt;_set_status( STATUS_MODIFIED );</td></tr>
<tr><td class="h"><a name="404"></a>404</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="405"></a>405</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="406"></a>406</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="407"></a>407</td><td></td><td></td><td></td><td></td><td class="s">sub find {</td></tr>
<tr><td class="h"><a name="408"></a>408</td><td></td><td></td><td></td><td></td><td class="s">    my $class       = shift;</td></tr>
<tr><td class="h"><a name="409"></a>409</td><td></td><td></td><td></td><td></td><td class="s">    my ($dsn, $coderef, $dsn_args);</td></tr>
<tr><td class="h"><a name="410"></a>410</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="411"></a>411</td><td></td><td></td><td></td><td></td><td class="s">    # find( \%code )</td></tr>
<tr><td class="h"><a name="412"></a>412</td><td></td><td></td><td></td><td></td><td class="s">    if ( @_ == 1 ) {</td></tr>
<tr><td class="h"><a name="413"></a>413</td><td></td><td></td><td></td><td></td><td class="s">        $coderef = $_[0];</td></tr>
<tr><td class="h"><a name="414"></a>414</td><td></td><td></td><td></td><td></td><td class="s">    } </td></tr>
<tr><td class="h"><a name="415"></a>415</td><td></td><td></td><td></td><td></td><td class="s">    # find( $dsn, \&amp;code, \%dsn_args )</td></tr>
<tr><td class="h"><a name="416"></a>416</td><td></td><td></td><td></td><td></td><td class="s">    else {</td></tr>
<tr><td class="h"><a name="417"></a>417</td><td></td><td></td><td></td><td></td><td class="s">        ($dsn, $coderef, $dsn_args) = @_;</td></tr>
<tr><td class="h"><a name="418"></a>418</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="419"></a>419</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="420"></a>420</td><td></td><td></td><td></td><td></td><td class="s">    unless ( $coderef &amp;&amp; ref($coderef) &amp;&amp; (ref $coderef eq 'CODE') ) {</td></tr>
<tr><td class="h"><a name="421"></a>421</td><td></td><td></td><td></td><td></td><td class="s">        croak &quot;find(): usage error.&quot;;</td></tr>
<tr><td class="h"><a name="422"></a>422</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="423"></a>423</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="424"></a>424</td><td></td><td></td><td></td><td></td><td class="s">    my $driver;</td></tr>
<tr><td class="h"><a name="425"></a>425</td><td></td><td></td><td></td><td></td><td class="s">    if ( $dsn ) {</td></tr>
<tr><td class="h"><a name="426"></a>426</td><td></td><td></td><td></td><td></td><td class="s">        my $hashref = $class-&gt;parse_dsn( $dsn );</td></tr>
<tr><td class="h"><a name="427"></a>427</td><td></td><td></td><td></td><td></td><td class="s">        $driver     = $hashref-&gt;{driver};</td></tr>
<tr><td class="h"><a name="428"></a>428</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="429"></a>429</td><td></td><td></td><td></td><td></td><td class="s">    $driver ||= &quot;file&quot;;</td></tr>
<tr><td class="h"><a name="430"></a>430</td><td></td><td></td><td></td><td></td><td class="s">    my $pm = &quot;CGI::Session::Driver::&quot; . ($driver =~ /(.*)/)[0];</td></tr>
<tr><td class="h"><a name="431"></a>431</td><td></td><td></td><td></td><td></td><td class="s">    eval &quot;require $pm&quot;;</td></tr>
<tr><td class="h"><a name="432"></a>432</td><td></td><td></td><td></td><td></td><td class="s">    if (my $errmsg = $@ ) {</td></tr>
<tr><td class="h"><a name="433"></a>433</td><td></td><td></td><td></td><td></td><td class="s">        return $class-&gt;set_error( &quot;find(): couldn't load driver.&quot; . $errmsg );</td></tr>
<tr><td class="h"><a name="434"></a>434</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="435"></a>435</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="436"></a>436</td><td></td><td></td><td></td><td></td><td class="s">    my $driver_obj = $pm-&gt;new( $dsn_args );</td></tr>
<tr><td class="h"><a name="437"></a>437</td><td></td><td></td><td></td><td></td><td class="s">    unless ( $driver_obj ) {</td></tr>
<tr><td class="h"><a name="438"></a>438</td><td></td><td></td><td></td><td></td><td class="s">        return $class-&gt;set_error( &quot;find(): couldn't create driver object. &quot; . $pm-&gt;errstr );</td></tr>
<tr><td class="h"><a name="439"></a>439</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="440"></a>440</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="441"></a>441</td><td></td><td></td><td></td><td></td><td class="s">    # Read-only isn't the perfect name here. In read-only mode, we skip the ip_match check,</td></tr>
<tr><td class="h"><a name="442"></a>442</td><td></td><td></td><td></td><td></td><td class="s">    # and don't update the atime. We *do* still delete expired sessions and session params.</td></tr>
<tr><td class="h"><a name="443"></a>443</td><td></td><td></td><td></td><td></td><td class="s">    my $read_only = 1;</td></tr>
<tr><td class="h"><a name="444"></a>444</td><td></td><td></td><td></td><td></td><td class="s">    my $driver_coderef = sub {</td></tr>
<tr><td class="h"><a name="445"></a>445</td><td></td><td></td><td></td><td></td><td class="s">        my ($sid) = @_;</td></tr>
<tr><td class="h"><a name="446"></a>446</td><td></td><td></td><td></td><td></td><td class="s">        my $session = $class-&gt;load( $dsn, $sid, $dsn_args, $read_only );</td></tr>
<tr><td class="h"><a name="447"></a>447</td><td></td><td></td><td></td><td></td><td class="s">        unless ( $session ) {</td></tr>
<tr><td class="h"><a name="448"></a>448</td><td></td><td></td><td></td><td></td><td class="s">            return $class-&gt;set_error( &quot;find(): couldn't load session '$sid'. &quot; . $class-&gt;errstr );</td></tr>
<tr><td class="h"><a name="449"></a>449</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="450"></a>450</td><td></td><td></td><td></td><td></td><td class="s">        $coderef-&gt;( $session );</td></tr>
<tr><td class="h"><a name="451"></a>451</td><td></td><td></td><td></td><td></td><td class="s">    };</td></tr>
<tr><td class="h"><a name="452"></a>452</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="453"></a>453</td><td></td><td></td><td></td><td></td><td class="s">    defined($driver_obj-&gt;traverse( $driver_coderef ))</td></tr>
<tr><td class="h"><a name="454"></a>454</td><td></td><td></td><td></td><td></td><td class="s">        or return $class-&gt;set_error( &quot;find(): traverse seems to have failed. &quot; . $driver_obj-&gt;errstr );</td></tr>
<tr><td class="h"><a name="455"></a>455</td><td></td><td></td><td></td><td></td><td class="s">    return 1;</td></tr>
<tr><td class="h"><a name="456"></a>456</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="457"></a>457</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="458"></a>458</td><td></td><td></td><td></td><td></td><td class="s"># $Id$</td></tr>
<tr><td class="h"><a name="459"></a>459</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="460"></a>460</td><td></td><td></td><td></td><td></td><td class="s">=pod</td></tr>
<tr><td class="h"><a name="461"></a>461</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="462"></a>462</td><td></td><td></td><td></td><td></td><td class="s">=head1 NAME</td></tr>
<tr><td class="h"><a name="463"></a>463</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="464"></a>464</td><td></td><td></td><td></td><td></td><td class="s">CGI::Session - persistent session data in CGI applications</td></tr>
<tr><td class="h"><a name="465"></a>465</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="466"></a>466</td><td></td><td></td><td></td><td></td><td class="s">=head1 SYNOPSIS</td></tr>
<tr><td class="h"><a name="467"></a>467</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="468"></a>468</td><td></td><td></td><td></td><td></td><td class="s">    # Object initialization:</td></tr>
<tr><td class="h"><a name="469"></a>469</td><td></td><td></td><td></td><td></td><td class="s">    use CGI::Session;</td></tr>
<tr><td class="h"><a name="470"></a>470</td><td></td><td></td><td></td><td></td><td class="s">    $session = CGI::Session-&gt;new();</td></tr>
<tr><td class="h"><a name="471"></a>471</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="472"></a>472</td><td></td><td></td><td></td><td></td><td class="s">    $CGISESSID = $session-&gt;id();</td></tr>
<tr><td class="h"><a name="473"></a>473</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="474"></a>474</td><td></td><td></td><td></td><td></td><td class="s">    # Send proper HTTP header with cookies:</td></tr>
<tr><td class="h"><a name="475"></a>475</td><td></td><td></td><td></td><td></td><td class="s">    print $session-&gt;header();</td></tr>
<tr><td class="h"><a name="476"></a>476</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="477"></a>477</td><td></td><td></td><td></td><td></td><td class="s">    # Storing data in the session:</td></tr>
<tr><td class="h"><a name="478"></a>478</td><td></td><td></td><td></td><td></td><td class="s">    $session-&gt;param('f_name', 'Sherzod');</td></tr>
<tr><td class="h"><a name="479"></a>479</td><td></td><td></td><td></td><td></td><td class="s">    # or</td></tr>
<tr><td class="h"><a name="480"></a>480</td><td></td><td></td><td></td><td></td><td class="s">    $session-&gt;param(-name=&gt;'l_name', -value=&gt;'Ruzmetov');</td></tr>
<tr><td class="h"><a name="481"></a>481</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="482"></a>482</td><td></td><td></td><td></td><td></td><td class="s">    # Flush the data from memory to the storage driver at least before your</td></tr>
<tr><td class="h"><a name="483"></a>483</td><td></td><td></td><td></td><td></td><td class="s">    # program finishes since auto-flushing can be unreliable.</td></tr>
<tr><td class="h"><a name="484"></a>484</td><td></td><td></td><td></td><td></td><td class="s">    $session-&gt;flush();</td></tr>
<tr><td class="h"><a name="485"></a>485</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="486"></a>486</td><td></td><td></td><td></td><td></td><td class="s">    # Retrieving data:</td></tr>
<tr><td class="h"><a name="487"></a>487</td><td></td><td></td><td></td><td></td><td class="s">    my $f_name = $session-&gt;param('f_name');</td></tr>
<tr><td class="h"><a name="488"></a>488</td><td></td><td></td><td></td><td></td><td class="s">    # or</td></tr>
<tr><td class="h"><a name="489"></a>489</td><td></td><td></td><td></td><td></td><td class="s">    my $l_name = $session-&gt;param(-name=&gt;'l_name');</td></tr>
<tr><td class="h"><a name="490"></a>490</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="491"></a>491</td><td></td><td></td><td></td><td></td><td class="s">    # Clearing a certain session parameter:</td></tr>
<tr><td class="h"><a name="492"></a>492</td><td></td><td></td><td></td><td></td><td class="s">    $session-&gt;clear([&quot;l_name&quot;, &quot;f_name&quot;]);</td></tr>
<tr><td class="h"><a name="493"></a>493</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="494"></a>494</td><td></td><td></td><td></td><td></td><td class="s">    # Expire '_is_logged_in' flag after 10 idle minutes:</td></tr>
<tr><td class="h"><a name="495"></a>495</td><td></td><td></td><td></td><td></td><td class="s">    $session-&gt;expire('is_logged_in', '+10m')</td></tr>
<tr><td class="h"><a name="496"></a>496</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="497"></a>497</td><td></td><td></td><td></td><td></td><td class="s">    # Expire the session itself after 1 idle hour:</td></tr>
<tr><td class="h"><a name="498"></a>498</td><td></td><td></td><td></td><td></td><td class="s">    $session-&gt;expire('+1h');</td></tr>
<tr><td class="h"><a name="499"></a>499</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="500"></a>500</td><td></td><td></td><td></td><td></td><td class="s">    # Delete the session for good:</td></tr>
<tr><td class="h"><a name="501"></a>501</td><td></td><td></td><td></td><td></td><td class="s">    $session-&gt;delete();</td></tr>
<tr><td class="h"><a name="502"></a>502</td><td></td><td></td><td></td><td></td><td class="s">    $session-&gt;flush(); # Recommended practice says use flush() after delete().</td></tr>
<tr><td class="h"><a name="503"></a>503</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="504"></a>504</td><td></td><td></td><td></td><td></td><td class="s">=head1 DESCRIPTION</td></tr>
<tr><td class="h"><a name="505"></a>505</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="506"></a>506</td><td></td><td></td><td></td><td></td><td class="s">CGI::Session provides an easy, reliable and modular session management system across HTTP requests.</td></tr>
<tr><td class="h"><a name="507"></a>507</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="508"></a>508</td><td></td><td></td><td></td><td></td><td class="s">=head1 METHODS</td></tr>
<tr><td class="h"><a name="509"></a>509</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="510"></a>510</td><td></td><td></td><td></td><td></td><td class="s">Following is the overview of all the available methods accessible via CGI::Session object.</td></tr>
<tr><td class="h"><a name="511"></a>511</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="512"></a>512</td><td></td><td></td><td></td><td></td><td class="s">=head2 new()</td></tr>
<tr><td class="h"><a name="513"></a>513</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="514"></a>514</td><td></td><td></td><td></td><td></td><td class="s">=head2 new( $sid )</td></tr>
<tr><td class="h"><a name="515"></a>515</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="516"></a>516</td><td></td><td></td><td></td><td></td><td class="s">=head2 new( $query )</td></tr>
<tr><td class="h"><a name="517"></a>517</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="518"></a>518</td><td></td><td></td><td></td><td></td><td class="s">=head2 new( $dsn, $query||$sid )</td></tr>
<tr><td class="h"><a name="519"></a>519</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="520"></a>520</td><td></td><td></td><td></td><td></td><td class="s">=head2 new( $dsn, $query||$sid, \%dsn_args )</td></tr>
<tr><td class="h"><a name="521"></a>521</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="522"></a>522</td><td></td><td></td><td></td><td></td><td class="s">=head2 new( $dsn, $query||$sid, \%dsn_args, \%session_params )</td></tr>
<tr><td class="h"><a name="523"></a>523</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="524"></a>524</td><td></td><td></td><td></td><td></td><td class="s">Constructor. Returns new session object, or undef on failure. Error message is accessible through L&lt;errstr() - class method|CGI::Session::ErrorHandler/&quot;errstr()&quot;&gt;. If called on an already initialized session will re-initialize the session based on already configured object. This is only useful after a call to L&lt;load()|/&quot;load()&quot;&gt;.</td></tr>
<tr><td class="h"><a name="525"></a>525</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="526"></a>526</td><td></td><td></td><td></td><td></td><td class="s">Can accept up to three arguments, $dsn - Data Source Name, $query||$sid - query object OR a string representing session id, and finally, \%dsn_args, arguments used by $dsn components.</td></tr>
<tr><td class="h"><a name="527"></a>527</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="528"></a>528</td><td></td><td></td><td></td><td></td><td class="s">If called without any arguments, $dsn defaults to I&lt;driver:file;serializer:default;id:md5&gt;, $query||$sid defaults to C&lt;&lt; CGI-&gt;new() &gt;&gt;, and C&lt;\%dsn_args&gt; defaults to I&lt;undef&gt;.</td></tr>
<tr><td class="h"><a name="529"></a>529</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="530"></a>530</td><td></td><td></td><td></td><td></td><td class="s">If called with a single argument, it will be treated either as C&lt;$query&gt; object, or C&lt;$sid&gt;, depending on its type. If argument is a string , C&lt;new()&gt; will treat it as session id and will attempt to retrieve the session from data store. If it fails, will create a new session id, which will be accessible through L&lt;id() method|/&quot;id&quot;&gt;. If argument is an object, L&lt;cookie()|CGI/cookie&gt; and L&lt;param()|CGI/param&gt; methods will be called on that object to recover a potential C&lt;$sid&gt; and retrieve it from data store. If it fails, C&lt;new()&gt; will create a new session id, which will be accessible through L&lt;id() method|/&quot;id&quot;&gt;. C&lt;name()&gt; will define the name of the query parameter and/or cookie name to be requested, defaults to I&lt;CGISESSID&gt;.</td></tr>
<tr><td class="h"><a name="531"></a>531</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="532"></a>532</td><td></td><td></td><td></td><td></td><td class="s">If called with two arguments first will be treated as $dsn, and second will be treated as $query or $sid or undef, depending on its type. Some examples of this syntax are:</td></tr>
<tr><td class="h"><a name="533"></a>533</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="534"></a>534</td><td></td><td></td><td></td><td></td><td class="s">    $s = CGI::Session-&gt;new(&quot;driver:mysql&quot;, undef);</td></tr>
<tr><td class="h"><a name="535"></a>535</td><td></td><td></td><td></td><td></td><td class="s">    $s = CGI::Session-&gt;new(&quot;driver:sqlite&quot;, $sid);</td></tr>
<tr><td class="h"><a name="536"></a>536</td><td></td><td></td><td></td><td></td><td class="s">    $s = CGI::Session-&gt;new(&quot;driver:db_file&quot;, $query);</td></tr>
<tr><td class="h"><a name="537"></a>537</td><td></td><td></td><td></td><td></td><td class="s">    $s = CGI::Session-&gt;new(&quot;serializer:storable;id:incr&quot;, $sid);</td></tr>
<tr><td class="h"><a name="538"></a>538</td><td></td><td></td><td></td><td></td><td class="s">    # etc...</td></tr>
<tr><td class="h"><a name="539"></a>539</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="540"></a>540</td><td></td><td></td><td></td><td></td><td class="s">Briefly, C&lt;new()&gt; will return an initialized session object with a valid id, whereas C&lt;load()&gt; may return</td></tr>
<tr><td class="h"><a name="541"></a>541</td><td></td><td></td><td></td><td></td><td class="s">an empty session object with an undefined id.</td></tr>
<tr><td class="h"><a name="542"></a>542</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="543"></a>543</td><td></td><td></td><td></td><td></td><td class="s">Tests are provided (t/new_with_undef.t and t/load_with_undef.t) to clarify the result of calling C&lt;new()&gt; and C&lt;load()&gt;</td></tr>
<tr><td class="h"><a name="544"></a>544</td><td></td><td></td><td></td><td></td><td class="s">with undef, or with an initialized CGI object with an undefined or fake CGISESSID.</td></tr>
<tr><td class="h"><a name="545"></a>545</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="546"></a>546</td><td></td><td></td><td></td><td></td><td class="s">You are strongly advised to run the old-fashioned 'make test TEST_FILES=t/new_with_undef.t TEST_VERBOSE=1'</td></tr>
<tr><td class="h"><a name="547"></a>547</td><td></td><td></td><td></td><td></td><td class="s">or the new-fangled 'prove -v t/new_with_undef.t', for both new*.t and load*.t, and examine the output.</td></tr>
<tr><td class="h"><a name="548"></a>548</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="549"></a>549</td><td></td><td></td><td></td><td></td><td class="s">Following data source components are supported:</td></tr>
<tr><td class="h"><a name="550"></a>550</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="551"></a>551</td><td></td><td></td><td></td><td></td><td class="s">=over 4</td></tr>
<tr><td class="h"><a name="552"></a>552</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="553"></a>553</td><td></td><td></td><td></td><td></td><td class="s">=item *</td></tr>
<tr><td class="h"><a name="554"></a>554</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="555"></a>555</td><td></td><td></td><td></td><td></td><td class="s">B&lt;driver&gt; - CGI::Session driver. Available drivers are L&lt;file|CGI::Session::Driver::file&gt;, L&lt;db_file|CGI::Session::Driver::db_file&gt;, L&lt;mysql|CGI::Session::Driver::mysql&gt; and L&lt;sqlite|CGI::Session::Driver::sqlite&gt;. Third party drivers are welcome. For driver specs consider L&lt;CGI::Session::Driver|CGI::Session::Driver&gt;</td></tr>
<tr><td class="h"><a name="556"></a>556</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="557"></a>557</td><td></td><td></td><td></td><td></td><td class="s">=item *</td></tr>
<tr><td class="h"><a name="558"></a>558</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="559"></a>559</td><td></td><td></td><td></td><td></td><td class="s">B&lt;serializer&gt; - serializer to be used to encode the data structure before saving</td></tr>
<tr><td class="h"><a name="560"></a>560</td><td></td><td></td><td></td><td></td><td class="s">in the disk. Available serializers are L&lt;storable|CGI::Session::Serialize::storable&gt;, L&lt;freezethaw|CGI::Session::Serialize::freezethaw&gt; and L&lt;default|CGI::Session::Serialize::default&gt;. Default serializer will use L&lt;Data::Dumper|Data::Dumper&gt;.</td></tr>
<tr><td class="h"><a name="561"></a>561</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="562"></a>562</td><td></td><td></td><td></td><td></td><td class="s">=item *</td></tr>
<tr><td class="h"><a name="563"></a>563</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="564"></a>564</td><td></td><td></td><td></td><td></td><td class="s">B&lt;id&gt; - ID generator to use when new session is to be created. Available ID generator is L&lt;md5|CGI::Session::ID::md5&gt;</td></tr>
<tr><td class="h"><a name="565"></a>565</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="566"></a>566</td><td></td><td></td><td></td><td></td><td class="s">=back</td></tr>
<tr><td class="h"><a name="567"></a>567</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="568"></a>568</td><td></td><td></td><td></td><td></td><td class="s">For example, to get CGI::Session store its data using DB_File and serialize data using FreezeThaw:</td></tr>
<tr><td class="h"><a name="569"></a>569</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="570"></a>570</td><td></td><td></td><td></td><td></td><td class="s">    $s = CGI::Session-&gt;new(&quot;driver:DB_File;serializer:FreezeThaw&quot;, undef);</td></tr>
<tr><td class="h"><a name="571"></a>571</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="572"></a>572</td><td></td><td></td><td></td><td></td><td class="s">If called with three arguments, first two will be treated as in the previous example, and third argument will be C&lt;\%dsn_args&gt;, which will be passed to C&lt;$dsn&gt; components (namely, driver, serializer and id generators) for initialization purposes. Since all the $dsn components must initialize to some default value, this third argument should not be required for most drivers to operate properly.</td></tr>
<tr><td class="h"><a name="573"></a>573</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="574"></a>574</td><td></td><td></td><td></td><td></td><td class="s">If called with four arguments, the first three match previous examples. The fourth argument must be a hash reference with parameters to be used by the CGI::Session object. (see \%session_params above )</td></tr>
<tr><td class="h"><a name="575"></a>575</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="576"></a>576</td><td></td><td></td><td></td><td></td><td class="s">The following is a list of the current keys:</td></tr>
<tr><td class="h"><a name="577"></a>577</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="578"></a>578</td><td></td><td></td><td></td><td></td><td class="s">=over</td></tr>
<tr><td class="h"><a name="579"></a>579</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="580"></a>580</td><td></td><td></td><td></td><td></td><td class="s">=item *</td></tr>
<tr><td class="h"><a name="581"></a>581</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="582"></a>582</td><td></td><td></td><td></td><td></td><td class="s">B&lt;name&gt; - Name to use for the cookie/query parameter name. This defaults to CGISESSID. This can be altered or accessed by the C&lt;name&gt; accessor.</td></tr>
<tr><td class="h"><a name="583"></a>583</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="584"></a>584</td><td></td><td></td><td></td><td></td><td class="s">=back</td></tr>
<tr><td class="h"><a name="585"></a>585</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="586"></a>586</td><td></td><td></td><td></td><td></td><td class="s">undef is acceptable as a valid placeholder to any of the above arguments, which will force default behavior.</td></tr>
<tr><td class="h"><a name="587"></a>587</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="588"></a>588</td><td></td><td></td><td></td><td></td><td class="s">=head2 load()</td></tr>
<tr><td class="h"><a name="589"></a>589</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="590"></a>590</td><td></td><td></td><td></td><td></td><td class="s">=head2 load( $query||$sid )</td></tr>
<tr><td class="h"><a name="591"></a>591</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="592"></a>592</td><td></td><td></td><td></td><td></td><td class="s">=head2 load( $dsn, $query||$sid )</td></tr>
<tr><td class="h"><a name="593"></a>593</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="594"></a>594</td><td></td><td></td><td></td><td></td><td class="s">=head2 load( $dsn, $query, \%dsn_args )</td></tr>
<tr><td class="h"><a name="595"></a>595</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="596"></a>596</td><td></td><td></td><td></td><td></td><td class="s">=head2 load( $dsn, $query, \%dsn_args, \%session_params )</td></tr>
<tr><td class="h"><a name="597"></a>597</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="598"></a>598</td><td></td><td></td><td></td><td></td><td class="s">Accepts the same arguments as new(), and also returns a new session object, or</td></tr>
<tr><td class="h"><a name="599"></a>599</td><td></td><td></td><td></td><td></td><td class="s">undef on failure.  The difference is, L&lt;new()|/&quot;new()&quot;&gt; can create a new session if</td></tr>
<tr><td class="h"><a name="600"></a>600</td><td></td><td></td><td></td><td></td><td class="s">it detects expired and non-existing sessions, but C&lt;load()&gt; does not.</td></tr>
<tr><td class="h"><a name="601"></a>601</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="602"></a>602</td><td></td><td></td><td></td><td></td><td class="s">C&lt;load()&gt; is useful to detect expired or non-existing sessions without forcing the library to create new sessions. So now you can do something like this:</td></tr>
<tr><td class="h"><a name="603"></a>603</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="604"></a>604</td><td></td><td></td><td></td><td></td><td class="s">    $s = CGI::Session-&gt;load() or die CGI::Session-&gt;errstr();</td></tr>
<tr><td class="h"><a name="605"></a>605</td><td></td><td></td><td></td><td></td><td class="s">    if ( $s-&gt;is_expired ) {</td></tr>
<tr><td class="h"><a name="606"></a>606</td><td></td><td></td><td></td><td></td><td class="s">        print $s-&gt;header(),</td></tr>
<tr><td class="h"><a name="607"></a>607</td><td></td><td></td><td></td><td></td><td class="s">            $cgi-&gt;start_html(),</td></tr>
<tr><td class="h"><a name="608"></a>608</td><td></td><td></td><td></td><td></td><td class="s">            $cgi-&gt;p(&quot;Your session timed out! Refresh the screen to start new session!&quot;)</td></tr>
<tr><td class="h"><a name="609"></a>609</td><td></td><td></td><td></td><td></td><td class="s">            $cgi-&gt;end_html();</td></tr>
<tr><td class="h"><a name="610"></a>610</td><td></td><td></td><td></td><td></td><td class="s">        exit(0);</td></tr>
<tr><td class="h"><a name="611"></a>611</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="612"></a>612</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="613"></a>613</td><td></td><td></td><td></td><td></td><td class="s">    if ( $s-&gt;is_empty ) {</td></tr>
<tr><td class="h"><a name="614"></a>614</td><td></td><td></td><td></td><td></td><td class="s">        $s = $s-&gt;new() or die $s-&gt;errstr;</td></tr>
<tr><td class="h"><a name="615"></a>615</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="616"></a>616</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="617"></a>617</td><td></td><td></td><td></td><td></td><td class="s">Notice: All I&lt;expired&gt; sessions are empty, but not all I&lt;empty&gt; sessions are expired!</td></tr>
<tr><td class="h"><a name="618"></a>618</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="619"></a>619</td><td></td><td></td><td></td><td></td><td class="s">Briefly, C&lt;new()&gt; will return an initialized session object with a valid id, whereas C&lt;load()&gt; may return</td></tr>
<tr><td class="h"><a name="620"></a>620</td><td></td><td></td><td></td><td></td><td class="s">an empty session object with an undefined id.</td></tr>
<tr><td class="h"><a name="621"></a>621</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="622"></a>622</td><td></td><td></td><td></td><td></td><td class="s">Tests are provided (t/new_with_undef.t and t/load_with_undef.t) to clarify the result of calling C&lt;new()&gt; and C&lt;load()&gt;</td></tr>
<tr><td class="h"><a name="623"></a>623</td><td></td><td></td><td></td><td></td><td class="s">with undef, or with an initialized CGI object with an undefined or fake CGISESSID.</td></tr>
<tr><td class="h"><a name="624"></a>624</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="625"></a>625</td><td></td><td></td><td></td><td></td><td class="s">You are strongly advised to run the old-fashioned 'make test TEST_FILES=t/new_with_undef.t TEST_VERBOSE=1'</td></tr>
<tr><td class="h"><a name="626"></a>626</td><td></td><td></td><td></td><td></td><td class="s">or the new-fangled 'prove -v t/new_with_undef.t', for both new*.t and load*.t, and examine the output.</td></tr>
<tr><td class="h"><a name="627"></a>627</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="628"></a>628</td><td></td><td></td><td></td><td></td><td class="s">=cut</td></tr>
<tr><td class="h"><a name="629"></a>629</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="630"></a>630</td><td></td><td></td><td></td><td></td><td class="s"># pass a true value as the fourth parameter if you want to skip the changing of</td></tr>
<tr><td class="h"><a name="631"></a>631</td><td></td><td></td><td></td><td></td><td class="s"># access time This isn't documented more formally, because it only called by</td></tr>
<tr><td class="h"><a name="632"></a>632</td><td></td><td></td><td></td><td></td><td class="s"># find().</td></tr>
<tr><td class="h"><a name="633"></a>633</td><td></td><td></td><td></td><td></td><td class="s"><div class="calls"><div class="calls_in"># spent 5.18ms (217Âµs+4.96) within CGI::Session::load which was called 2 times, avg 2.59ms/call:
# 2 times (217Âµs+4.96ms) by CGI::Session::new at <a href="CGI-Session-pm-32-line.html#61">line 61</a>, avg 2.59ms/call</div></div>sub load {</td></tr>
<tr><td class="h"><a name="634"></a>634</td><td class="c3">2</td><td class="c3"><span title="Avg 450ns">900ns</span></td><td></td><td></td><td class="s">    my $class = shift;</td></tr>
<tr><td class="h"><a name="635"></a>635</td><td class="c3">2</td><td class="c3"><span title="Avg 350ns">700ns</span></td><td></td><td></td><td class="s">    return $class-&gt;set_error( &quot;called as instance method&quot;)    if ref $class;</td></tr>
<tr><td class="h"><a name="636"></a>636</td><td class="c3">2</td><td class="c3"><span title="Avg 750ns">2Âµs</span></td><td></td><td></td><td class="s">    return $class-&gt;set_error( &quot;Too many arguments provided to load()&quot;)  if @_ &gt; 5;</td></tr>
<tr><td class="h"><a name="637"></a>637</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="638"></a>638</td><td class="c3">2</td><td class="c0"><span title="Avg 10Âµs">20Âµs</span></td><td></td><td></td><td class="s">    my $self = bless {</td></tr>
<tr><td class="h"><a name="639"></a>639</td><td></td><td></td><td></td><td></td><td class="s">        _DATA       =&gt; {</td></tr>
<tr><td class="h"><a name="640"></a>640</td><td></td><td></td><td></td><td></td><td class="s">            _SESSION_ID     =&gt; undef,</td></tr>
<tr><td class="h"><a name="641"></a>641</td><td></td><td></td><td></td><td></td><td class="s">            _SESSION_CTIME  =&gt; undef,</td></tr>
<tr><td class="h"><a name="642"></a>642</td><td></td><td></td><td></td><td></td><td class="s">            _SESSION_ATIME  =&gt; undef,</td></tr>
<tr><td class="h"><a name="643"></a>643</td><td></td><td></td><td></td><td></td><td class="s">            _SESSION_REMOTE_ADDR =&gt; $ENV{REMOTE_ADDR} || &quot;&quot;,</td></tr>
<tr><td class="h"><a name="644"></a>644</td><td></td><td></td><td></td><td></td><td class="s">            #</td></tr>
<tr><td class="h"><a name="645"></a>645</td><td></td><td></td><td></td><td></td><td class="s">            # Following two attributes may not exist in every single session, and declaring</td></tr>
<tr><td class="h"><a name="646"></a>646</td><td></td><td></td><td></td><td></td><td class="s">            # them now will force these to get serialized into database, wasting space. But they</td></tr>
<tr><td class="h"><a name="647"></a>647</td><td></td><td></td><td></td><td></td><td class="s">            # are here to remind the coder of their purpose</td></tr>
<tr><td class="h"><a name="648"></a>648</td><td></td><td></td><td></td><td></td><td class="s">            #</td></tr>
<tr><td class="h"><a name="649"></a>649</td><td></td><td></td><td></td><td></td><td class="s">#            _SESSION_ETIME  =&gt; undef,</td></tr>
<tr><td class="h"><a name="650"></a>650</td><td></td><td></td><td></td><td></td><td class="s">#            _SESSION_EXPIRE_LIST =&gt; {}</td></tr>
<tr><td class="h"><a name="651"></a>651</td><td></td><td></td><td></td><td></td><td class="s">        },          # session data</td></tr>
<tr><td class="h"><a name="652"></a>652</td><td></td><td></td><td></td><td></td><td class="s">        _DSN        =&gt; {},          # parsed DSN params</td></tr>
<tr><td class="h"><a name="653"></a>653</td><td></td><td></td><td></td><td></td><td class="s">        _OBJECTS    =&gt; {},          # keeps necessary objects</td></tr>
<tr><td class="h"><a name="654"></a>654</td><td></td><td></td><td></td><td></td><td class="s">        _DRIVER_ARGS=&gt; {},          # arguments to be passed to driver</td></tr>
<tr><td class="h"><a name="655"></a>655</td><td></td><td></td><td></td><td></td><td class="s">        _CLAIMED_ID =&gt; undef,       # id **claimed** by client</td></tr>
<tr><td class="h"><a name="656"></a>656</td><td></td><td></td><td></td><td></td><td class="s">        _STATUS     =&gt; STATUS_UNSET,# status of the session object</td></tr>
<tr><td class="h"><a name="657"></a>657</td><td></td><td></td><td></td><td></td><td class="s">        _QUERY      =&gt; undef        # query object</td></tr>
<tr><td class="h"><a name="658"></a>658</td><td></td><td></td><td></td><td></td><td class="s">    }, $class;</td></tr>
<tr><td class="h"><a name="659"></a>659</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="660"></a>660</td><td class="c3">2</td><td class="c3"><span title="Avg 500ns">1Âµs</span></td><td></td><td></td><td class="s">    my ($dsn,$query_or_sid,$dsn_args,$read_only,$params);</td></tr>
<tr><td class="h"><a name="661"></a>661</td><td></td><td></td><td></td><td></td><td class="s">    # load($query||$sid)</td></tr>
<tr><td class="h"><a name="662"></a>662</td><td class="c3">2</td><td class="c3"><span title="Avg 1Âµs">2Âµs</span></td><td></td><td></td><td class="s">    if ( @_ == 1 ) {</td></tr>
<tr><td class="h"><a name="663"></a>663</td><td></td><td></td><td></td><td></td><td class="s">        $self-&gt;_set_query_or_sid($_[0]);</td></tr>
<tr><td class="h"><a name="664"></a>664</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="665"></a>665</td><td></td><td></td><td></td><td></td><td class="s">    # Two or more args passed:</td></tr>
<tr><td class="h"><a name="666"></a>666</td><td></td><td></td><td></td><td></td><td class="s">    # load($dsn, $query||$sid)</td></tr>
<tr><td class="h"><a name="667"></a>667</td><td></td><td></td><td></td><td></td><td class="s">    elsif ( @_ &gt; 1 ) {</td></tr>
<tr><td class="h"><a name="668"></a>668</td><td class="c3">2</td><td class="c3"><span title="Avg 1Âµs">2Âµs</span></td><td></td><td></td><td class="s">        ($dsn, $query_or_sid, $dsn_args,$read_only) = @_;</td></tr>
<tr><td class="h"><a name="669"></a>669</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="670"></a>670</td><td></td><td></td><td></td><td></td><td class="s">        # Make it backwards-compatible (update_atime is an undocumented key in %$params).</td></tr>
<tr><td class="h"><a name="671"></a>671</td><td></td><td></td><td></td><td></td><td class="s">        # In fact, update_atime as a key is not used anywhere in the code as yet.</td></tr>
<tr><td class="h"><a name="672"></a>672</td><td></td><td></td><td></td><td></td><td class="s">        # This patch is part of the patch for RT#33437.</td></tr>
<tr><td class="h"><a name="673"></a>673</td><td class="c3">2</td><td class="c3"><span title="Avg 300ns">600ns</span></td><td></td><td></td><td class="s">        if ( ref $read_only and ref $read_only eq 'HASH' ) {</td></tr>
<tr><td class="h"><a name="674"></a>674</td><td></td><td></td><td></td><td></td><td class="s">            $params = {%$read_only};</td></tr>
<tr><td class="h"><a name="675"></a>675</td><td></td><td></td><td></td><td></td><td class="s">            $read_only = $params-&gt;{'read_only'};</td></tr>
<tr><td class="h"><a name="676"></a>676</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="677"></a>677</td><td></td><td></td><td></td><td></td><td class="s">            if ($params-&gt;{'name'}) {</td></tr>
<tr><td class="h"><a name="678"></a>678</td><td></td><td></td><td></td><td></td><td class="s">                $self-&gt;{_NAME} = $params-&gt;{'name'};</td></tr>
<tr><td class="h"><a name="679"></a>679</td><td></td><td></td><td></td><td></td><td class="s">            }</td></tr>
<tr><td class="h"><a name="680"></a>680</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="681"></a>681</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="682"></a>682</td><td></td><td></td><td></td><td></td><td class="s">        # Since $read_only is not part of the public API</td></tr>
<tr><td class="h"><a name="683"></a>683</td><td></td><td></td><td></td><td></td><td class="s">        # we ignore any value but the one we use internally: 1.</td></tr>
<tr><td class="h"><a name="684"></a>684</td><td class="c3">2</td><td class="c3"><span title="Avg 300ns">600ns</span></td><td></td><td></td><td class="s">        if (defined $read_only and $read_only != '1') {</td></tr>
<tr><td class="h"><a name="685"></a>685</td><td></td><td></td><td></td><td></td><td class="s">            return $class-&gt;set_error( &quot;Too many arguments to load(). First extra argument was: $read_only&quot;);</td></tr>
<tr><td class="h"><a name="686"></a>686</td><td></td><td></td><td></td><td></td><td class="s">         }</td></tr>
<tr><td class="h"><a name="687"></a>687</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="688"></a>688</td><td class="c3">2</td><td class="c0"><span title="Avg 7Âµs">13Âµs</span></td><td class="c3">2</td><td class="c0">650Âµs</td><td class="s">        if ( defined $dsn ) {      # &lt;-- to avoid 'Uninitialized value...' warnings<div class="calls"><div class="calls_out">        # spent   650Âµs making 2 calls to <a href="CGI-Session-pm-32-line.html#143">CGI::Session::parse_dsn</a>, avg 325Âµs/call</div></div></td></tr>
<tr><td class="h"><a name="689"></a>689</td><td></td><td></td><td></td><td></td><td class="s">            $self-&gt;{_DSN} = $self-&gt;parse_dsn($dsn);</td></tr>
<tr><td class="h"><a name="690"></a>690</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="691"></a>691</td><td class="c3">2</td><td class="c2"><span title="Avg 2Âµs">4Âµs</span></td><td class="c3">2</td><td class="c3">7Âµs</td><td class="s">        $self-&gt;_set_query_or_sid($query_or_sid);<div class="calls"><div class="calls_out">        # spent     7Âµs making 2 calls to <a href="CGI-Session-pm-32-line.html#782">CGI::Session::_set_query_or_sid</a>, avg 4Âµs/call</div></div></td></tr>
<tr><td class="h"><a name="692"></a>692</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="693"></a>693</td><td></td><td></td><td></td><td></td><td class="s">        # load($dsn, $query, \%dsn_args);</td></tr>
<tr><td class="h"><a name="694"></a>694</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="695"></a>695</td><td class="c3">2</td><td class="c3"><span title="Avg 550ns">1Âµs</span></td><td></td><td></td><td class="s">        $self-&gt;{_DRIVER_ARGS} = $dsn_args if defined $dsn_args;</td></tr>
<tr><td class="h"><a name="696"></a>696</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="697"></a>697</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="698"></a>698</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="699"></a>699</td><td class="c3">2</td><td class="c1"><span title="Avg 2Âµs">5Âµs</span></td><td class="c3">2</td><td class="c0">3.36ms</td><td class="s">    $self-&gt;_load_pluggables();<div class="calls"><div class="calls_out">    # spent  3.36ms making 2 calls to <a href="CGI-Session-pm-32-line.html#790">CGI::Session::_load_pluggables</a>, avg 1.68ms/call</div></div></td></tr>
<tr><td class="h"><a name="700"></a>700</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="701"></a>701</td><td></td><td></td><td></td><td></td><td class="s">    # Did load_pluggable fail? If so, return undef, just like $class-&gt;set_error() would</td></tr>
<tr><td class="h"><a name="702"></a>702</td><td class="c3">2</td><td class="c0"><span title="Avg 4Âµs">8Âµs</span></td><td class="c3">2</td><td class="c3">9Âµs</td><td class="s">    return undef if $class-&gt;errstr;<div class="calls"><div class="calls_out">    # spent     9Âµs making 2 calls to <a href="CGI-Session-ErrorHandler-pm-33-line.html#58">CGI::Session::ErrorHandler::errstr</a>, avg 5Âµs/call</div></div></td></tr>
<tr><td class="h"><a name="703"></a>703</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="704"></a>704</td><td class="c3">2</td><td class="c3"><span title="Avg 900ns">2Âµs</span></td><td></td><td></td><td class="s">    if (not defined $self-&gt;{_CLAIMED_ID}) {</td></tr>
<tr><td class="h"><a name="705"></a>705</td><td></td><td></td><td></td><td></td><td class="s">        my $query = $self-&gt;query();</td></tr>
<tr><td class="h"><a name="706"></a>706</td><td></td><td></td><td></td><td></td><td class="s">        eval {</td></tr>
<tr><td class="h"><a name="707"></a>707</td><td></td><td></td><td></td><td></td><td class="s">            $self-&gt;{_CLAIMED_ID} = $query-&gt;cookie( $self-&gt;name ) || $query-&gt;param( $self-&gt;name );</td></tr>
<tr><td class="h"><a name="708"></a>708</td><td></td><td></td><td></td><td></td><td class="s">        };</td></tr>
<tr><td class="h"><a name="709"></a>709</td><td></td><td></td><td></td><td></td><td class="s">        if ( my $errmsg = $@ ) {</td></tr>
<tr><td class="h"><a name="710"></a>710</td><td></td><td></td><td></td><td></td><td class="s">            return $class-&gt;set_error( &quot;query object $query does not support cookie() and param() methods: &quot; .  $errmsg );</td></tr>
<tr><td class="h"><a name="711"></a>711</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="712"></a>712</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="713"></a>713</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="714"></a>714</td><td></td><td></td><td></td><td></td><td class="s">    # No session is being requested. Just return an empty session</td></tr>
<tr><td class="h"><a name="715"></a>715</td><td class="c3">2</td><td class="c3"><span title="Avg 400ns">800ns</span></td><td></td><td></td><td class="s">    return $self unless $self-&gt;{_CLAIMED_ID};</td></tr>
<tr><td class="h"><a name="716"></a>716</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="717"></a>717</td><td></td><td></td><td></td><td></td><td class="s">    # Attempting to load the session</td></tr>
<tr><td class="h"><a name="718"></a>718</td><td class="c3">2</td><td class="c0"><span title="Avg 7Âµs">13Âµs</span></td><td class="c3">2</td><td class="c0">97Âµs</td><td class="s">    my $driver = $self-&gt;_driver();<div class="calls"><div class="calls_out">    # spent    97Âµs making 2 calls to <a href="CGI-Session-pm-32-line.html#113">CGI::Session::_driver</a>, avg 48Âµs/call</div></div></td></tr>
<tr><td class="h"><a name="719"></a>719</td><td class="c3">2</td><td class="c0"><span title="Avg 4Âµs">8Âµs</span></td><td class="c3">2</td><td class="c0">479Âµs</td><td class="s">    my $raw_data = $driver-&gt;retrieve( $self-&gt;{_CLAIMED_ID} );<div class="calls"><div class="calls_out">    # spent   479Âµs making 2 calls to <a href="CGI-Session-Driver-DBI-pm-1273-line.html#61">CGI::Session::Driver::DBI::retrieve</a>, avg 240Âµs/call</div></div></td></tr>
<tr><td class="h"><a name="720"></a>720</td><td class="c3">2</td><td class="c3"><span title="Avg 400ns">800ns</span></td><td></td><td></td><td class="s">    unless ( defined $raw_data ) {</td></tr>
<tr><td class="h"><a name="721"></a>721</td><td></td><td></td><td></td><td></td><td class="s">        return $self-&gt;set_error( &quot;load(): couldn't retrieve data: &quot; . $driver-&gt;errstr );</td></tr>
<tr><td class="h"><a name="722"></a>722</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="723"></a>723</td><td></td><td></td><td></td><td></td><td class="s">    </td></tr>
<tr><td class="h"><a name="724"></a>724</td><td></td><td></td><td></td><td></td><td class="s">    # Requested session couldn't be retrieved</td></tr>
<tr><td class="h"><a name="725"></a>725</td><td class="c3">2</td><td class="c3"><span title="Avg 200ns">400ns</span></td><td></td><td></td><td class="s">    return $self unless $raw_data;</td></tr>
<tr><td class="h"><a name="726"></a>726</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="727"></a>727</td><td class="c3">2</td><td class="c1"><span title="Avg 2Âµs">5Âµs</span></td><td class="c3">2</td><td class="c3">10Âµs</td><td class="s">    my $serializer = $self-&gt;_serializer();<div class="calls"><div class="calls_out">    # spent    10Âµs making 2 calls to <a href="CGI-Session-pm-32-line.html#122">CGI::Session::_serializer</a>, avg 5Âµs/call</div></div></td></tr>
<tr><td class="h"><a name="728"></a>728</td><td class="c3">2</td><td class="c0"><span title="Avg 5Âµs">10Âµs</span></td><td class="c3">2</td><td class="c0">340Âµs</td><td class="s">    $self-&gt;{_DATA} = $serializer-&gt;thaw($raw_data);<div class="calls"><div class="calls_out">    # spent   340Âµs making 2 calls to <a href="CGI-Session-Serialize-yaml-pm-1276-line.html#22">CGI::Session::Serialize::yaml::thaw</a>, avg 170Âµs/call</div></div></td></tr>
<tr><td class="h"><a name="729"></a>729</td><td class="c3">2</td><td class="c3"><span title="Avg 750ns">2Âµs</span></td><td></td><td></td><td class="s">    unless ( defined $self-&gt;{_DATA} ) {</td></tr>
<tr><td class="h"><a name="730"></a>730</td><td></td><td></td><td></td><td></td><td class="s">        #die $raw_data . &quot;\n&quot;;</td></tr>
<tr><td class="h"><a name="731"></a>731</td><td></td><td></td><td></td><td></td><td class="s">        return $self-&gt;set_error( &quot;load(): couldn't thaw() data using $serializer:&quot; .</td></tr>
<tr><td class="h"><a name="732"></a>732</td><td></td><td></td><td></td><td></td><td class="s">                                $serializer-&gt;errstr );</td></tr>
<tr><td class="h"><a name="733"></a>733</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="734"></a>734</td><td class="c3">2</td><td class="c1"><span title="Avg 2Âµs">5Âµs</span></td><td></td><td></td><td class="s">    unless (defined($self-&gt;{_DATA}) &amp;&amp; ref ($self-&gt;{_DATA}) &amp;&amp; (ref $self-&gt;{_DATA} eq 'HASH') &amp;&amp;</td></tr>
<tr><td class="h"><a name="735"></a>735</td><td></td><td></td><td></td><td></td><td class="s">            defined($self-&gt;{_DATA}-&gt;{_SESSION_ID}) ) {</td></tr>
<tr><td class="h"><a name="736"></a>736</td><td></td><td></td><td></td><td></td><td class="s">        return $self-&gt;set_error( &quot;Invalid data structure returned from thaw()&quot; );</td></tr>
<tr><td class="h"><a name="737"></a>737</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="738"></a>738</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="739"></a>739</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="740"></a>740</td><td></td><td></td><td></td><td></td><td class="s">    # checking for expiration ticker</td></tr>
<tr><td class="h"><a name="741"></a>741</td><td class="c3">2</td><td class="c3"><span title="Avg 800ns">2Âµs</span></td><td></td><td></td><td class="s">    if ( $self-&gt;{_DATA}-&gt;{_SESSION_ETIME} ) {</td></tr>
<tr><td class="h"><a name="742"></a>742</td><td></td><td></td><td></td><td></td><td class="s">        if ( ($self-&gt;{_DATA}-&gt;{_SESSION_ATIME} + $self-&gt;{_DATA}-&gt;{_SESSION_ETIME}) &lt;= time() ) {</td></tr>
<tr><td class="h"><a name="743"></a>743</td><td></td><td></td><td></td><td></td><td class="s">            $self-&gt;_set_status( STATUS_EXPIRED |    # &lt;-- so client can detect expired sessions</td></tr>
<tr><td class="h"><a name="744"></a>744</td><td></td><td></td><td></td><td></td><td class="s">                STATUS_DELETED );                   # &lt;-- session should be removed from database</td></tr>
<tr><td class="h"><a name="745"></a>745</td><td></td><td></td><td></td><td></td><td class="s">            $self-&gt;flush();                         # &lt;-- flush() will do the actual removal!</td></tr>
<tr><td class="h"><a name="746"></a>746</td><td></td><td></td><td></td><td></td><td class="s">            return $self;</td></tr>
<tr><td class="h"><a name="747"></a>747</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="748"></a>748</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="749"></a>749</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="750"></a>750</td><td></td><td></td><td></td><td></td><td class="s">    # checking expiration tickers of individuals parameters, if any:</td></tr>
<tr><td class="h"><a name="751"></a>751</td><td class="c3">2</td><td class="c3"><span title="Avg 1Âµs">2Âµs</span></td><td></td><td></td><td class="s">    my @expired_params = ();</td></tr>
<tr><td class="h"><a name="752"></a>752</td><td class="c3">2</td><td class="c3"><span title="Avg 550ns">1Âµs</span></td><td></td><td></td><td class="s">    if ( $self-&gt;{_DATA}-&gt;{_SESSION_EXPIRE_LIST} ) {</td></tr>
<tr><td class="h"><a name="753"></a>753</td><td></td><td></td><td></td><td></td><td class="s">        while (my ($param, $max_exp_interval) = each %{ $self-&gt;{_DATA}-&gt;{_SESSION_EXPIRE_LIST} } ) {</td></tr>
<tr><td class="h"><a name="754"></a>754</td><td></td><td></td><td></td><td></td><td class="s">            if ( ($self-&gt;{_DATA}-&gt;{_SESSION_ATIME} + $max_exp_interval) &lt;= time() ) {</td></tr>
<tr><td class="h"><a name="755"></a>755</td><td></td><td></td><td></td><td></td><td class="s">                push @expired_params, $param;</td></tr>
<tr><td class="h"><a name="756"></a>756</td><td></td><td></td><td></td><td></td><td class="s">            }</td></tr>
<tr><td class="h"><a name="757"></a>757</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="758"></a>758</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="759"></a>759</td><td class="c3">2</td><td class="c3"><span title="Avg 600ns">1Âµs</span></td><td></td><td></td><td class="s">    $self-&gt;clear(\@expired_params) if @expired_params;</td></tr>
<tr><td class="h"><a name="760"></a>760</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="- -"></a>- -</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="763"></a>763</td><td class="c3">2</td><td class="c3"><span title="Avg 650ns">1Âµs</span></td><td></td><td></td><td class="s">    if (not defined $read_only) {</td></tr>
<tr><td class="h"><a name="764"></a>764</td><td></td><td></td><td></td><td></td><td class="s">        # checking if previous session ip matches current ip</td></tr>
<tr><td class="h"><a name="765"></a>765</td><td class="c3">2</td><td class="c3"><span title="Avg 500ns">1Âµs</span></td><td></td><td></td><td class="s">        if($CGI::Session::IP_MATCH) {</td></tr>
<tr><td class="h"><a name="766"></a>766</td><td></td><td></td><td></td><td></td><td class="s">            unless($self-&gt;ip_matches) {</td></tr>
<tr><td class="h"><a name="767"></a>767</td><td></td><td></td><td></td><td></td><td class="s">                $self-&gt;_set_status( STATUS_DELETED );</td></tr>
<tr><td class="h"><a name="768"></a>768</td><td></td><td></td><td></td><td></td><td class="s">                $self-&gt;flush;</td></tr>
<tr><td class="h"><a name="769"></a>769</td><td></td><td></td><td></td><td></td><td class="s">                return $self;</td></tr>
<tr><td class="h"><a name="770"></a>770</td><td></td><td></td><td></td><td></td><td class="s">            }</td></tr>
<tr><td class="h"><a name="771"></a>771</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="772"></a>772</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="773"></a>773</td><td class="c3">2</td><td class="c3"><span title="Avg 1Âµs">2Âµs</span></td><td></td><td></td><td class="s">        $self-&gt;{_DATA}-&gt;{_SESSION_ATIME} = time();      # &lt;-- updating access time</td></tr>
<tr><td class="h"><a name="774"></a>774</td><td class="c3">2</td><td class="c0"><span title="Avg 3Âµs">6Âµs</span></td><td class="c3">2</td><td class="c3">7Âµs</td><td class="s">        $self-&gt;_set_status( STATUS_MODIFIED );          # &lt;-- access time modified above<div class="calls"><div class="calls_out">        # spent     7Âµs making 2 calls to <a href="CGI-Session-pm-32-line.html#194">CGI::Session::_set_status</a>, avg 4Âµs/call</div></div></td></tr>
<tr><td class="h"><a name="775"></a>775</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="776"></a>776</td><td></td><td></td><td></td><td></td><td class="s">    </td></tr>
<tr><td class="h"><a name="777"></a>777</td><td class="c3">2</td><td class="c0"><span title="Avg 4Âµs">8Âµs</span></td><td></td><td></td><td class="s">    return $self;</td></tr>
<tr><td class="h"><a name="778"></a>778</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="779"></a>779</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="780"></a>780</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="781"></a>781</td><td></td><td></td><td></td><td></td><td class="s"># set the input as a query object or session ID, depending on what it looks like.  </td></tr>
<tr><td class="h"><a name="782"></a>782</td><td></td><td></td><td></td><td></td><td class="s"><div class="calls"><div class="calls_in"># spent 7Âµs within CGI::Session::_set_query_or_sid which was called 2 times, avg 4Âµs/call:
# 2 times (7Âµs+0s) by CGI::Session::load at <a href="CGI-Session-pm-32-line.html#691">line 691</a>, avg 4Âµs/call</div></div>sub _set_query_or_sid {</td></tr>
<tr><td class="h"><a name="783"></a>783</td><td class="c3">2</td><td class="c3"><span title="Avg 400ns">800ns</span></td><td></td><td></td><td class="s">    my $self = shift;</td></tr>
<tr><td class="h"><a name="784"></a>784</td><td class="c3">2</td><td class="c3"><span title="Avg 500ns">1Âµs</span></td><td></td><td></td><td class="s">    my $query_or_sid = shift;</td></tr>
<tr><td class="h"><a name="785"></a>785</td><td class="c3">2</td><td class="c0"><span title="Avg 4Âµs">8Âµs</span></td><td></td><td></td><td class="s">    if ( ref $query_or_sid){ $self-&gt;{_QUERY}       = $query_or_sid  }</td></tr>
<tr><td class="h"><a name="786"></a>786</td><td class="c3">2</td><td class="c3"><span title="Avg 800ns">2Âµs</span></td><td></td><td></td><td class="s">    else                   { $self-&gt;{_CLAIMED_ID}  = $query_or_sid  }</td></tr>
<tr><td class="h"><a name="787"></a>787</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="788"></a>788</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="789"></a>789</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="790"></a>790</td><td></td><td></td><td></td><td></td><td class="s"><div class="calls"><div class="calls_in"># spent 3.36ms (1.43+1.94) within CGI::Session::_load_pluggables which was called 2 times, avg 1.68ms/call:
# 2 times (1.43ms+1.94ms) by CGI::Session::load at <a href="CGI-Session-pm-32-line.html#699">line 699</a>, avg 1.68ms/call</div></div>sub _load_pluggables {</td></tr>
<tr><td class="h"><a name="791"></a>791</td><td class="c3">2</td><td class="c3"><span title="Avg 500ns">1Âµs</span></td><td></td><td></td><td class="s">    my ($self) = @_;</td></tr>
<tr><td class="h"><a name="792"></a>792</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="793"></a>793</td><td class="c3">2</td><td class="c2"><span title="Avg 2Âµs">4Âµs</span></td><td></td><td></td><td class="s">    my %DEFAULT_FOR = (</td></tr>
<tr><td class="h"><a name="794"></a>794</td><td></td><td></td><td></td><td></td><td class="s">                       driver     =&gt; &quot;file&quot;,</td></tr>
<tr><td class="h"><a name="795"></a>795</td><td></td><td></td><td></td><td></td><td class="s">                       serializer =&gt; &quot;default&quot;,</td></tr>
<tr><td class="h"><a name="796"></a>796</td><td></td><td></td><td></td><td></td><td class="s">                       id         =&gt; &quot;md5&quot;,</td></tr>
<tr><td class="h"><a name="797"></a>797</td><td></td><td></td><td></td><td></td><td class="s">                       );</td></tr>
<tr><td class="h"><a name="798"></a>798</td><td class="c3">2</td><td class="c3"><span title="Avg 1Âµs">2Âµs</span></td><td></td><td></td><td class="s">    my %SUBDIR_FOR  = (</td></tr>
<tr><td class="h"><a name="799"></a>799</td><td></td><td></td><td></td><td></td><td class="s">                       driver     =&gt; &quot;Driver&quot;,</td></tr>
<tr><td class="h"><a name="800"></a>800</td><td></td><td></td><td></td><td></td><td class="s">                       serializer =&gt; &quot;Serialize&quot;,</td></tr>
<tr><td class="h"><a name="801"></a>801</td><td></td><td></td><td></td><td></td><td class="s">                       id         =&gt; &quot;ID&quot;,</td></tr>
<tr><td class="h"><a name="802"></a>802</td><td></td><td></td><td></td><td></td><td class="s">                       );</td></tr>
<tr><td class="h"><a name="803"></a>803</td><td class="c3">2</td><td class="c3"><span title="Avg 550ns">1Âµs</span></td><td></td><td></td><td class="s">    my $dsn = $self-&gt;{_DSN};</td></tr>
<tr><td class="h"><a name="804"></a>804</td><td class="c3">2</td><td class="c3"><span title="Avg 1Âµs">2Âµs</span></td><td></td><td></td><td class="s">    for my $plug (qw(driver serializer id)) {</td></tr>
<tr><td class="h"><a name="805"></a>805</td><td class="c0">6</td><td class="c1"><span title="Avg 800ns">5Âµs</span></td><td></td><td></td><td class="s">        my $mod_name = $dsn-&gt;{ $plug };</td></tr>
<tr><td class="h"><a name="806"></a>806</td><td class="c0">6</td><td class="c3"><span title="Avg 267ns">2Âµs</span></td><td></td><td></td><td class="s">        if (not defined $mod_name) {</td></tr>
<tr><td class="h"><a name="807"></a>807</td><td></td><td></td><td></td><td></td><td class="s">            $mod_name = $DEFAULT_FOR{ $plug };</td></tr>
<tr><td class="h"><a name="808"></a>808</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="809"></a>809</td><td class="c0">6</td><td class="c0"><span title="Avg 8Âµs">49Âµs</span></td><td class="c0">6</td><td class="c3">22Âµs</td><td class="s">        if ($mod_name =~ /^(\w+)$/) {<div class="calls"><div class="calls_out">        # spent    22Âµs making 6 calls to <a href="CGI-Session-pm-32-line.html#CGI__Session__CORE_match">CGI::Session::CORE:match</a>, avg 4Âµs/call</div></div></td></tr>
<tr><td class="h"><a name="810"></a>810</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="811"></a>811</td><td></td><td></td><td></td><td></td><td class="s">            # Looks good.  Put it into the dsn hash</td></tr>
<tr><td class="h"><a name="812"></a>812</td><td class="c0">6</td><td class="c0"><span title="Avg 2Âµs">13Âµs</span></td><td></td><td></td><td class="s">            $dsn-&gt;{ $plug } = $mod_name = $1;</td></tr>
<tr><td class="h"><a name="813"></a>813</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="814"></a>814</td><td></td><td></td><td></td><td></td><td class="s">            # Put together the actual module name to load</td></tr>
<tr><td class="h"><a name="815"></a>815</td><td class="c0">6</td><td class="c0"><span title="Avg 1Âµs">7Âµs</span></td><td></td><td></td><td class="s">            my $prefix = join '::', (__PACKAGE__, $SUBDIR_FOR{ $plug }, q{});</td></tr>
<tr><td class="h"><a name="816"></a>816</td><td class="c0">6</td><td class="c1"><span title="Avg 817ns">5Âµs</span></td><td></td><td></td><td class="s">            $mod_name = $prefix . $mod_name;</td></tr>
<tr><td class="h"><a name="817"></a>817</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="818"></a>818</td><td></td><td></td><td></td><td></td><td class="s">            ## See if we can load load it</td></tr>
<tr><td class="h"><a name="819"></a>819</td><td class="c0">6</td><td class="c0"><span title="Avg 37Âµs">220Âµs</span></td><td></td><td></td><td class="s">            eval &quot;require $mod_name&quot;;<div class="calls"><div class="calls_out">            # spent   120Âµs executing statements in <a href="(eval 1120)[CGI-Session-pm-819]-1275-line.html">2 string evals (merged)</a>
            # spent   112Âµs executing statements in <a href="(eval 1119)[CGI-Session-pm-819]-1271-line.html">2 string evals (merged)</a>
            # spent    95Âµs executing statements in <a href="(eval 1123)[CGI-Session-pm-819]-1279-line.html">2 string evals (merged)</a></div></div></td></tr>
<tr><td class="h"><a name="820"></a>820</td><td class="c0">6</td><td class="c3"><span title="Avg 417ns">2Âµs</span></td><td></td><td></td><td class="s">            if ($@) {</td></tr>
<tr><td class="h"><a name="821"></a>821</td><td></td><td></td><td></td><td></td><td class="s">                my $msg = $@;</td></tr>
<tr><td class="h"><a name="822"></a>822</td><td></td><td></td><td></td><td></td><td class="s">                return $self-&gt;set_error(&quot;couldn't load $mod_name: &quot; . $msg);</td></tr>
<tr><td class="h"><a name="823"></a>823</td><td></td><td></td><td></td><td></td><td class="s">            }</td></tr>
<tr><td class="h"><a name="824"></a>824</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="825"></a>825</td><td></td><td></td><td></td><td></td><td class="s">        else {</td></tr>
<tr><td class="h"><a name="826"></a>826</td><td></td><td></td><td></td><td></td><td class="s">            # do something here about bad name for a pluggable</td></tr>
<tr><td class="h"><a name="827"></a>827</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="828"></a>828</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="829"></a>829</td><td class="c3">2</td><td class="c0"><span title="Avg 6Âµs">12Âµs</span></td><td></td><td></td><td class="s">    return;</td></tr>
<tr><td class="h"><a name="830"></a>830</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="831"></a>831</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="832"></a>832</td><td></td><td></td><td></td><td></td><td class="s">=pod</td></tr>
<tr><td class="h"><a name="833"></a>833</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="834"></a>834</td><td></td><td></td><td></td><td></td><td class="s">=head2 id()</td></tr>
<tr><td class="h"><a name="835"></a>835</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="836"></a>836</td><td></td><td></td><td></td><td></td><td class="s">Returns effective ID for a session. Since effective ID and claimed ID can differ, valid session id should always</td></tr>
<tr><td class="h"><a name="837"></a>837</td><td></td><td></td><td></td><td></td><td class="s">be retrieved using this method.</td></tr>
<tr><td class="h"><a name="838"></a>838</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="839"></a>839</td><td></td><td></td><td></td><td></td><td class="s">=head2 param($name)</td></tr>
<tr><td class="h"><a name="840"></a>840</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="841"></a>841</td><td></td><td></td><td></td><td></td><td class="s">=head2 param(-name=E&lt;gt&gt;$name)</td></tr>
<tr><td class="h"><a name="842"></a>842</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="843"></a>843</td><td></td><td></td><td></td><td></td><td class="s">Used in either of the above syntax returns a session parameter set to $name or undef if it doesn't exist. If it's called on a deleted method param() will issue a warning but return value is not defined.</td></tr>
<tr><td class="h"><a name="844"></a>844</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="845"></a>845</td><td></td><td></td><td></td><td></td><td class="s">=head2 param($name, $value)</td></tr>
<tr><td class="h"><a name="846"></a>846</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="847"></a>847</td><td></td><td></td><td></td><td></td><td class="s">=head2 param(-name=E&lt;gt&gt;$name, -value=E&lt;gt&gt;$value)</td></tr>
<tr><td class="h"><a name="848"></a>848</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="849"></a>849</td><td></td><td></td><td></td><td></td><td class="s">Used in either of the above syntax assigns a new value to $name parameter,</td></tr>
<tr><td class="h"><a name="850"></a>850</td><td></td><td></td><td></td><td></td><td class="s">which can later be retrieved with previously introduced param() syntax. C&lt;$value&gt;</td></tr>
<tr><td class="h"><a name="851"></a>851</td><td></td><td></td><td></td><td></td><td class="s">may be a scalar, arrayref or hashref.</td></tr>
<tr><td class="h"><a name="852"></a>852</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="853"></a>853</td><td></td><td></td><td></td><td></td><td class="s">Attempts to set parameter names that start with I&lt;_SESSION_&gt; will trigger</td></tr>
<tr><td class="h"><a name="854"></a>854</td><td></td><td></td><td></td><td></td><td class="s">a warning and undef will be returned.</td></tr>
<tr><td class="h"><a name="855"></a>855</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="856"></a>856</td><td></td><td></td><td></td><td></td><td class="s">=head2 param_hashref()</td></tr>
<tr><td class="h"><a name="857"></a>857</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="858"></a>858</td><td></td><td></td><td></td><td></td><td class="s">B&lt;Deprecated&gt;. Use L&lt;dataref()|/&quot;dataref()&quot;&gt; instead.</td></tr>
<tr><td class="h"><a name="859"></a>859</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="860"></a>860</td><td></td><td></td><td></td><td></td><td class="s">=head2 dataref()</td></tr>
<tr><td class="h"><a name="861"></a>861</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="862"></a>862</td><td></td><td></td><td></td><td></td><td class="s">Returns reference to session's data table:</td></tr>
<tr><td class="h"><a name="863"></a>863</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="864"></a>864</td><td></td><td></td><td></td><td></td><td class="s">    $params = $s-&gt;dataref();</td></tr>
<tr><td class="h"><a name="865"></a>865</td><td></td><td></td><td></td><td></td><td class="s">    $sid = $params-&gt;{_SESSION_ID};</td></tr>
<tr><td class="h"><a name="866"></a>866</td><td></td><td></td><td></td><td></td><td class="s">    $name= $params-&gt;{name};</td></tr>
<tr><td class="h"><a name="867"></a>867</td><td></td><td></td><td></td><td></td><td class="s">    # etc...</td></tr>
<tr><td class="h"><a name="868"></a>868</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="869"></a>869</td><td></td><td></td><td></td><td></td><td class="s">Useful for having all session data in a hashref, but too risky to update.</td></tr>
<tr><td class="h"><a name="870"></a>870</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="871"></a>871</td><td></td><td></td><td></td><td></td><td class="s">=head2 save_param()</td></tr>
<tr><td class="h"><a name="872"></a>872</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="873"></a>873</td><td></td><td></td><td></td><td></td><td class="s">=head2 save_param($query)</td></tr>
<tr><td class="h"><a name="874"></a>874</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="875"></a>875</td><td></td><td></td><td></td><td></td><td class="s">=head2 save_param($query, \@list)</td></tr>
<tr><td class="h"><a name="876"></a>876</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="877"></a>877</td><td></td><td></td><td></td><td></td><td class="s">Saves query parameters to session object. In other words, it's the same as calling L&lt;param($name, $value)|/&quot;param($name)&quot;&gt; for every single query parameter returned by C&lt;&lt; $query-&gt;param() &gt;&gt;. The first argument, if present, should be either CGI object or any object which can provide param() method. If it's undef, defaults to the return value of L&lt;query()|/&quot;query()&quot;&gt;, which returns C&lt;&lt; CGI-&gt;new &gt;&gt;. If second argument is present and is a reference to an array, only those query parameters found in the array will be stored in the session. undef is a valid placeholder for any argument to force default behavior.</td></tr>
<tr><td class="h"><a name="878"></a>878</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="879"></a>879</td><td></td><td></td><td></td><td></td><td class="s">=head2 load_param()</td></tr>
<tr><td class="h"><a name="880"></a>880</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="881"></a>881</td><td></td><td></td><td></td><td></td><td class="s">=head2 load_param($query)</td></tr>
<tr><td class="h"><a name="882"></a>882</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="883"></a>883</td><td></td><td></td><td></td><td></td><td class="s">=head2 load_param($query, \@list)</td></tr>
<tr><td class="h"><a name="884"></a>884</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="885"></a>885</td><td></td><td></td><td></td><td></td><td class="s">Loads session parameters into a query object. The first argument, if present, should be query object, or any other object which can provide param() method. If second argument is present and is a reference to an array, only parameters found in that array will be loaded to the query object.</td></tr>
<tr><td class="h"><a name="886"></a>886</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="887"></a>887</td><td></td><td></td><td></td><td></td><td class="s">=head2 clear()</td></tr>
<tr><td class="h"><a name="888"></a>888</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="889"></a>889</td><td></td><td></td><td></td><td></td><td class="s">=head2 clear('field')</td></tr>
<tr><td class="h"><a name="890"></a>890</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="891"></a>891</td><td></td><td></td><td></td><td></td><td class="s">=head2 clear(\@list)</td></tr>
<tr><td class="h"><a name="892"></a>892</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="893"></a>893</td><td></td><td></td><td></td><td></td><td class="s">Clears parameters from the session object.</td></tr>
<tr><td class="h"><a name="894"></a>894</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="895"></a>895</td><td></td><td></td><td></td><td></td><td class="s">With no parameters, all fields are cleared. If passed a single parameter or a</td></tr>
<tr><td class="h"><a name="896"></a>896</td><td></td><td></td><td></td><td></td><td class="s">reference to an array, only the named parameters are cleared.</td></tr>
<tr><td class="h"><a name="897"></a>897</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="898"></a>898</td><td></td><td></td><td></td><td></td><td class="s">=head2 flush()</td></tr>
<tr><td class="h"><a name="899"></a>899</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="900"></a>900</td><td></td><td></td><td></td><td></td><td class="s">Synchronizes data in memory with the copy serialized by the driver. Call flush()</td></tr>
<tr><td class="h"><a name="901"></a>901</td><td></td><td></td><td></td><td></td><td class="s">if you need to access the session from outside the current session object. You should</td></tr>
<tr><td class="h"><a name="902"></a>902</td><td></td><td></td><td></td><td></td><td class="s">call flush() sometime before your program exits.</td></tr>
<tr><td class="h"><a name="903"></a>903</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="904"></a>904</td><td></td><td></td><td></td><td></td><td class="s">As a last resort, CGI::Session will automatically call flush for you just</td></tr>
<tr><td class="h"><a name="905"></a>905</td><td></td><td></td><td></td><td></td><td class="s">before the program terminates or session object goes out of scope. Automatic</td></tr>
<tr><td class="h"><a name="906"></a>906</td><td></td><td></td><td></td><td></td><td class="s">flushing has proven to be unreliable, and in some cases is now required</td></tr>
<tr><td class="h"><a name="907"></a>907</td><td></td><td></td><td></td><td></td><td class="s">in places that worked with CGI::Session 3.x.</td></tr>
<tr><td class="h"><a name="908"></a>908</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="909"></a>909</td><td></td><td></td><td></td><td></td><td class="s">Always explicitly calling C&lt;flush()&gt; on the session before the</td></tr>
<tr><td class="h"><a name="910"></a>910</td><td></td><td></td><td></td><td></td><td class="s">program exits is recommended. For extra safety, call it immediately after</td></tr>
<tr><td class="h"><a name="911"></a>911</td><td></td><td></td><td></td><td></td><td class="s">every important session update.</td></tr>
<tr><td class="h"><a name="912"></a>912</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="913"></a>913</td><td></td><td></td><td></td><td></td><td class="s">Also see L&lt;A Warning about Auto-flushing&gt;</td></tr>
<tr><td class="h"><a name="914"></a>914</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="915"></a>915</td><td></td><td></td><td></td><td></td><td class="s">=head2 atime()</td></tr>
<tr><td class="h"><a name="916"></a>916</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="917"></a>917</td><td></td><td></td><td></td><td></td><td class="s">Read-only method. Returns the last access time of the session in seconds from epoch. This time is used internally while</td></tr>
<tr><td class="h"><a name="918"></a>918</td><td></td><td></td><td></td><td></td><td class="s">auto-expiring sessions and/or session parameters.</td></tr>
<tr><td class="h"><a name="919"></a>919</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="920"></a>920</td><td></td><td></td><td></td><td></td><td class="s">=head2 ctime()</td></tr>
<tr><td class="h"><a name="921"></a>921</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="922"></a>922</td><td></td><td></td><td></td><td></td><td class="s">Read-only method. Returns the time when the session was first created in seconds from epoch.</td></tr>
<tr><td class="h"><a name="923"></a>923</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="924"></a>924</td><td></td><td></td><td></td><td></td><td class="s">=head2 expire()</td></tr>
<tr><td class="h"><a name="925"></a>925</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="926"></a>926</td><td></td><td></td><td></td><td></td><td class="s">=head2 expire($time)</td></tr>
<tr><td class="h"><a name="927"></a>927</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="928"></a>928</td><td></td><td></td><td></td><td></td><td class="s">=head2 expire($param, $time)</td></tr>
<tr><td class="h"><a name="929"></a>929</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="930"></a>930</td><td></td><td></td><td></td><td></td><td class="s">Sets expiration interval relative to L&lt;atime()|/&quot;atime()&quot;&gt;.</td></tr>
<tr><td class="h"><a name="931"></a>931</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="932"></a>932</td><td></td><td></td><td></td><td></td><td class="s">If used with no arguments, returns the expiration interval if it was ever set. If no expiration was ever set, returns undef. For backwards compatibility, a method named C&lt;etime()&gt; does the same thing.</td></tr>
<tr><td class="h"><a name="933"></a>933</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="934"></a>934</td><td></td><td></td><td></td><td></td><td class="s">Second form sets an expiration time. This value is checked when previously stored session is asked to be retrieved, and if its expiration interval has passed, it will be expunged from the disk immediately. Passing 0 cancels expiration.</td></tr>
<tr><td class="h"><a name="935"></a>935</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="936"></a>936</td><td></td><td></td><td></td><td></td><td class="s">By using the third syntax you can set the expiration interval for a particular</td></tr>
<tr><td class="h"><a name="937"></a>937</td><td></td><td></td><td></td><td></td><td class="s">session parameter, say I&lt;~logged-in&gt;. This would cause the library call clear()</td></tr>
<tr><td class="h"><a name="938"></a>938</td><td></td><td></td><td></td><td></td><td class="s">on the parameter when its time is up. Note it only makes sense to set this value to </td></tr>
<tr><td class="h"><a name="939"></a>939</td><td></td><td></td><td></td><td></td><td class="s">something I&lt;earlier&gt; than when the whole session expires.  Passing 0 cancels expiration.</td></tr>
<tr><td class="h"><a name="940"></a>940</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="941"></a>941</td><td></td><td></td><td></td><td></td><td class="s">All the time values should be given in the form of seconds. Following keywords are also supported for your convenience:</td></tr>
<tr><td class="h"><a name="942"></a>942</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="943"></a>943</td><td></td><td></td><td></td><td></td><td class="s">    +-----------+---------------+</td></tr>
<tr><td class="h"><a name="944"></a>944</td><td></td><td></td><td></td><td></td><td class="s">    |   alias   |   meaning     |</td></tr>
<tr><td class="h"><a name="945"></a>945</td><td></td><td></td><td></td><td></td><td class="s">    +-----------+---------------+</td></tr>
<tr><td class="h"><a name="946"></a>946</td><td></td><td></td><td></td><td></td><td class="s">    |     s     |   Second      |</td></tr>
<tr><td class="h"><a name="947"></a>947</td><td></td><td></td><td></td><td></td><td class="s">    |     m     |   Minute      |</td></tr>
<tr><td class="h"><a name="948"></a>948</td><td></td><td></td><td></td><td></td><td class="s">    |     h     |   Hour        |</td></tr>
<tr><td class="h"><a name="949"></a>949</td><td></td><td></td><td></td><td></td><td class="s">    |     d     |   Day         |</td></tr>
<tr><td class="h"><a name="950"></a>950</td><td></td><td></td><td></td><td></td><td class="s">    |     w     |   Week        |</td></tr>
<tr><td class="h"><a name="951"></a>951</td><td></td><td></td><td></td><td></td><td class="s">    |     M     |   Month       |</td></tr>
<tr><td class="h"><a name="952"></a>952</td><td></td><td></td><td></td><td></td><td class="s">    |     y     |   Year        |</td></tr>
<tr><td class="h"><a name="953"></a>953</td><td></td><td></td><td></td><td></td><td class="s">    +-----------+---------------+</td></tr>
<tr><td class="h"><a name="954"></a>954</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="955"></a>955</td><td></td><td></td><td></td><td></td><td class="s">Examples:</td></tr>
<tr><td class="h"><a name="956"></a>956</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="957"></a>957</td><td></td><td></td><td></td><td></td><td class="s">    $session-&gt;expire(&quot;2h&quot;);                # expires in two hours</td></tr>
<tr><td class="h"><a name="958"></a>958</td><td></td><td></td><td></td><td></td><td class="s">    $session-&gt;expire(0);                   # cancel expiration</td></tr>
<tr><td class="h"><a name="959"></a>959</td><td></td><td></td><td></td><td></td><td class="s">    $session-&gt;expire(&quot;~logged-in&quot;, &quot;10m&quot;); # expires '~logged-in' parameter after 10 idle minutes</td></tr>
<tr><td class="h"><a name="960"></a>960</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="961"></a>961</td><td></td><td></td><td></td><td></td><td class="s">Note: all the expiration times are relative to session's last access time, not to its creation time. To expire a session immediately, call L&lt;delete()|/&quot;delete&quot;&gt;. To expire a specific session parameter immediately, call L&lt;clear([$name])|/&quot;clear&quot;&gt;.</td></tr>
<tr><td class="h"><a name="962"></a>962</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="963"></a>963</td><td></td><td></td><td></td><td></td><td class="s">=cut</td></tr>
<tr><td class="h"><a name="964"></a>964</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="965"></a>965</td><td class="c3">1</td><td class="c3"><span title="Avg 300ns">300ns</span></td><td></td><td></td><td class="s">*expires = \&amp;expire;</td></tr>
<tr><td class="h"><a name="966"></a>966</td><td class="c3">1</td><td class="c3"><span title="Avg 400ns">400ns</span></td><td></td><td></td><td class="s">my $prevent_warning = \&amp;expires;</td></tr>
<tr><td class="h"><a name="967"></a>967</td><td></td><td></td><td></td><td></td><td class="s">sub etime           { $_[0]-&gt;expire()  }</td></tr>
<tr><td class="h"><a name="968"></a>968</td><td></td><td></td><td></td><td></td><td class="s">sub expire {</td></tr>
<tr><td class="h"><a name="969"></a>969</td><td></td><td></td><td></td><td></td><td class="s">    my $self = shift;</td></tr>
<tr><td class="h"><a name="970"></a>970</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="971"></a>971</td><td></td><td></td><td></td><td></td><td class="s">    # no params, just return the expiration time.</td></tr>
<tr><td class="h"><a name="972"></a>972</td><td></td><td></td><td></td><td></td><td class="s">    if (not @_) {</td></tr>
<tr><td class="h"><a name="973"></a>973</td><td></td><td></td><td></td><td></td><td class="s">        return $self-&gt;{_DATA}-&gt;{_SESSION_ETIME};</td></tr>
<tr><td class="h"><a name="974"></a>974</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="975"></a>975</td><td></td><td></td><td></td><td></td><td class="s">    # We have just a time</td></tr>
<tr><td class="h"><a name="976"></a>976</td><td></td><td></td><td></td><td></td><td class="s">    elsif ( @_ == 1 ) {</td></tr>
<tr><td class="h"><a name="977"></a>977</td><td></td><td></td><td></td><td></td><td class="s">        my $time = $_[0];</td></tr>
<tr><td class="h"><a name="978"></a>978</td><td></td><td></td><td></td><td></td><td class="s">        # If 0 is passed, cancel expiration</td></tr>
<tr><td class="h"><a name="979"></a>979</td><td></td><td></td><td></td><td></td><td class="s">        if ( defined $time &amp;&amp; ($time =~ m/^\d$/) &amp;&amp; ($time == 0) ) {</td></tr>
<tr><td class="h"><a name="980"></a>980</td><td></td><td></td><td></td><td></td><td class="s">            $self-&gt;{_DATA}-&gt;{_SESSION_ETIME} = undef;</td></tr>
<tr><td class="h"><a name="981"></a>981</td><td></td><td></td><td></td><td></td><td class="s">            $self-&gt;_set_status( STATUS_MODIFIED );</td></tr>
<tr><td class="h"><a name="982"></a>982</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="983"></a>983</td><td></td><td></td><td></td><td></td><td class="s">        # set the expiration to this time</td></tr>
<tr><td class="h"><a name="984"></a>984</td><td></td><td></td><td></td><td></td><td class="s">        else {</td></tr>
<tr><td class="h"><a name="985"></a>985</td><td></td><td></td><td></td><td></td><td class="s">            $self-&gt;{_DATA}-&gt;{_SESSION_ETIME} = $self-&gt;_str2seconds( $time );</td></tr>
<tr><td class="h"><a name="986"></a>986</td><td></td><td></td><td></td><td></td><td class="s">            $self-&gt;_set_status( STATUS_MODIFIED );</td></tr>
<tr><td class="h"><a name="987"></a>987</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="988"></a>988</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="989"></a>989</td><td></td><td></td><td></td><td></td><td class="s">    # If we get this far, we expect expire($param,$time)</td></tr>
<tr><td class="h"><a name="990"></a>990</td><td></td><td></td><td></td><td></td><td class="s">    # ( This would be a great use of a Perl6 multi sub! )</td></tr>
<tr><td class="h"><a name="991"></a>991</td><td></td><td></td><td></td><td></td><td class="s">    else {</td></tr>
<tr><td class="h"><a name="992"></a>992</td><td></td><td></td><td></td><td></td><td class="s">        my ($param, $time) = @_;</td></tr>
<tr><td class="h"><a name="993"></a>993</td><td></td><td></td><td></td><td></td><td class="s">        if ( ($time =~ m/^\d$/) &amp;&amp; ($time == 0) ) {</td></tr>
<tr><td class="h"><a name="994"></a>994</td><td></td><td></td><td></td><td></td><td class="s">            delete $self-&gt;{_DATA}-&gt;{_SESSION_EXPIRE_LIST}-&gt;{ $param };</td></tr>
<tr><td class="h"><a name="995"></a>995</td><td></td><td></td><td></td><td></td><td class="s">            $self-&gt;_set_status( STATUS_MODIFIED );</td></tr>
<tr><td class="h"><a name="996"></a>996</td><td></td><td></td><td></td><td></td><td class="s">        } else {</td></tr>
<tr><td class="h"><a name="997"></a>997</td><td></td><td></td><td></td><td></td><td class="s">            $self-&gt;{_DATA}-&gt;{_SESSION_EXPIRE_LIST}-&gt;{ $param } = $self-&gt;_str2seconds( $time );</td></tr>
<tr><td class="h"><a name="998"></a>998</td><td></td><td></td><td></td><td></td><td class="s">            $self-&gt;_set_status( STATUS_MODIFIED );</td></tr>
<tr><td class="h"><a name="999"></a>999</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="1000"></a>1000</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="1001"></a>1001</td><td></td><td></td><td></td><td></td><td class="s">    return 1;</td></tr>
<tr><td class="h"><a name="1002"></a>1002</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="1003"></a>1003</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1004"></a>1004</td><td></td><td></td><td></td><td></td><td class="s"># =head2 _str2seconds()</td></tr>
<tr><td class="h"><a name="1005"></a>1005</td><td></td><td></td><td></td><td></td><td class="s">#</td></tr>
<tr><td class="h"><a name="1006"></a>1006</td><td></td><td></td><td></td><td></td><td class="s"># my $secs = $self-&gt;_str2seconds('1d')</td></tr>
<tr><td class="h"><a name="1007"></a>1007</td><td></td><td></td><td></td><td></td><td class="s">#</td></tr>
<tr><td class="h"><a name="1008"></a>1008</td><td></td><td></td><td></td><td></td><td class="s"># Takes a CGI.pm-style time representation and returns an equivalent number</td></tr>
<tr><td class="h"><a name="1009"></a>1009</td><td></td><td></td><td></td><td></td><td class="s"># of seconds.</td></tr>
<tr><td class="h"><a name="1010"></a>1010</td><td></td><td></td><td></td><td></td><td class="s">#</td></tr>
<tr><td class="h"><a name="1011"></a>1011</td><td></td><td></td><td></td><td></td><td class="s"># See the docs of expire() for more detail.</td></tr>
<tr><td class="h"><a name="1012"></a>1012</td><td></td><td></td><td></td><td></td><td class="s">#</td></tr>
<tr><td class="h"><a name="1013"></a>1013</td><td></td><td></td><td></td><td></td><td class="s"># =cut</td></tr>
<tr><td class="h"><a name="1014"></a>1014</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1015"></a>1015</td><td></td><td></td><td></td><td></td><td class="s">sub _str2seconds {</td></tr>
<tr><td class="h"><a name="1016"></a>1016</td><td></td><td></td><td></td><td></td><td class="s">    my $self = shift;</td></tr>
<tr><td class="h"><a name="1017"></a>1017</td><td></td><td></td><td></td><td></td><td class="s">    my ($str) = @_;</td></tr>
<tr><td class="h"><a name="1018"></a>1018</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1019"></a>1019</td><td></td><td></td><td></td><td></td><td class="s">    return unless defined $str;</td></tr>
<tr><td class="h"><a name="1020"></a>1020</td><td></td><td></td><td></td><td></td><td class="s">    return $str if $str =~ m/^[-+]?\d+$/;</td></tr>
<tr><td class="h"><a name="1021"></a>1021</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1022"></a>1022</td><td></td><td></td><td></td><td></td><td class="s">    my %_map = (</td></tr>
<tr><td class="h"><a name="1023"></a>1023</td><td></td><td></td><td></td><td></td><td class="s">        s       =&gt; 1,</td></tr>
<tr><td class="h"><a name="1024"></a>1024</td><td></td><td></td><td></td><td></td><td class="s">        m       =&gt; 60,</td></tr>
<tr><td class="h"><a name="1025"></a>1025</td><td></td><td></td><td></td><td></td><td class="s">        h       =&gt; 3600,</td></tr>
<tr><td class="h"><a name="1026"></a>1026</td><td></td><td></td><td></td><td></td><td class="s">        d       =&gt; 86400,</td></tr>
<tr><td class="h"><a name="1027"></a>1027</td><td></td><td></td><td></td><td></td><td class="s">        w       =&gt; 604800,</td></tr>
<tr><td class="h"><a name="1028"></a>1028</td><td></td><td></td><td></td><td></td><td class="s">        M       =&gt; 2592000,</td></tr>
<tr><td class="h"><a name="1029"></a>1029</td><td></td><td></td><td></td><td></td><td class="s">        y       =&gt; 31536000</td></tr>
<tr><td class="h"><a name="1030"></a>1030</td><td></td><td></td><td></td><td></td><td class="s">    );</td></tr>
<tr><td class="h"><a name="1031"></a>1031</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1032"></a>1032</td><td></td><td></td><td></td><td></td><td class="s">    my ($koef, $d) = $str =~ m/^([+-]?\d+)([smhdwMy])$/;</td></tr>
<tr><td class="h"><a name="1033"></a>1033</td><td></td><td></td><td></td><td></td><td class="s">    unless ( defined($koef) &amp;&amp; defined($d) ) {</td></tr>
<tr><td class="h"><a name="1034"></a>1034</td><td></td><td></td><td></td><td></td><td class="s">        die &quot;_str2seconds(): couldn't parse '$str' into \$koef and \$d parts. Possible invalid syntax&quot;;</td></tr>
<tr><td class="h"><a name="1035"></a>1035</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="1036"></a>1036</td><td></td><td></td><td></td><td></td><td class="s">    return $koef * $_map{ $d };</td></tr>
<tr><td class="h"><a name="1037"></a>1037</td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h"><a name="1038"></a>1038</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1039"></a>1039</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1040"></a>1040</td><td></td><td></td><td></td><td></td><td class="s">=pod</td></tr>
<tr><td class="h"><a name="1041"></a>1041</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1042"></a>1042</td><td></td><td></td><td></td><td></td><td class="s">=head2 is_new()</td></tr>
<tr><td class="h"><a name="1043"></a>1043</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1044"></a>1044</td><td></td><td></td><td></td><td></td><td class="s">Returns true only for a brand new session.</td></tr>
<tr><td class="h"><a name="1045"></a>1045</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1046"></a>1046</td><td></td><td></td><td></td><td></td><td class="s">=head2 is_expired()</td></tr>
<tr><td class="h"><a name="1047"></a>1047</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1048"></a>1048</td><td></td><td></td><td></td><td></td><td class="s">Tests whether session initialized using L&lt;load()|/&quot;load&quot;&gt; is to be expired. This method works only on sessions initialized with load():</td></tr>
<tr><td class="h"><a name="1049"></a>1049</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1050"></a>1050</td><td></td><td></td><td></td><td></td><td class="s">    $s = CGI::Session-&gt;load() or die CGI::Session-&gt;errstr;</td></tr>
<tr><td class="h"><a name="1051"></a>1051</td><td></td><td></td><td></td><td></td><td class="s">    if ( $s-&gt;is_expired ) {</td></tr>
<tr><td class="h"><a name="1052"></a>1052</td><td></td><td></td><td></td><td></td><td class="s">        die &quot;Your session expired. Please refresh&quot;;</td></tr>
<tr><td class="h"><a name="1053"></a>1053</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="1054"></a>1054</td><td></td><td></td><td></td><td></td><td class="s">    if ( $s-&gt;is_empty ) {</td></tr>
<tr><td class="h"><a name="1055"></a>1055</td><td></td><td></td><td></td><td></td><td class="s">        $s = $s-&gt;new() or die $s-&gt;errstr;</td></tr>
<tr><td class="h"><a name="1056"></a>1056</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="1057"></a>1057</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1058"></a>1058</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1059"></a>1059</td><td></td><td></td><td></td><td></td><td class="s">=head2 is_empty()</td></tr>
<tr><td class="h"><a name="1060"></a>1060</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1061"></a>1061</td><td></td><td></td><td></td><td></td><td class="s">Returns true for sessions that are empty. It's preferred way of testing whether requested session was loaded successfully or not:</td></tr>
<tr><td class="h"><a name="1062"></a>1062</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1063"></a>1063</td><td></td><td></td><td></td><td></td><td class="s">    $s = CGI::Session-&gt;load($sid);</td></tr>
<tr><td class="h"><a name="1064"></a>1064</td><td></td><td></td><td></td><td></td><td class="s">    if ( $s-&gt;is_empty ) {</td></tr>
<tr><td class="h"><a name="1065"></a>1065</td><td></td><td></td><td></td><td></td><td class="s">        $s = $s-&gt;new();</td></tr>
<tr><td class="h"><a name="1066"></a>1066</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="1067"></a>1067</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1068"></a>1068</td><td></td><td></td><td></td><td></td><td class="s">Actually, the above code is nothing but waste. The same effect could've been achieved by saying:</td></tr>
<tr><td class="h"><a name="1069"></a>1069</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1070"></a>1070</td><td></td><td></td><td></td><td></td><td class="s">    $s = CGI::Session-&gt;new( $sid );</td></tr>
<tr><td class="h"><a name="1071"></a>1071</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1072"></a>1072</td><td></td><td></td><td></td><td></td><td class="s">L&lt;is_empty()|/&quot;is_empty&quot;&gt; is useful only if you wanted to catch requests for expired sessions, and create new session afterwards. See L&lt;is_expired()|/&quot;is_expired&quot;&gt; for an example.</td></tr>
<tr><td class="h"><a name="1073"></a>1073</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1074"></a>1074</td><td></td><td></td><td></td><td></td><td class="s">=head2 ip_match()</td></tr>
<tr><td class="h"><a name="1075"></a>1075</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1076"></a>1076</td><td></td><td></td><td></td><td></td><td class="s">Returns true if $ENV{REMOTE_ADDR} matches the remote address stored in the session.</td></tr>
<tr><td class="h"><a name="1077"></a>1077</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1078"></a>1078</td><td></td><td></td><td></td><td></td><td class="s">If you have an application where you are sure your users' IPs are constant</td></tr>
<tr><td class="h"><a name="1079"></a>1079</td><td></td><td></td><td></td><td></td><td class="s">during a session, you can consider enabling an option to make this check:</td></tr>
<tr><td class="h"><a name="1080"></a>1080</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1081"></a>1081</td><td></td><td></td><td></td><td></td><td class="s">    use CGI::Session '-ip_match';</td></tr>
<tr><td class="h"><a name="1082"></a>1082</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1083"></a>1083</td><td></td><td></td><td></td><td></td><td class="s">Usually you don't call ip_match() directly, but by using the above method. It is useful</td></tr>
<tr><td class="h"><a name="1084"></a>1084</td><td></td><td></td><td></td><td></td><td class="s">only if you want to call it inside of coderef passed to the L&lt;find()|/&quot;find( \&amp;code )&quot;&gt; method. </td></tr>
<tr><td class="h"><a name="1085"></a>1085</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1086"></a>1086</td><td></td><td></td><td></td><td></td><td class="s">=head2 delete()</td></tr>
<tr><td class="h"><a name="1087"></a>1087</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1088"></a>1088</td><td></td><td></td><td></td><td></td><td class="s">Sets the objects status to be &quot;deleted&quot;.  Subsequent read/write requests on the</td></tr>
<tr><td class="h"><a name="1089"></a>1089</td><td></td><td></td><td></td><td></td><td class="s">same object will fail.  To physically delete it from the data store you need to call L&lt;flush()|/&quot;flush()&quot;&gt;.</td></tr>
<tr><td class="h"><a name="1090"></a>1090</td><td></td><td></td><td></td><td></td><td class="s">CGI::Session attempts to do this automatically when the object is being destroyed (usually as</td></tr>
<tr><td class="h"><a name="1091"></a>1091</td><td></td><td></td><td></td><td></td><td class="s">the script exits), but see L&lt;A Warning about Auto-flushing&gt;.</td></tr>
<tr><td class="h"><a name="1092"></a>1092</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1093"></a>1093</td><td></td><td></td><td></td><td></td><td class="s">=head2 find( \&amp;code )</td></tr>
<tr><td class="h"><a name="1094"></a>1094</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1095"></a>1095</td><td></td><td></td><td></td><td></td><td class="s">=head2 find( $dsn, \&amp;code )</td></tr>
<tr><td class="h"><a name="1096"></a>1096</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1097"></a>1097</td><td></td><td></td><td></td><td></td><td class="s">=head2 find( $dsn, \&amp;code, \%dsn_args )</td></tr>
<tr><td class="h"><a name="1098"></a>1098</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1099"></a>1099</td><td></td><td></td><td></td><td></td><td class="s">Experimental feature. Executes \&amp;code for every session object stored in disk, passing initialized CGI::Session object as the first argument of \&amp;code. Useful for housekeeping purposes, such as for removing expired sessions. Following line, for instance, will remove sessions already expired, but are still in disk:</td></tr>
<tr><td class="h"><a name="1100"></a>1100</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1101"></a>1101</td><td></td><td></td><td></td><td></td><td class="s">The following line, for instance, will remove sessions already expired, but which are still on disk:</td></tr>
<tr><td class="h"><a name="1102"></a>1102</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1103"></a>1103</td><td></td><td></td><td></td><td></td><td class="s">    CGI::Session-&gt;find( sub {} );</td></tr>
<tr><td class="h"><a name="1104"></a>1104</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1105"></a>1105</td><td></td><td></td><td></td><td></td><td class="s">Notice, above \&amp;code didn't have to do anything, because load(), which is called to initialize sessions inside L&lt;find()|/&quot;find( \&amp;code )&quot;&gt;, will automatically remove expired sessions. Following example will remove all the objects that are 10+ days old:</td></tr>
<tr><td class="h"><a name="1106"></a>1106</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1107"></a>1107</td><td></td><td></td><td></td><td></td><td class="s">    CGI::Session-&gt;find( \&amp;purge );</td></tr>
<tr><td class="h"><a name="1108"></a>1108</td><td></td><td></td><td></td><td></td><td class="s">    sub purge {</td></tr>
<tr><td class="h"><a name="1109"></a>1109</td><td></td><td></td><td></td><td></td><td class="s">        my ($session) = @_;</td></tr>
<tr><td class="h"><a name="1110"></a>1110</td><td></td><td></td><td></td><td></td><td class="s">        next if $session-&gt;is_empty;    # &lt;-- already expired?!</td></tr>
<tr><td class="h"><a name="1111"></a>1111</td><td></td><td></td><td></td><td></td><td class="s">        if ( ($session-&gt;ctime + 3600*240) &lt;= time() ) {</td></tr>
<tr><td class="h"><a name="1112"></a>1112</td><td></td><td></td><td></td><td></td><td class="s">            $session-&gt;delete();</td></tr>
<tr><td class="h"><a name="1113"></a>1113</td><td></td><td></td><td></td><td></td><td class="s">            $session-&gt;flush(); # Recommended practice says use flush() after delete().</td></tr>
<tr><td class="h"><a name="1114"></a>1114</td><td></td><td></td><td></td><td></td><td class="s">        }</td></tr>
<tr><td class="h"><a name="1115"></a>1115</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="1116"></a>1116</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1117"></a>1117</td><td></td><td></td><td></td><td></td><td class="s">B&lt;Note&gt;: find will not change the modification or access times on the sessions it returns.</td></tr>
<tr><td class="h"><a name="1118"></a>1118</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1119"></a>1119</td><td></td><td></td><td></td><td></td><td class="s">Explanation of the 3 parameters to C&lt;find()&gt;:</td></tr>
<tr><td class="h"><a name="1120"></a>1120</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1121"></a>1121</td><td></td><td></td><td></td><td></td><td class="s">=over 4</td></tr>
<tr><td class="h"><a name="1122"></a>1122</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1123"></a>1123</td><td></td><td></td><td></td><td></td><td class="s">=item $dsn</td></tr>
<tr><td class="h"><a name="1124"></a>1124</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1125"></a>1125</td><td></td><td></td><td></td><td></td><td class="s">This is the DSN (Data Source Name) used by CGI::Session to control what type of</td></tr>
<tr><td class="h"><a name="1126"></a>1126</td><td></td><td></td><td></td><td></td><td class="s">sessions you previously created and what type of sessions you now wish method</td></tr>
<tr><td class="h"><a name="1127"></a>1127</td><td></td><td></td><td></td><td></td><td class="s">C&lt;find()&gt; to pass to your callback.</td></tr>
<tr><td class="h"><a name="1128"></a>1128</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1129"></a>1129</td><td></td><td></td><td></td><td></td><td class="s">The default value is defined above, in the docs for method C&lt;new()&gt;, and is</td></tr>
<tr><td class="h"><a name="1130"></a>1130</td><td></td><td></td><td></td><td></td><td class="s">'driver:file;serializer:default;id:md5'.</td></tr>
<tr><td class="h"><a name="1131"></a>1131</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1132"></a>1132</td><td></td><td></td><td></td><td></td><td class="s">Do not confuse this DSN with the DSN arguments mentioned just below, under \%dsn_args.</td></tr>
<tr><td class="h"><a name="1133"></a>1133</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1134"></a>1134</td><td></td><td></td><td></td><td></td><td class="s">=item \&amp;code</td></tr>
<tr><td class="h"><a name="1135"></a>1135</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1136"></a>1136</td><td></td><td></td><td></td><td></td><td class="s">This is the callback provided by you (i.e. the caller of method C&lt;find()&gt;)</td></tr>
<tr><td class="h"><a name="1137"></a>1137</td><td></td><td></td><td></td><td></td><td class="s">which is called by CGI::Session once for each session found by method C&lt;find()&gt;</td></tr>
<tr><td class="h"><a name="1138"></a>1138</td><td></td><td></td><td></td><td></td><td class="s">which matches the given $dsn.</td></tr>
<tr><td class="h"><a name="1139"></a>1139</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1140"></a>1140</td><td></td><td></td><td></td><td></td><td class="s">There is no default value for this coderef.</td></tr>
<tr><td class="h"><a name="1141"></a>1141</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1142"></a>1142</td><td></td><td></td><td></td><td></td><td class="s">When your callback is actually called, the only parameter is a session. If you</td></tr>
<tr><td class="h"><a name="1143"></a>1143</td><td></td><td></td><td></td><td></td><td class="s">want to call a subroutine you already have with more parameters, you can</td></tr>
<tr><td class="h"><a name="1144"></a>1144</td><td></td><td></td><td></td><td></td><td class="s">achieve this by creating an anonymous subroutine that calls your subroutine</td></tr>
<tr><td class="h"><a name="1145"></a>1145</td><td></td><td></td><td></td><td></td><td class="s">with the parameters you want. For example:</td></tr>
<tr><td class="h"><a name="1146"></a>1146</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1147"></a>1147</td><td></td><td></td><td></td><td></td><td class="s">    CGI::Session-&gt;find($dsn, sub { my_subroutine( @_, 'param 1', 'param 2' ) } );</td></tr>
<tr><td class="h"><a name="1148"></a>1148</td><td></td><td></td><td></td><td></td><td class="s">    CGI::Session-&gt;find($dsn, sub { $coderef-&gt;( @_, $extra_arg ) } );</td></tr>
<tr><td class="h"><a name="1149"></a>1149</td><td></td><td></td><td></td><td></td><td class="s">    </td></tr>
<tr><td class="h"><a name="1150"></a>1150</td><td></td><td></td><td></td><td></td><td class="s">Or if you wish, you can define a sub generator as such:</td></tr>
<tr><td class="h"><a name="1151"></a>1151</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1152"></a>1152</td><td></td><td></td><td></td><td></td><td class="s">    sub coderef_with_args {</td></tr>
<tr><td class="h"><a name="1153"></a>1153</td><td></td><td></td><td></td><td></td><td class="s">        my ( $coderef, @params ) = @_;</td></tr>
<tr><td class="h"><a name="1154"></a>1154</td><td></td><td></td><td></td><td></td><td class="s">        return sub { $coderef-&gt;( @_, @params ) };</td></tr>
<tr><td class="h"><a name="1155"></a>1155</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="1156"></a>1156</td><td></td><td></td><td></td><td></td><td class="s">    </td></tr>
<tr><td class="h"><a name="1157"></a>1157</td><td></td><td></td><td></td><td></td><td class="s">    CGI::Session-&gt;find($dsn, coderef_with_args( $coderef, 'param 1', 'param 2' ) );</td></tr>
<tr><td class="h"><a name="1158"></a>1158</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1159"></a>1159</td><td></td><td></td><td></td><td></td><td class="s">=item \%dsn_args</td></tr>
<tr><td class="h"><a name="1160"></a>1160</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1161"></a>1161</td><td></td><td></td><td></td><td></td><td class="s">If your $dsn uses file-based storage, then this hashref might contain keys such as:</td></tr>
<tr><td class="h"><a name="1162"></a>1162</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1163"></a>1163</td><td></td><td></td><td></td><td></td><td class="s">    {</td></tr>
<tr><td class="h"><a name="1164"></a>1164</td><td></td><td></td><td></td><td></td><td class="s">        Directory =&gt; Value 1,</td></tr>
<tr><td class="h"><a name="1165"></a>1165</td><td></td><td></td><td></td><td></td><td class="s">        NoFlock   =&gt; Value 2,</td></tr>
<tr><td class="h"><a name="1166"></a>1166</td><td></td><td></td><td></td><td></td><td class="s">        UMask     =&gt; Value 3</td></tr>
<tr><td class="h"><a name="1167"></a>1167</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="1168"></a>1168</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1169"></a>1169</td><td></td><td></td><td></td><td></td><td class="s">If your $dsn uses db-based storage, then this hashref contains (up to) 3 keys, and looks like:</td></tr>
<tr><td class="h"><a name="1170"></a>1170</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1171"></a>1171</td><td></td><td></td><td></td><td></td><td class="s">    {</td></tr>
<tr><td class="h"><a name="1172"></a>1172</td><td></td><td></td><td></td><td></td><td class="s">        DataSource =&gt; Value 1,</td></tr>
<tr><td class="h"><a name="1173"></a>1173</td><td></td><td></td><td></td><td></td><td class="s">        User       =&gt; Value 2,</td></tr>
<tr><td class="h"><a name="1174"></a>1174</td><td></td><td></td><td></td><td></td><td class="s">        Password   =&gt; Value 3</td></tr>
<tr><td class="h"><a name="1175"></a>1175</td><td></td><td></td><td></td><td></td><td class="s">    }</td></tr>
<tr><td class="h"><a name="1176"></a>1176</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1177"></a>1177</td><td></td><td></td><td></td><td></td><td class="s">These 3 form the DSN, username and password used by DBI to control access to your database server,</td></tr>
<tr><td class="h"><a name="1178"></a>1178</td><td></td><td></td><td></td><td></td><td class="s">and hence are only relevant when using db-based sessions.</td></tr>
<tr><td class="h"><a name="1179"></a>1179</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1180"></a>1180</td><td></td><td></td><td></td><td></td><td class="s">The default value of this hashref is undef.</td></tr>
<tr><td class="h"><a name="1181"></a>1181</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1182"></a>1182</td><td></td><td></td><td></td><td></td><td class="s">=back</td></tr>
<tr><td class="h"><a name="1183"></a>1183</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1184"></a>1184</td><td></td><td></td><td></td><td></td><td class="s">B&lt;Note:&gt; find() is meant to be convenient, not necessarily efficient. It's best suited in cron scripts.</td></tr>
<tr><td class="h"><a name="1185"></a>1185</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1186"></a>1186</td><td></td><td></td><td></td><td></td><td class="s">=head2 name($new_name)</td></tr>
<tr><td class="h"><a name="1187"></a>1187</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1188"></a>1188</td><td></td><td></td><td></td><td></td><td class="s">The $new_name parameter is optional. If supplied it sets the query or cookie parameter name to be used.</td></tr>
<tr><td class="h"><a name="1189"></a>1189</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1190"></a>1190</td><td></td><td></td><td></td><td></td><td class="s">It defaults to I&lt;$CGI::Session::NAME&gt;, which defaults to I&lt;CGISESSID&gt;.</td></tr>
<tr><td class="h"><a name="1191"></a>1191</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1192"></a>1192</td><td></td><td></td><td></td><td></td><td class="s">You are strongly discouraged from using the global variable I&lt;$CGI::Session::NAME&gt;, since it is</td></tr>
<tr><td class="h"><a name="1193"></a>1193</td><td></td><td></td><td></td><td></td><td class="s">deprecated (as are all global variables) and will be removed in a future version of this module.</td></tr>
<tr><td class="h"><a name="1194"></a>1194</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1195"></a>1195</td><td></td><td></td><td></td><td></td><td class="s">Return value: The current query or cookie parameter name.</td></tr>
<tr><td class="h"><a name="1196"></a>1196</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1197"></a>1197</td><td></td><td></td><td></td><td></td><td class="s">=head1 MISCELLANEOUS METHODS</td></tr>
<tr><td class="h"><a name="1198"></a>1198</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1199"></a>1199</td><td></td><td></td><td></td><td></td><td class="s">=head2 remote_addr()</td></tr>
<tr><td class="h"><a name="1200"></a>1200</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1201"></a>1201</td><td></td><td></td><td></td><td></td><td class="s">Returns the remote address of the user who created the session for the first time. Returns undef if variable REMOTE_ADDR wasn't present in the environment when the session was created.</td></tr>
<tr><td class="h"><a name="1202"></a>1202</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1203"></a>1203</td><td></td><td></td><td></td><td></td><td class="s">=cut</td></tr>
<tr><td class="h"><a name="1204"></a>1204</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1205"></a>1205</td><td></td><td></td><td></td><td></td><td class="s">sub remote_addr {   return $_[0]-&gt;{_DATA}-&gt;{_SESSION_REMOTE_ADDR}   }</td></tr>
<tr><td class="h"><a name="1206"></a>1206</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1207"></a>1207</td><td></td><td></td><td></td><td></td><td class="s">=pod</td></tr>
<tr><td class="h"><a name="1208"></a>1208</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1209"></a>1209</td><td></td><td></td><td></td><td></td><td class="s">=head2 errstr()</td></tr>
<tr><td class="h"><a name="1210"></a>1210</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1211"></a>1211</td><td></td><td></td><td></td><td></td><td class="s">Class method. Returns last error message from the library.</td></tr>
<tr><td class="h"><a name="1212"></a>1212</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1213"></a>1213</td><td></td><td></td><td></td><td></td><td class="s">=head2 dump()</td></tr>
<tr><td class="h"><a name="1214"></a>1214</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1215"></a>1215</td><td></td><td></td><td></td><td></td><td class="s">Returns a dump of the session object. Useful for debugging purposes only.</td></tr>
<tr><td class="h"><a name="1216"></a>1216</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1217"></a>1217</td><td></td><td></td><td></td><td></td><td class="s">=head2 header()</td></tr>
<tr><td class="h"><a name="1218"></a>1218</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1219"></a>1219</td><td></td><td></td><td></td><td></td><td class="s">A wrapper for C&lt;CGI&gt;'s header() method. Calling this method</td></tr>
<tr><td class="h"><a name="1220"></a>1220</td><td></td><td></td><td></td><td></td><td class="s">is equivalent to something like this:</td></tr>
<tr><td class="h"><a name="1221"></a>1221</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1222"></a>1222</td><td></td><td></td><td></td><td></td><td class="s">    $cookie = CGI::Cookie-&gt;new(-name=&gt;$session-&gt;name, -value=&gt;$session-&gt;id);</td></tr>
<tr><td class="h"><a name="1223"></a>1223</td><td></td><td></td><td></td><td></td><td class="s">    print $cgi-&gt;header(-cookie=&gt;$cookie, @_);</td></tr>
<tr><td class="h"><a name="1224"></a>1224</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1225"></a>1225</td><td></td><td></td><td></td><td></td><td class="s">You can minimize the above into:</td></tr>
<tr><td class="h"><a name="1226"></a>1226</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1227"></a>1227</td><td></td><td></td><td></td><td></td><td class="s">    print $session-&gt;header();</td></tr>
<tr><td class="h"><a name="1228"></a>1228</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1229"></a>1229</td><td></td><td></td><td></td><td></td><td class="s">It will retrieve the name of the session cookie from C&lt;$session-&gt;name()&gt; which defaults to C&lt;$CGI::Session::NAME&gt;. If you want to use a different name for your session cookie, do something like this before creating session object:</td></tr>
<tr><td class="h"><a name="1230"></a>1230</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1231"></a>1231</td><td></td><td></td><td></td><td></td><td class="s">    CGI::Session-&gt;name(&quot;MY_SID&quot;);</td></tr>
<tr><td class="h"><a name="1232"></a>1232</td><td></td><td></td><td></td><td></td><td class="s">    $session = CGI::Session-&gt;new(undef, $cgi, \%attrs);</td></tr>
<tr><td class="h"><a name="1233"></a>1233</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1234"></a>1234</td><td></td><td></td><td></td><td></td><td class="s">Now, $session-&gt;header() uses &quot;MY_SID&quot; as the name for the session cookie. For all additional options that can</td></tr>
<tr><td class="h"><a name="1235"></a>1235</td><td></td><td></td><td></td><td></td><td class="s">be passed, see the C&lt;header()&gt; docs in C&lt;CGI&gt;.</td></tr>
<tr><td class="h"><a name="1236"></a>1236</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1237"></a>1237</td><td></td><td></td><td></td><td></td><td class="s">=head2 query()</td></tr>
<tr><td class="h"><a name="1238"></a>1238</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1239"></a>1239</td><td></td><td></td><td></td><td></td><td class="s">Returns query object associated with current session object. Default query object class is C&lt;CGI&gt;.</td></tr>
<tr><td class="h"><a name="1240"></a>1240</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1241"></a>1241</td><td></td><td></td><td></td><td></td><td class="s">=head2 DEPRECATED METHODS</td></tr>
<tr><td class="h"><a name="1242"></a>1242</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1243"></a>1243</td><td></td><td></td><td></td><td></td><td class="s">These methods exist solely for for compatibility with CGI::Session 3.x.</td></tr>
<tr><td class="h"><a name="1244"></a>1244</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1245"></a>1245</td><td></td><td></td><td></td><td></td><td class="s">=head3 close()</td></tr>
<tr><td class="h"><a name="1246"></a>1246</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1247"></a>1247</td><td></td><td></td><td></td><td></td><td class="s">Closes the session. Using flush() is recommended instead, since that's exactly what a call</td></tr>
<tr><td class="h"><a name="1248"></a>1248</td><td></td><td></td><td></td><td></td><td class="s">to close() does now.</td></tr>
<tr><td class="h"><a name="1249"></a>1249</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1250"></a>1250</td><td></td><td></td><td></td><td></td><td class="s">=head1 DISTRIBUTION</td></tr>
<tr><td class="h"><a name="1251"></a>1251</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1252"></a>1252</td><td></td><td></td><td></td><td></td><td class="s">CGI::Session consists of several components such as L&lt;drivers|&quot;DRIVERS&quot;&gt;, L&lt;serializers|&quot;SERIALIZERS&quot;&gt; and L&lt;id generators|&quot;ID GENERATORS&quot;&gt;. This section lists what is available.</td></tr>
<tr><td class="h"><a name="1253"></a>1253</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1254"></a>1254</td><td></td><td></td><td></td><td></td><td class="s">=head2 DRIVERS</td></tr>
<tr><td class="h"><a name="1255"></a>1255</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1256"></a>1256</td><td></td><td></td><td></td><td></td><td class="s">The following drivers are included in the standard distribution:</td></tr>
<tr><td class="h"><a name="1257"></a>1257</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1258"></a>1258</td><td></td><td></td><td></td><td></td><td class="s">=over 4</td></tr>
<tr><td class="h"><a name="1259"></a>1259</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1260"></a>1260</td><td></td><td></td><td></td><td></td><td class="s">=item *</td></tr>
<tr><td class="h"><a name="1261"></a>1261</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1262"></a>1262</td><td></td><td></td><td></td><td></td><td class="s">L&lt;file|CGI::Session::Driver::file&gt; - default driver for storing session data in plain files. Full name: B&lt;CGI::Session::Driver::file&gt;</td></tr>
<tr><td class="h"><a name="1263"></a>1263</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1264"></a>1264</td><td></td><td></td><td></td><td></td><td class="s">=item *</td></tr>
<tr><td class="h"><a name="1265"></a>1265</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1266"></a>1266</td><td></td><td></td><td></td><td></td><td class="s">L&lt;db_file|CGI::Session::Driver::db_file&gt; - for storing session data in BerkelyDB. Requires: L&lt;DB_File&gt;.</td></tr>
<tr><td class="h"><a name="1267"></a>1267</td><td></td><td></td><td></td><td></td><td class="s">Full name: B&lt;CGI::Session::Driver::db_file&gt;</td></tr>
<tr><td class="h"><a name="1268"></a>1268</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1269"></a>1269</td><td></td><td></td><td></td><td></td><td class="s">=item *</td></tr>
<tr><td class="h"><a name="1270"></a>1270</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1271"></a>1271</td><td></td><td></td><td></td><td></td><td class="s">L&lt;mysql|CGI::Session::Driver::mysql&gt; - for storing session data in MySQL tables. Requires L&lt;DBI|DBI&gt; and L&lt;DBD::mysql|DBD::mysql&gt;.</td></tr>
<tr><td class="h"><a name="1272"></a>1272</td><td></td><td></td><td></td><td></td><td class="s">Full name: B&lt;CGI::Session::Driver::mysql&gt;</td></tr>
<tr><td class="h"><a name="1273"></a>1273</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1274"></a>1274</td><td></td><td></td><td></td><td></td><td class="s">=item *</td></tr>
<tr><td class="h"><a name="1275"></a>1275</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1276"></a>1276</td><td></td><td></td><td></td><td></td><td class="s">L&lt;sqlite|CGI::Session::Driver::sqlite&gt; - for storing session data in SQLite. Requires L&lt;DBI|DBI&gt; and L&lt;DBD::SQLite|DBD::SQLite&gt;.</td></tr>
<tr><td class="h"><a name="1277"></a>1277</td><td></td><td></td><td></td><td></td><td class="s">Full name: B&lt;CGI::Session::Driver::sqlite&gt;</td></tr>
<tr><td class="h"><a name="1278"></a>1278</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1279"></a>1279</td><td></td><td></td><td></td><td></td><td class="s">=back</td></tr>
<tr><td class="h"><a name="1280"></a>1280</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1281"></a>1281</td><td></td><td></td><td></td><td></td><td class="s">Other drivers are available from CPAN.</td></tr>
<tr><td class="h"><a name="1282"></a>1282</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1283"></a>1283</td><td></td><td></td><td></td><td></td><td class="s">=head2 SERIALIZERS</td></tr>
<tr><td class="h"><a name="1284"></a>1284</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1285"></a>1285</td><td></td><td></td><td></td><td></td><td class="s">=over 4</td></tr>
<tr><td class="h"><a name="1286"></a>1286</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1287"></a>1287</td><td></td><td></td><td></td><td></td><td class="s">=item *</td></tr>
<tr><td class="h"><a name="1288"></a>1288</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1289"></a>1289</td><td></td><td></td><td></td><td></td><td class="s">L&lt;default|CGI::Session::Serialize::default&gt; - default data serializer. Uses standard L&lt;Data::Dumper|Data::Dumper&gt;.</td></tr>
<tr><td class="h"><a name="1290"></a>1290</td><td></td><td></td><td></td><td></td><td class="s">Full name: B&lt;CGI::Session::Serialize::default&gt;.</td></tr>
<tr><td class="h"><a name="1291"></a>1291</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1292"></a>1292</td><td></td><td></td><td></td><td></td><td class="s">=item *</td></tr>
<tr><td class="h"><a name="1293"></a>1293</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1294"></a>1294</td><td></td><td></td><td></td><td></td><td class="s">L&lt;storable|CGI::Session::Serialize::storable&gt; - serializes data using L&lt;Storable&gt;. Requires L&lt;Storable&gt;.</td></tr>
<tr><td class="h"><a name="1295"></a>1295</td><td></td><td></td><td></td><td></td><td class="s">Full name: B&lt;CGI::Session::Serialize::storable&gt;.</td></tr>
<tr><td class="h"><a name="1296"></a>1296</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1297"></a>1297</td><td></td><td></td><td></td><td></td><td class="s">=item *</td></tr>
<tr><td class="h"><a name="1298"></a>1298</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1299"></a>1299</td><td></td><td></td><td></td><td></td><td class="s">L&lt;freezethaw|CGI::Session::Serialize::freezethaw&gt; - serializes data using L&lt;FreezeThaw&gt;. Requires L&lt;FreezeThaw&gt;.</td></tr>
<tr><td class="h"><a name="1300"></a>1300</td><td></td><td></td><td></td><td></td><td class="s">Full name: B&lt;CGI::Session::Serialize::freezethaw&gt;</td></tr>
<tr><td class="h"><a name="1301"></a>1301</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1302"></a>1302</td><td></td><td></td><td></td><td></td><td class="s">=item *</td></tr>
<tr><td class="h"><a name="1303"></a>1303</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1304"></a>1304</td><td></td><td></td><td></td><td></td><td class="s">L&lt;yaml|CGI::Session::Serialize::yaml&gt; - serializes data using YAML. Requires L&lt;YAML&gt; or L&lt;YAML::Syck&gt;.</td></tr>
<tr><td class="h"><a name="1305"></a>1305</td><td></td><td></td><td></td><td></td><td class="s">Full name: B&lt;CGI::Session::Serialize::yaml&gt;</td></tr>
<tr><td class="h"><a name="1306"></a>1306</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1307"></a>1307</td><td></td><td></td><td></td><td></td><td class="s">=back</td></tr>
<tr><td class="h"><a name="1308"></a>1308</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1309"></a>1309</td><td></td><td></td><td></td><td></td><td class="s">=head2 ID GENERATORS</td></tr>
<tr><td class="h"><a name="1310"></a>1310</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1311"></a>1311</td><td></td><td></td><td></td><td></td><td class="s">The following ID generators are included in the standard distribution.</td></tr>
<tr><td class="h"><a name="1312"></a>1312</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1313"></a>1313</td><td></td><td></td><td></td><td></td><td class="s">=over 4</td></tr>
<tr><td class="h"><a name="1314"></a>1314</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1315"></a>1315</td><td></td><td></td><td></td><td></td><td class="s">=item *</td></tr>
<tr><td class="h"><a name="1316"></a>1316</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1317"></a>1317</td><td></td><td></td><td></td><td></td><td class="s">L&lt;md5|CGI::Session::ID::md5&gt; - generates 32 character long hexadecimal string. Requires L&lt;Digest::MD5|Digest::MD5&gt;.</td></tr>
<tr><td class="h"><a name="1318"></a>1318</td><td></td><td></td><td></td><td></td><td class="s">Full name: B&lt;CGI::Session::ID::md5&gt;.</td></tr>
<tr><td class="h"><a name="1319"></a>1319</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1320"></a>1320</td><td></td><td></td><td></td><td></td><td class="s">=item *</td></tr>
<tr><td class="h"><a name="1321"></a>1321</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1322"></a>1322</td><td></td><td></td><td></td><td></td><td class="s">L&lt;incr|CGI::Session::ID::incr&gt; - generates incremental session ids.</td></tr>
<tr><td class="h"><a name="1323"></a>1323</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1324"></a>1324</td><td></td><td></td><td></td><td></td><td class="s">=item *</td></tr>
<tr><td class="h"><a name="1325"></a>1325</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1326"></a>1326</td><td></td><td></td><td></td><td></td><td class="s">L&lt;static|CGI::Session::ID::static&gt; - generates static session ids. B&lt;CGI::Session::ID::static&gt;</td></tr>
<tr><td class="h"><a name="1327"></a>1327</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1328"></a>1328</td><td></td><td></td><td></td><td></td><td class="s">=back</td></tr>
<tr><td class="h"><a name="1329"></a>1329</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1330"></a>1330</td><td></td><td></td><td></td><td></td><td class="s">=head1 A Warning about Auto-flushing</td></tr>
<tr><td class="h"><a name="1331"></a>1331</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1332"></a>1332</td><td></td><td></td><td></td><td></td><td class="s">Auto-flushing can be unreliable for the following reasons. Explicit flushing</td></tr>
<tr><td class="h"><a name="1333"></a>1333</td><td></td><td></td><td></td><td></td><td class="s">after key session updates is recommended. </td></tr>
<tr><td class="h"><a name="1334"></a>1334</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1335"></a>1335</td><td></td><td></td><td></td><td></td><td class="s">=over 4</td></tr>
<tr><td class="h"><a name="1336"></a>1336</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1337"></a>1337</td><td></td><td></td><td></td><td></td><td class="s">=item If the C&lt;DBI&gt; handle goes out of scope before the session variable</td></tr>
<tr><td class="h"><a name="1338"></a>1338</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1339"></a>1339</td><td></td><td></td><td></td><td></td><td class="s">For database-stored sessions, if the C&lt;DBI&gt; handle has gone out of scope before</td></tr>
<tr><td class="h"><a name="1340"></a>1340</td><td></td><td></td><td></td><td></td><td class="s">the auto-flushing happens, auto-flushing will fail.</td></tr>
<tr><td class="h"><a name="1341"></a>1341</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1342"></a>1342</td><td></td><td></td><td></td><td></td><td class="s">=item Circular references</td></tr>
<tr><td class="h"><a name="1343"></a>1343</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1344"></a>1344</td><td></td><td></td><td></td><td></td><td class="s">If the calling code contains a circular reference, it's possible that your</td></tr>
<tr><td class="h"><a name="1345"></a>1345</td><td></td><td></td><td></td><td></td><td class="s">C&lt;CGI::Session&gt; object will not be destroyed until it is too late for</td></tr>
<tr><td class="h"><a name="1346"></a>1346</td><td></td><td></td><td></td><td></td><td class="s">auto-flushing to work. You can find circular references with a tool like</td></tr>
<tr><td class="h"><a name="1347"></a>1347</td><td></td><td></td><td></td><td></td><td class="s">L&lt;Devel::Cycle&gt;.</td></tr>
<tr><td class="h"><a name="1348"></a>1348</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1349"></a>1349</td><td></td><td></td><td></td><td></td><td class="s">In particular, these modules are known to contain circular references which</td></tr>
<tr><td class="h"><a name="1350"></a>1350</td><td></td><td></td><td></td><td></td><td class="s">lead to this problem:</td></tr>
<tr><td class="h"><a name="1351"></a>1351</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1352"></a>1352</td><td></td><td></td><td></td><td></td><td class="s">=over 4</td></tr>
<tr><td class="h"><a name="1353"></a>1353</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1354"></a>1354</td><td></td><td></td><td></td><td></td><td class="s">=item CGI::Application::Plugin::DebugScreen V 0.06</td></tr>
<tr><td class="h"><a name="1355"></a>1355</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1356"></a>1356</td><td></td><td></td><td></td><td></td><td class="s">=item CGI::Application::Plugin::ErrorPage before version 1.20</td></tr>
<tr><td class="h"><a name="1357"></a>1357</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1358"></a>1358</td><td></td><td></td><td></td><td></td><td class="s">=back</td></tr>
<tr><td class="h"><a name="1359"></a>1359</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1360"></a>1360</td><td></td><td></td><td></td><td></td><td class="s">=item Signal handlers</td></tr>
<tr><td class="h"><a name="1361"></a>1361</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1362"></a>1362</td><td></td><td></td><td></td><td></td><td class="s">If your application may receive signals, there is an increased chance that the</td></tr>
<tr><td class="h"><a name="1363"></a>1363</td><td></td><td></td><td></td><td></td><td class="s">signal will arrive after the session was updated but before it is auto-flushed</td></tr>
<tr><td class="h"><a name="1364"></a>1364</td><td></td><td></td><td></td><td></td><td class="s">at object destruction time.</td></tr>
<tr><td class="h"><a name="1365"></a>1365</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1366"></a>1366</td><td></td><td></td><td></td><td></td><td class="s">=back</td></tr>
<tr><td class="h"><a name="1367"></a>1367</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1368"></a>1368</td><td></td><td></td><td></td><td></td><td class="s">=head1 A Warning about UTF8</td></tr>
<tr><td class="h"><a name="1369"></a>1369</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1370"></a>1370</td><td></td><td></td><td></td><td></td><td class="s">You are strongly encouraged to refer to, at least, the first of these articles, for help with UTF8.</td></tr>
<tr><td class="h"><a name="1371"></a>1371</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1372"></a>1372</td><td></td><td></td><td></td><td></td><td class="s">L&lt;http://en.wikibooks.org/wiki/Perl_Programming/Unicode_UTF-8&gt;</td></tr>
<tr><td class="h"><a name="1373"></a>1373</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1374"></a>1374</td><td></td><td></td><td></td><td></td><td class="s">L&lt;http://perl.bristolbath.org/blog/lyle/2008/12/giving-cgiapplication-internationalization-i18n.html&gt;</td></tr>
<tr><td class="h"><a name="1375"></a>1375</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1376"></a>1376</td><td></td><td></td><td></td><td></td><td class="s">L&lt;http://metsankulma.homelinux.net/cgi-bin/l10n_example_4/main.cgi&gt;</td></tr>
<tr><td class="h"><a name="1377"></a>1377</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1378"></a>1378</td><td></td><td></td><td></td><td></td><td class="s">L&lt;http://rassie.org/archives/247&gt;</td></tr>
<tr><td class="h"><a name="1379"></a>1379</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1380"></a>1380</td><td></td><td></td><td></td><td></td><td class="s">L&lt;http://www.di-mgt.com.au/cryptoInternational2.html&gt;</td></tr>
<tr><td class="h"><a name="1381"></a>1381</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1382"></a>1382</td><td></td><td></td><td></td><td></td><td class="s">Briefly, these are the issues:</td></tr>
<tr><td class="h"><a name="1383"></a>1383</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1384"></a>1384</td><td></td><td></td><td></td><td></td><td class="s">=over 4</td></tr>
<tr><td class="h"><a name="1385"></a>1385</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1386"></a>1386</td><td></td><td></td><td></td><td></td><td class="s">=item The file containing the source code of your program</td></tr>
<tr><td class="h"><a name="1387"></a>1387</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1388"></a>1388</td><td></td><td></td><td></td><td></td><td class="s">Consider &quot;use utf8;&quot; or &quot;use encoding 'utf8';&quot;.</td></tr>
<tr><td class="h"><a name="1389"></a>1389</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1390"></a>1390</td><td></td><td></td><td></td><td></td><td class="s">=item Influencing the encoding of the program's input</td></tr>
<tr><td class="h"><a name="1391"></a>1391</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1392"></a>1392</td><td></td><td></td><td></td><td></td><td class="s">Use:</td></tr>
<tr><td class="h"><a name="1393"></a>1393</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1394"></a>1394</td><td></td><td></td><td></td><td></td><td class="s">    binmode STDIN, &quot;:encoding(utf8)&quot;;.</td></tr>
<tr><td class="h"><a name="1395"></a>1395</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1396"></a>1396</td><td></td><td></td><td></td><td></td><td class="s">    Of course, the program can get input from other sources, e.g. HTML template files, not just STDIN.</td></tr>
<tr><td class="h"><a name="1397"></a>1397</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1398"></a>1398</td><td></td><td></td><td></td><td></td><td class="s">=item Influencing the encoding of the program's output</td></tr>
<tr><td class="h"><a name="1399"></a>1399</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1400"></a>1400</td><td></td><td></td><td></td><td></td><td class="s">Use:</td></tr>
<tr><td class="h"><a name="1401"></a>1401</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1402"></a>1402</td><td></td><td></td><td></td><td></td><td class="s">    binmode STDOUT, &quot;:encoding(utf8)&quot;;</td></tr>
<tr><td class="h"><a name="1403"></a>1403</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1404"></a>1404</td><td></td><td></td><td></td><td></td><td class="s">    When using CGI.pm, you can use $q-&gt;charset('UTF-8'). This is the same as passing 'UTF-8' to CGI's C&lt;header()&gt; method.</td></tr>
<tr><td class="h"><a name="1405"></a>1405</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1406"></a>1406</td><td></td><td></td><td></td><td></td><td class="s">    Alternately, when using CGI::Session, you can use $session-&gt;header(charset =&gt; 'utf-8'), which will be</td></tr>
<tr><td class="h"><a name="1407"></a>1407</td><td></td><td></td><td></td><td></td><td class="s">    passed to the query object's C&lt;header()&gt; method. Clearly this is preferable when the query object might not be</td></tr>
<tr><td class="h"><a name="1408"></a>1408</td><td></td><td></td><td></td><td></td><td class="s">    of type CGI.</td></tr>
<tr><td class="h"><a name="1409"></a>1409</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1410"></a>1410</td><td></td><td></td><td></td><td></td><td class="s">    See L&lt;/header()&gt; for a fuller discussion of the use of the C&lt;header()&gt; method in conjunction with cookies.</td></tr>
<tr><td class="h"><a name="1411"></a>1411</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1412"></a>1412</td><td></td><td></td><td></td><td></td><td class="s">=back</td></tr>
<tr><td class="h"><a name="1413"></a>1413</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1414"></a>1414</td><td></td><td></td><td></td><td></td><td class="s">=head1 TRANSLATIONS</td></tr>
<tr><td class="h"><a name="1415"></a>1415</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1416"></a>1416</td><td></td><td></td><td></td><td></td><td class="s">This document is also available in Japanese.</td></tr>
<tr><td class="h"><a name="1417"></a>1417</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1418"></a>1418</td><td></td><td></td><td></td><td></td><td class="s">=over 4</td></tr>
<tr><td class="h"><a name="1419"></a>1419</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1420"></a>1420</td><td></td><td></td><td></td><td></td><td class="s">=item o</td></tr>
<tr><td class="h"><a name="1421"></a>1421</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1422"></a>1422</td><td></td><td></td><td></td><td></td><td class="s">Translation based on 4.14: http://digit.que.ne.jp/work/index.cgi?Perldoc/ja</td></tr>
<tr><td class="h"><a name="1423"></a>1423</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1424"></a>1424</td><td></td><td></td><td></td><td></td><td class="s">=item o</td></tr>
<tr><td class="h"><a name="1425"></a>1425</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1426"></a>1426</td><td></td><td></td><td></td><td></td><td class="s">Translation based on 3.11, including Cookbook and Tutorial: http://perldoc.jp/docs/modules/CGI-Session-3.11/</td></tr>
<tr><td class="h"><a name="1427"></a>1427</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1428"></a>1428</td><td></td><td></td><td></td><td></td><td class="s">=back</td></tr>
<tr><td class="h"><a name="1429"></a>1429</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1430"></a>1430</td><td></td><td></td><td></td><td></td><td class="s">=head1 CREDITS</td></tr>
<tr><td class="h"><a name="1431"></a>1431</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1432"></a>1432</td><td></td><td></td><td></td><td></td><td class="s">CGI::Session evolved to what it is today with the help of following developers. The list doesn't follow any strict order, but somewhat chronological. Specifics can be found in F&lt;Changes&gt; file</td></tr>
<tr><td class="h"><a name="1433"></a>1433</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1434"></a>1434</td><td></td><td></td><td></td><td></td><td class="s">=over 4</td></tr>
<tr><td class="h"><a name="1435"></a>1435</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1436"></a>1436</td><td></td><td></td><td></td><td></td><td class="s">=item Andy Lester</td></tr>
<tr><td class="h"><a name="1437"></a>1437</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1438"></a>1438</td><td></td><td></td><td></td><td></td><td class="s">=item Brian King E&lt;lt&gt;mrbbking@mac.comE&lt;gt&gt;</td></tr>
<tr><td class="h"><a name="1439"></a>1439</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1440"></a>1440</td><td></td><td></td><td></td><td></td><td class="s">=item Olivier Dragon E&lt;lt&gt;dragon@shadnet.shad.caE&lt;gt&gt;</td></tr>
<tr><td class="h"><a name="1441"></a>1441</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1442"></a>1442</td><td></td><td></td><td></td><td></td><td class="s">=item Adam Jacob E&lt;lt&gt;adam@sysadminsith.orgE&lt;gt&gt;</td></tr>
<tr><td class="h"><a name="1443"></a>1443</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1444"></a>1444</td><td></td><td></td><td></td><td></td><td class="s">=item Igor Plisco E&lt;lt&gt;igor@plisco.ruE&lt;gt&gt;</td></tr>
<tr><td class="h"><a name="1445"></a>1445</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1446"></a>1446</td><td></td><td></td><td></td><td></td><td class="s">=item Mark Stosberg</td></tr>
<tr><td class="h"><a name="1447"></a>1447</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1448"></a>1448</td><td></td><td></td><td></td><td></td><td class="s">=item Matt LeBlanc E&lt;lt&gt;mleblanc@cpan.orgE&lt;gt&gt;</td></tr>
<tr><td class="h"><a name="1449"></a>1449</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1450"></a>1450</td><td></td><td></td><td></td><td></td><td class="s">=item Shawn Sorichetti</td></tr>
<tr><td class="h"><a name="1451"></a>1451</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1452"></a>1452</td><td></td><td></td><td></td><td></td><td class="s">=item Ron Savage</td></tr>
<tr><td class="h"><a name="1453"></a>1453</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1454"></a>1454</td><td></td><td></td><td></td><td></td><td class="s">=item Rhesa Rozendaal</td></tr>
<tr><td class="h"><a name="1455"></a>1455</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1456"></a>1456</td><td></td><td></td><td></td><td></td><td class="s">He suggested Devel::Cycle to help debugging.</td></tr>
<tr><td class="h"><a name="1457"></a>1457</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1458"></a>1458</td><td></td><td></td><td></td><td></td><td class="s">=back</td></tr>
<tr><td class="h"><a name="1459"></a>1459</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1460"></a>1460</td><td></td><td></td><td></td><td></td><td class="s">Also, many people on the CGI::Application and CGI::Session mailing lists have contributed ideas and</td></tr>
<tr><td class="h"><a name="1461"></a>1461</td><td></td><td></td><td></td><td></td><td class="s">suggestions, and battled publicly with bugs, all of which has helped.</td></tr>
<tr><td class="h"><a name="1462"></a>1462</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1463"></a>1463</td><td></td><td></td><td></td><td></td><td class="s">=head1 COPYRIGHT</td></tr>
<tr><td class="h"><a name="1464"></a>1464</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1465"></a>1465</td><td></td><td></td><td></td><td></td><td class="s">Copyright (C) 2001-2005 Sherzod Ruzmetov E&lt;lt&gt;sherzodr@cpan.orgE&lt;gt&gt;. All rights reserved.</td></tr>
<tr><td class="h"><a name="1466"></a>1466</td><td></td><td></td><td></td><td></td><td class="s">This library is free software. You can modify and or distribute it under the same terms as Perl itself.</td></tr>
<tr><td class="h"><a name="1467"></a>1467</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1468"></a>1468</td><td></td><td></td><td></td><td></td><td class="s">=head1 PUBLIC CODE REPOSITORY</td></tr>
<tr><td class="h"><a name="1469"></a>1469</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1470"></a>1470</td><td></td><td></td><td></td><td></td><td class="s">You can see what the developers have been up to since the last release by</td></tr>
<tr><td class="h"><a name="1471"></a>1471</td><td></td><td></td><td></td><td></td><td class="s">checking out the code repository. You can browse the git repository from here:</td></tr>
<tr><td class="h"><a name="1472"></a>1472</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1473"></a>1473</td><td></td><td></td><td></td><td></td><td class="s"> http://github.com/cromedome/cgi-session/tree/master</td></tr>
<tr><td class="h"><a name="1474"></a>1474</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1475"></a>1475</td><td></td><td></td><td></td><td></td><td class="s">Or check out the code with:</td></tr>
<tr><td class="h"><a name="1476"></a>1476</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1477"></a>1477</td><td></td><td></td><td></td><td></td><td class="s"> git clone git://github.com/cromedome/cgi-session.git</td></tr>
<tr><td class="h"><a name="1478"></a>1478</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1479"></a>1479</td><td></td><td></td><td></td><td></td><td class="s">=head1 SUPPORT</td></tr>
<tr><td class="h"><a name="1480"></a>1480</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1481"></a>1481</td><td></td><td></td><td></td><td></td><td class="s">If you need help using CGI::Session, ask on the mailing list. You can ask the</td></tr>
<tr><td class="h"><a name="1482"></a>1482</td><td></td><td></td><td></td><td></td><td class="s">list by sending your questions to cgi-session-user@lists.sourceforge.net .</td></tr>
<tr><td class="h"><a name="1483"></a>1483</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1484"></a>1484</td><td></td><td></td><td></td><td></td><td class="s">You can subscribe to the mailing list at https://lists.sourceforge.net/lists/listinfo/cgi-session-user .</td></tr>
<tr><td class="h"><a name="1485"></a>1485</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1486"></a>1486</td><td></td><td></td><td></td><td></td><td class="s">Bug reports can be submitted at http://rt.cpan.org/NoAuth/ReportBug.html?Queue=CGI-Session</td></tr>
<tr><td class="h"><a name="1487"></a>1487</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1488"></a>1488</td><td></td><td></td><td></td><td></td><td class="s">=head1 AUTHOR</td></tr>
<tr><td class="h"><a name="1489"></a>1489</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1490"></a>1490</td><td></td><td></td><td></td><td></td><td class="s">Sherzod Ruzmetov C&lt;sherzodr@cpan.org&gt;</td></tr>
<tr><td class="h"><a name="1491"></a>1491</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1492"></a>1492</td><td></td><td></td><td></td><td></td><td class="s">Mark Stosberg became a co-maintainer during the development of 4.0. C&lt;markstos@cpan.org&gt;.</td></tr>
<tr><td class="h"><a name="1493"></a>1493</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1494"></a>1494</td><td></td><td></td><td></td><td></td><td class="s">Ron Savage became a co-maintainer during the development of 4.30. C&lt;rsavage@cpan.org&gt;.</td></tr>
<tr><td class="h"><a name="1495"></a>1495</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1496"></a>1496</td><td></td><td></td><td></td><td></td><td class="s">If you would like support, ask on the mailing list as describe above. The</td></tr>
<tr><td class="h"><a name="1497"></a>1497</td><td></td><td></td><td></td><td></td><td class="s">maintainers and other users are subscribed to it. </td></tr>
<tr><td class="h"><a name="1498"></a>1498</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1499"></a>1499</td><td></td><td></td><td></td><td></td><td class="s">=head1 SEE ALSO </td></tr>
<tr><td class="h"><a name="1500"></a>1500</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1501"></a>1501</td><td></td><td></td><td></td><td></td><td class="s">To learn more both about the philosophy and CGI::Session programming style,</td></tr>
<tr><td class="h"><a name="1502"></a>1502</td><td></td><td></td><td></td><td></td><td class="s">consider the following:</td></tr>
<tr><td class="h"><a name="1503"></a>1503</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1504"></a>1504</td><td></td><td></td><td></td><td></td><td class="s">=over 4</td></tr>
<tr><td class="h"><a name="1505"></a>1505</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1506"></a>1506</td><td></td><td></td><td></td><td></td><td class="s">=item *</td></tr>
<tr><td class="h"><a name="1507"></a>1507</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1508"></a>1508</td><td></td><td></td><td></td><td></td><td class="s">L&lt;CGI::Session::Tutorial|CGI::Session::Tutorial&gt; - extended CGI::Session manual. Also includes library architecture and driver specifications.</td></tr>
<tr><td class="h"><a name="1509"></a>1509</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1510"></a>1510</td><td></td><td></td><td></td><td></td><td class="s">=item *</td></tr>
<tr><td class="h"><a name="1511"></a>1511</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1512"></a>1512</td><td></td><td></td><td></td><td></td><td class="s">We also provide mailing lists for CGI::Session users. To subscribe to the list</td></tr>
<tr><td class="h"><a name="1513"></a>1513</td><td></td><td></td><td></td><td></td><td class="s">or browse the archives visit</td></tr>
<tr><td class="h"><a name="1514"></a>1514</td><td></td><td></td><td></td><td></td><td class="s">https://lists.sourceforge.net/lists/listinfo/cgi-session-user</td></tr>
<tr><td class="h"><a name="1515"></a>1515</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1516"></a>1516</td><td></td><td></td><td></td><td></td><td class="s">=item * B&lt;RFC 2109&gt; - The primary spec for cookie handing in use, defining the  &quot;Cookie:&quot; and &quot;Set-Cookie:&quot; HTTP headers.</td></tr>
<tr><td class="h"><a name="1517"></a>1517</td><td></td><td></td><td></td><td></td><td class="s">Available at L&lt;http://www.ietf.org/rfc/rfc2109.txt&gt;. A newer spec, RFC 2965 is meant to obsolete it with &quot;Set-Cookie2&quot; </td></tr>
<tr><td class="h"><a name="1518"></a>1518</td><td></td><td></td><td></td><td></td><td class="s">and &quot;Cookie2&quot; headers, but even of 2008, the newer spec is not widely supported. See L&lt;http://www.ietf.org/rfc/rfc2965.txt&gt;</td></tr>
<tr><td class="h"><a name="1519"></a>1519</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1520"></a>1520</td><td></td><td></td><td></td><td></td><td class="s">=item *</td></tr>
<tr><td class="h"><a name="1521"></a>1521</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1522"></a>1522</td><td></td><td></td><td></td><td></td><td class="s">L&lt;Apache::Session|Apache::Session&gt; - an alternative to CGI::Session.</td></tr>
<tr><td class="h"><a name="1523"></a>1523</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1524"></a>1524</td><td></td><td></td><td></td><td></td><td class="s">=back</td></tr>
<tr><td class="h"><a name="1525"></a>1525</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1526"></a>1526</td><td></td><td></td><td></td><td></td><td class="s">=cut</td></tr>
<tr><td class="h"><a name="1527"></a>1527</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="1528"></a>1528</td><td class="c3">1</td><td class="c0"><span title="Avg 8Âµs">8Âµs</span></td><td></td><td></td><td class="s">1;</td></tr>
<tr><td class="h"><a name="1529"></a>1529</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="s"><a name=""></a>&nbsp;</td><td></td><td></td><td></td><td></td><td class="s"></td></tr>
<tr><td class="h"><a name="CGI__Session__CORE_match"></a></td><td></td><td></td><td></td><td></td><td class="s"><div class="calls"><div class="calls_in"># spent 24Âµs within CGI::Session::CORE:match which was called 7 times, avg 3Âµs/call:
# 6 times (22Âµs+0s) by CGI::Session::_load_pluggables at <a href="CGI-Session-pm-32-line.html#809">line 809</a>, avg 4Âµs/call
#    once (1Âµs+0s) by CGI::Session::param at <a href="CGI-Session-pm-32-line.html#306">line 306</a></div></div>sub CGI::Session::CORE:match; # opcode<br />        </td></tr>
</tbody></table></div>
        
            <script type="text/javascript"> $(document).ready(function() { 

        $("#subs_table").tablesorter({
            sortList: [[3,1]],
            headers: {
                3: { sorter: 'fmt_time' },
                4: { sorter: 'fmt_time' }
            }
        });
    
 } ); </script>
        
        <div class="footer">Report produced by the
        <a href="http://metacpan.org/release/Devel-NYTProf/">NYTProf 6.02</a>
        Perl profiler, developed by
        <a href="http://www.linkedin.com/in/timbunce">Tim Bunce</a> and
        <a href="http://code.nytimes.com">Adam Kaplan</a>.
        </div>
        <br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
    </body></html>